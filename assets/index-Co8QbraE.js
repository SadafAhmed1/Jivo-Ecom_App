var S5=Object.defineProperty;var rw=e=>{throw TypeError(e)};var E5=(e,t,r)=>t in e?S5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ae=(e,t,r)=>E5(e,typeof t!="symbol"?t+"":t,r),dx=(e,t,r)=>t.has(e)||rw("Cannot "+r);var ne=(e,t,r)=>(dx(e,t,"read from private field"),r?r.call(e):t.get(e)),xt=(e,t,r)=>t.has(e)?rw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,s)=>(dx(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Tt=(e,t,r)=>(dx(e,t,"access private method"),r);var xh=(e,t,r,s)=>({set _(a){nt(e,t,a,r)},get _(){return ne(e,t,s)}});function T5(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function PT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DT={exports:{}},K0={},OT={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=Symbol.for("react.element"),C5=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),F5=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),R5=Symbol.for("react.memo"),M5=Symbol.for("react.lazy"),nw=Symbol.iterator;function L5(e){return e===null||typeof e!="object"?null:(e=nw&&e[nw]||e["@@iterator"],typeof e=="function"?e:null)}var FT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IT=Object.assign,RT={};function yd(e,t,r){this.props=e,this.context=t,this.refs=RT,this.updater=r||FT}yd.prototype.isReactComponent={};yd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MT(){}MT.prototype=yd.prototype;function _y(e,t,r){this.props=e,this.context=t,this.refs=RT,this.updater=r||FT}var wy=_y.prototype=new MT;wy.constructor=_y;IT(wy,yd.prototype);wy.isPureReactComponent=!0;var sw=Array.isArray,LT=Object.prototype.hasOwnProperty,Ny={current:null},BT={key:!0,ref:!0,__self:!0,__source:!0};function UT(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)LT.call(t,s)&&!BT.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:If,type:e,key:i,ref:o,props:a,_owner:Ny.current}}function B5(e,t){return{$$typeof:If,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function by(e){return typeof e=="object"&&e!==null&&e.$$typeof===If}function U5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aw=/\/+/g;function ux(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U5(""+e.key):t.toString(36)}function Xh(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case If:case C5:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+ux(o,0):s,sw(a)?(r="",e!=null&&(r=e.replace(aw,"$&/")+"/"),Xh(a,t,r,"",function(d){return d})):a!=null&&(by(a)&&(a=B5(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(aw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",sw(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+ux(i,l);o+=Xh(i,t,r,c,a)}else if(c=L5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+ux(i,l++),o+=Xh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(e,t,r){if(e==null)return e;var s=[],a=0;return Xh(e,s,"","",function(i){return t.call(r,i,a++)}),s}function V5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qn={current:null},Zh={transition:null},$5={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:Ny};function VT(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:gh,forEach:function(e,t,r){gh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gh(e,function(){t++}),t},toArray:function(e){return gh(e,function(t){return t})||[]},only:function(e){if(!by(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ft.Component=yd;Ft.Fragment=k5;Ft.Profiler=P5;Ft.PureComponent=_y;Ft.StrictMode=A5;Ft.Suspense=I5;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$5;Ft.act=VT;Ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=IT({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ny.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)LT.call(t,c)&&!BT.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:If,type:e.type,key:a,ref:i,props:s,_owner:o}};Ft.createContext=function(e){return e={$$typeof:O5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D5,_context:e},e.Consumer=e};Ft.createElement=UT;Ft.createFactory=function(e){var t=UT.bind(null,e);return t.type=e,t};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(e){return{$$typeof:F5,render:e}};Ft.isValidElement=by;Ft.lazy=function(e){return{$$typeof:M5,_payload:{_status:-1,_result:e},_init:V5}};Ft.memo=function(e,t){return{$$typeof:R5,type:e,compare:t===void 0?null:t}};Ft.startTransition=function(e){var t=Zh.transition;Zh.transition={};try{e()}finally{Zh.transition=t}};Ft.unstable_act=VT;Ft.useCallback=function(e,t){return Qn.current.useCallback(e,t)};Ft.useContext=function(e){return Qn.current.useContext(e)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(e){return Qn.current.useDeferredValue(e)};Ft.useEffect=function(e,t){return Qn.current.useEffect(e,t)};Ft.useId=function(){return Qn.current.useId()};Ft.useImperativeHandle=function(e,t,r){return Qn.current.useImperativeHandle(e,t,r)};Ft.useInsertionEffect=function(e,t){return Qn.current.useInsertionEffect(e,t)};Ft.useLayoutEffect=function(e,t){return Qn.current.useLayoutEffect(e,t)};Ft.useMemo=function(e,t){return Qn.current.useMemo(e,t)};Ft.useReducer=function(e,t,r){return Qn.current.useReducer(e,t,r)};Ft.useRef=function(e){return Qn.current.useRef(e)};Ft.useState=function(e){return Qn.current.useState(e)};Ft.useSyncExternalStore=function(e,t,r){return Qn.current.useSyncExternalStore(e,t,r)};Ft.useTransition=function(){return Qn.current.useTransition()};Ft.version="18.3.1";OT.exports=Ft;var x=OT.exports;const wt=PT(x),$T=T5({__proto__:null,default:wt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=x,q5=Symbol.for("react.element"),W5=Symbol.for("react.fragment"),H5=Object.prototype.hasOwnProperty,K5=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G5={key:!0,ref:!0,__self:!0,__source:!0};function zT(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)H5.call(t,s)&&!G5.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:q5,type:e,key:i,ref:o,props:a,_owner:K5.current}}K0.Fragment=W5;K0.jsx=zT;K0.jsxs=zT;DT.exports=K0;var n=DT.exports,qT={exports:{}},Ds={},WT={exports:{}},HT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,oe){var ee=q.length;q.push(oe);e:for(;0<ee;){var we=ee-1>>>1,P=q[we];if(0<a(P,oe))q[we]=oe,q[ee]=P,ee=we;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var oe=q[0],ee=q.pop();if(ee!==oe){q[0]=ee;e:for(var we=0,P=q.length,F=P>>>1;we<F;){var U=2*(we+1)-1,j=q[U],M=U+1,J=q[M];if(0>a(j,ee))M<P&&0>a(J,j)?(q[we]=J,q[M]=ee,we=M):(q[we]=j,q[U]=ee,we=U);else if(M<P&&0>a(J,ee))q[we]=J,q[M]=ee,we=M;else break e}}return oe}function a(q,oe){var ee=q.sortIndex-oe.sortIndex;return ee!==0?ee:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var oe=r(d);oe!==null;){if(oe.callback===null)s(d);else if(oe.startTime<=q)s(d),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=r(d)}}function N(q){if(m=!1,_(q),!y)if(r(c)!==null)y=!0,se(T);else{var oe=r(d);oe!==null&&ce(N,oe.startTime-q)}}function T(q,oe){y=!1,m&&(m=!1,w(I),I=-1),p=!0;var ee=h;try{for(_(oe),f=r(c);f!==null&&(!(f.expirationTime>oe)||q&&!R());){var we=f.callback;if(typeof we=="function"){f.callback=null,h=f.priorityLevel;var P=we(f.expirationTime<=oe);oe=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&s(c),_(oe)}else s(c);f=r(c)}if(f!==null)var F=!0;else{var U=r(d);U!==null&&ce(N,U.startTime-oe),F=!1}return F}finally{f=null,h=ee,p=!1}}var S=!1,b=null,I=-1,D=5,C=-1;function R(){return!(e.unstable_now()-C<D)}function k(){if(b!==null){var q=e.unstable_now();C=q;var oe=!0;try{oe=b(!0,q)}finally{oe?L():(S=!1,b=null)}}else S=!1}var L;if(typeof v=="function")L=function(){v(k)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,fe=ie.port2;ie.port1.onmessage=k,L=function(){fe.postMessage(null)}}else L=function(){g(k,0)};function se(q){b=q,S||(S=!0,L())}function ce(q,oe){I=g(function(){q(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,se(T))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var ee=h;h=oe;try{return q()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=h;h=q;try{return oe()}finally{h=ee}},e.unstable_scheduleCallback=function(q,oe,ee){var we=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ee+P,q={id:u++,callback:oe,priorityLevel:q,startTime:ee,expirationTime:P,sortIndex:-1},ee>we?(q.sortIndex=ee,t(d,q),r(c)===null&&q===r(d)&&(m?(w(I),I=-1):m=!0,ce(N,ee-we))):(q.sortIndex=P,t(c,q),y||p||(y=!0,se(T))),q},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(q){var oe=h;return function(){var ee=h;h=oe;try{return q.apply(this,arguments)}finally{h=ee}}}})(HT);WT.exports=HT;var Q5=WT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5=x,ks=Q5;function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KT=new Set,Ru={};function Ol(e,t){Xc(e,t),Xc(e+"Capture",t)}function Xc(e,t){for(Ru[e]=t,e=0;e<t.length;e++)KT.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jg=Object.prototype.hasOwnProperty,X5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},ow={};function Z5(e){return jg.call(ow,e)?!0:jg.call(iw,e)?!1:X5.test(e)?ow[e]=!0:(iw[e]=!0,!1)}function J5(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eM(e,t,r,s){if(t===null||typeof t>"u"||J5(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yn(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new Yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new Yn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new Yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new Yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new Yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new Yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new Yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new Yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new Yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function Sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jy,Sy);wn[t]=new Yn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jy,Sy);wn[t]=new Yn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jy,Sy);wn[t]=new Yn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new Yn(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new Yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ey(e,t,r,s){var a=wn.hasOwnProperty(t)?wn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eM(t,r,a,s)&&(r=null),s||a===null?Z5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ii=Y5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),nc=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),QT=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Tg=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),YT=Symbol.for("react.offscreen"),lw=Symbol.iterator;function Vd(e){return e===null||typeof e!="object"?null:(e=lw&&e[lw]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,fx;function au(e){if(fx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fx=t&&t[1]||""}return`
`+fx+e}var hx=!1;function mx(e,t){if(!e||hx)return"";hx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{hx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?au(e):""}function tM(e){switch(e.tag){case 5:return au(e.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return e=mx(e.type,!1),e;case 11:return e=mx(e.type.render,!1),e;case 1:return e=mx(e.type,!0),e;default:return""}}function Cg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sc:return"Fragment";case nc:return"Portal";case Sg:return"Profiler";case Ty:return"StrictMode";case Eg:return"Suspense";case Tg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QT:return(e.displayName||"Context")+".Consumer";case GT:return(e._context.displayName||"Context")+".Provider";case Cy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ky:return t=e.displayName||null,t!==null?t:Cg(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return Cg(e(t))}catch{}}return null}function rM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cg(t);case 8:return t===Ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nM(e){var t=XT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yh(e){e._valueTracker||(e._valueTracker=nM(e))}function ZT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=XT(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function _m(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kg(e,t){var r=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cw(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=yo(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function JT(e,t){t=t.checked,t!=null&&Ey(e,"checked",t,!1)}function Ag(e,t){JT(e,t);var r=yo(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pg(e,t.type,yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pg(e,t,r){(t!=="number"||_m(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var iu=Array.isArray;function gc(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+yo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Dg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Be(92));if(iu(r)){if(1<r.length)throw Error(Be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yo(r)}}function eC(e,t){var r=yo(t.value),s=yo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function fw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Og(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _h,rC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_h.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sM=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(e){sM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xu[t]=xu[e]})});function nC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xu.hasOwnProperty(e)&&xu[e]?(""+t).trim():t+"px"}function sC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=nC(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var aM=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(e,t){if(t){if(aM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function Ig(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Ay(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mg=null,vc=null,yc=null;function hw(e){if(e=Lf(e)){if(typeof Mg!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=Z0(t),Mg(e.stateNode,e.type,t))}}function aC(e){vc?yc?yc.push(e):yc=[e]:vc=e}function iC(){if(vc){var e=vc,t=yc;if(yc=vc=null,hw(e),t)for(e=0;e<t.length;e++)hw(t[e])}}function oC(e,t){return e(t)}function lC(){}var px=!1;function cC(e,t,r){if(px)return e(t,r);px=!0;try{return oC(e,t,r)}finally{px=!1,(vc!==null||yc!==null)&&(lC(),iC())}}function Lu(e,t){var r=e.stateNode;if(r===null)return null;var s=Z0(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Be(231,t,typeof r));return r}var Lg=!1;if(bi)try{var $d={};Object.defineProperty($d,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{Lg=!1}function iM(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var gu=!1,wm=null,Nm=!1,Bg=null,oM={onError:function(e){gu=!0,wm=e}};function lM(e,t,r,s,a,i,o,l,c){gu=!1,wm=null,iM.apply(oM,arguments)}function cM(e,t,r,s,a,i,o,l,c){if(lM.apply(this,arguments),gu){if(gu){var d=wm;gu=!1,wm=null}else throw Error(Be(198));Nm||(Nm=!0,Bg=d)}}function Fl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mw(e){if(Fl(e)!==e)throw Error(Be(188))}function dM(e){var t=e.alternate;if(!t){if(t=Fl(e),t===null)throw Error(Be(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return mw(a),e;if(i===s)return mw(a),t;i=i.sibling}throw Error(Be(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Be(189))}}if(r.alternate!==s)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?e:t}function uC(e){return e=dM(e),e!==null?fC(e):null}function fC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fC(e);if(t!==null)return t;e=e.sibling}return null}var hC=ks.unstable_scheduleCallback,pw=ks.unstable_cancelCallback,uM=ks.unstable_shouldYield,fM=ks.unstable_requestPaint,Dr=ks.unstable_now,hM=ks.unstable_getCurrentPriorityLevel,Py=ks.unstable_ImmediatePriority,mC=ks.unstable_UserBlockingPriority,bm=ks.unstable_NormalPriority,mM=ks.unstable_LowPriority,pC=ks.unstable_IdlePriority,G0=null,Wa=null;function pM(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(G0,e,void 0,(e.current.flags&128)===128)}catch{}}var wa=Math.clz32?Math.clz32:vM,xM=Math.log,gM=Math.LN2;function vM(e){return e>>>=0,e===0?32:31-(xM(e)/gM|0)|0}var wh=64,Nh=4194304;function ou(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jm(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=ou(l):(i&=o,i!==0&&(s=ou(i)))}else o=r&~a,o!==0?s=ou(o):i!==0&&(s=ou(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-wa(t),a=1<<r,s|=e[r],t&=~a;return s}function yM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _M(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=yM(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ug(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xC(){var e=wh;return wh<<=1,!(wh&4194240)&&(wh=64),e}function xx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wa(t),e[t]=r}function wM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wa(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Dy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-wa(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Xt=0;function gC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vC,Oy,yC,_C,wC,Vg=!1,bh=[],uo=null,fo=null,ho=null,Bu=new Map,Uu=new Map,Ki=[],NM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Bu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(t.pointerId)}}function zd(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Lf(t),t!==null&&Oy(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bM(e,t,r,s,a){switch(t){case"focusin":return uo=zd(uo,e,t,r,s,a),!0;case"dragenter":return fo=zd(fo,e,t,r,s,a),!0;case"mouseover":return ho=zd(ho,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Bu.set(i,zd(Bu.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Uu.set(i,zd(Uu.get(i)||null,e,t,r,s,a)),!0}return!1}function NC(e){var t=Yo(e.target);if(t!==null){var r=Fl(t);if(r!==null){if(t=r.tag,t===13){if(t=dC(r),t!==null){e.blockedOn=t,wC(e.priority,function(){yC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$g(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Rg=s,r.target.dispatchEvent(s),Rg=null}else return t=Lf(r),t!==null&&Oy(t),e.blockedOn=r,!1;t.shift()}return!0}function gw(e,t,r){Jh(e)&&r.delete(t)}function jM(){Vg=!1,uo!==null&&Jh(uo)&&(uo=null),fo!==null&&Jh(fo)&&(fo=null),ho!==null&&Jh(ho)&&(ho=null),Bu.forEach(gw),Uu.forEach(gw)}function qd(e,t){e.blockedOn===t&&(e.blockedOn=null,Vg||(Vg=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,jM)))}function Vu(e){function t(a){return qd(a,e)}if(0<bh.length){qd(bh[0],e);for(var r=1;r<bh.length;r++){var s=bh[r];s.blockedOn===e&&(s.blockedOn=null)}}for(uo!==null&&qd(uo,e),fo!==null&&qd(fo,e),ho!==null&&qd(ho,e),Bu.forEach(t),Uu.forEach(t),r=0;r<Ki.length;r++)s=Ki[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ki.length&&(r=Ki[0],r.blockedOn===null);)NC(r),r.blockedOn===null&&Ki.shift()}var _c=Ii.ReactCurrentBatchConfig,Sm=!0;function SM(e,t,r,s){var a=Xt,i=_c.transition;_c.transition=null;try{Xt=1,Fy(e,t,r,s)}finally{Xt=a,_c.transition=i}}function EM(e,t,r,s){var a=Xt,i=_c.transition;_c.transition=null;try{Xt=4,Fy(e,t,r,s)}finally{Xt=a,_c.transition=i}}function Fy(e,t,r,s){if(Sm){var a=$g(e,t,r,s);if(a===null)Ex(e,t,s,Em,r),xw(e,s);else if(bM(a,e,t,r,s))s.stopPropagation();else if(xw(e,s),t&4&&-1<NM.indexOf(e)){for(;a!==null;){var i=Lf(a);if(i!==null&&vC(i),i=$g(e,t,r,s),i===null&&Ex(e,t,s,Em,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Ex(e,t,s,null,r)}}var Em=null;function $g(e,t,r,s){if(Em=null,e=Ay(s),e=Yo(e),e!==null)if(t=Fl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Em=e,null}function bC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hM()){case Py:return 1;case mC:return 4;case bm:case mM:return 16;case pC:return 536870912;default:return 16}default:return 16}}var ao=null,Iy=null,em=null;function jC(){if(em)return em;var e,t=Iy,r=t.length,s,a="value"in ao?ao.value:ao.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return em=a.slice(e,1<s?1-s:void 0)}function tm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jh(){return!0}function vw(){return!1}function Os(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jh:vw,this.isPropagationStopped=vw,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),t}var _d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=Os(_d),Mf=_r({},_d,{view:0,detail:0}),TM=Os(Mf),gx,vx,Wd,Q0=_r({},Mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wd&&(Wd&&e.type==="mousemove"?(gx=e.screenX-Wd.screenX,vx=e.screenY-Wd.screenY):vx=gx=0,Wd=e),gx)},movementY:function(e){return"movementY"in e?e.movementY:vx}}),yw=Os(Q0),CM=_r({},Q0,{dataTransfer:0}),kM=Os(CM),AM=_r({},Mf,{relatedTarget:0}),yx=Os(AM),PM=_r({},_d,{animationName:0,elapsedTime:0,pseudoElement:0}),DM=Os(PM),OM=_r({},_d,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FM=Os(OM),IM=_r({},_d,{data:0}),_w=Os(IM),RM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LM[e])?!!t[e]:!1}function My(){return BM}var UM=_r({},Mf,{key:function(e){if(e.key){var t=RM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(e){return e.type==="keypress"?tm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VM=Os(UM),$M=_r({},Q0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ww=Os($M),zM=_r({},Mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),qM=Os(zM),WM=_r({},_d,{propertyName:0,elapsedTime:0,pseudoElement:0}),HM=Os(WM),KM=_r({},Q0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=Os(KM),QM=[9,13,27,32],Ly=bi&&"CompositionEvent"in window,vu=null;bi&&"documentMode"in document&&(vu=document.documentMode);var YM=bi&&"TextEvent"in window&&!vu,SC=bi&&(!Ly||vu&&8<vu&&11>=vu),Nw=" ",bw=!1;function EC(e,t){switch(e){case"keyup":return QM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ac=!1;function XM(e,t){switch(e){case"compositionend":return TC(t);case"keypress":return t.which!==32?null:(bw=!0,Nw);case"textInput":return e=t.data,e===Nw&&bw?null:e;default:return null}}function ZM(e,t){if(ac)return e==="compositionend"||!Ly&&EC(e,t)?(e=jC(),em=Iy=ao=null,ac=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SC&&t.locale!=="ko"?null:t.data;default:return null}}var JM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JM[e.type]:t==="textarea"}function CC(e,t,r,s){aC(s),t=Tm(t,"onChange"),0<t.length&&(r=new Ry("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var yu=null,$u=null;function eL(e){BC(e,0)}function Y0(e){var t=lc(e);if(ZT(t))return e}function tL(e,t){if(e==="change")return t}var kC=!1;if(bi){var _x;if(bi){var wx="oninput"in document;if(!wx){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),wx=typeof Sw.oninput=="function"}_x=wx}else _x=!1;kC=_x&&(!document.documentMode||9<document.documentMode)}function Ew(){yu&&(yu.detachEvent("onpropertychange",AC),$u=yu=null)}function AC(e){if(e.propertyName==="value"&&Y0($u)){var t=[];CC(t,$u,e,Ay(e)),cC(eL,t)}}function rL(e,t,r){e==="focusin"?(Ew(),yu=t,$u=r,yu.attachEvent("onpropertychange",AC)):e==="focusout"&&Ew()}function nL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Y0($u)}function sL(e,t){if(e==="click")return Y0(t)}function aL(e,t){if(e==="input"||e==="change")return Y0(t)}function iL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sa=typeof Object.is=="function"?Object.is:iL;function zu(e,t){if(Sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!jg.call(t,a)||!Sa(e[a],t[a]))return!1}return!0}function Tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cw(e,t){var r=Tw(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tw(r)}}function PC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DC(){for(var e=window,t=_m();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_m(e.document)}return t}function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oL(e){var t=DC(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PC(r.ownerDocument.documentElement,r)){if(s!==null&&By(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Cw(r,i);var o=Cw(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lL=bi&&"documentMode"in document&&11>=document.documentMode,ic=null,zg=null,_u=null,qg=!1;function kw(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qg||ic==null||ic!==_m(s)||(s=ic,"selectionStart"in s&&By(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_u&&zu(_u,s)||(_u=s,s=Tm(zg,"onSelect"),0<s.length&&(t=new Ry("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ic)))}function Sh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var oc={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Nx={},OC={};bi&&(OC=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function X0(e){if(Nx[e])return Nx[e];if(!oc[e])return e;var t=oc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OC)return Nx[e]=t[r];return e}var FC=X0("animationend"),IC=X0("animationiteration"),RC=X0("animationstart"),MC=X0("transitionend"),LC=new Map,Aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(e,t){LC.set(e,t),Ol(t,[e])}for(var bx=0;bx<Aw.length;bx++){var jx=Aw[bx],cL=jx.toLowerCase(),dL=jx[0].toUpperCase()+jx.slice(1);Io(cL,"on"+dL)}Io(FC,"onAnimationEnd");Io(IC,"onAnimationIteration");Io(RC,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(MC,"onTransitionEnd");Xc("onMouseEnter",["mouseout","mouseover"]);Xc("onMouseLeave",["mouseout","mouseover"]);Xc("onPointerEnter",["pointerout","pointerover"]);Xc("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uL=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function Pw(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,cM(s,t,void 0,e),e.currentTarget=null}function BC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Pw(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Pw(a,l,d),i=c}}}if(Nm)throw e=Bg,Nm=!1,Bg=null,e}function ir(e,t){var r=t[Qg];r===void 0&&(r=t[Qg]=new Set);var s=e+"__bubble";r.has(s)||(UC(t,e,2,!1),r.add(s))}function Sx(e,t,r){var s=0;t&&(s|=4),UC(r,e,s,t)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Eh]){e[Eh]=!0,KT.forEach(function(r){r!=="selectionchange"&&(uL.has(r)||Sx(r,!1,e),Sx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eh]||(t[Eh]=!0,Sx("selectionchange",!1,t))}}function UC(e,t,r,s){switch(bC(t)){case 1:var a=SM;break;case 4:a=EM;break;default:a=Fy}r=a.bind(null,t,r,e),a=void 0,!Lg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ex(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Yo(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}cC(function(){var d=i,u=Ay(r),f=[];e:{var h=LC.get(e);if(h!==void 0){var p=Ry,y=e;switch(e){case"keypress":if(tm(r)===0)break e;case"keydown":case"keyup":p=VM;break;case"focusin":y="focus",p=yx;break;case"focusout":y="blur",p=yx;break;case"beforeblur":case"afterblur":p=yx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qM;break;case FC:case IC:case RC:p=DM;break;case MC:p=HM;break;case"scroll":p=TM;break;case"wheel":p=GM;break;case"copy":case"cut":case"paste":p=FM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ww}var m=(t&4)!==0,g=!m&&e==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var v=d,_;v!==null;){_=v;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,w!==null&&(N=Lu(v,w),N!=null&&m.push(Wu(v,N,_)))),g)break;v=v.return}0<m.length&&(h=new p(h,y,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Rg&&(y=r.relatedTarget||r.fromElement)&&(Yo(y)||y[ji]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=d,y=y?Yo(y):null,y!==null&&(g=Fl(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(m=yw,N="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=ww,N="onPointerLeave",w="onPointerEnter",v="pointer"),g=p==null?h:lc(p),_=y==null?h:lc(y),h=new m(N,v+"leave",p,r,u),h.target=g,h.relatedTarget=_,N=null,Yo(u)===d&&(m=new m(w,v+"enter",y,r,u),m.target=_,m.relatedTarget=g,N=m),g=N,p&&y)t:{for(m=p,w=y,v=0,_=m;_;_=ql(_))v++;for(_=0,N=w;N;N=ql(N))_++;for(;0<v-_;)m=ql(m),v--;for(;0<_-v;)w=ql(w),_--;for(;v--;){if(m===w||w!==null&&m===w.alternate)break t;m=ql(m),w=ql(w)}m=null}else m=null;p!==null&&Dw(f,h,p,m,!1),y!==null&&g!==null&&Dw(f,g,y,m,!0)}}e:{if(h=d?lc(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=tL;else if(jw(h))if(kC)T=aL;else{T=nL;var S=rL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=sL);if(T&&(T=T(e,d))){CC(f,T,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Pg(h,"number",h.value)}switch(S=d?lc(d):window,e){case"focusin":(jw(S)||S.contentEditable==="true")&&(ic=S,zg=d,_u=null);break;case"focusout":_u=zg=ic=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,kw(f,r,u);break;case"selectionchange":if(lL)break;case"keydown":case"keyup":kw(f,r,u)}var b;if(Ly)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ac?EC(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(SC&&r.locale!=="ko"&&(ac||I!=="onCompositionStart"?I==="onCompositionEnd"&&ac&&(b=jC()):(ao=u,Iy="value"in ao?ao.value:ao.textContent,ac=!0)),S=Tm(d,I),0<S.length&&(I=new _w(I,e,null,r,u),f.push({event:I,listeners:S}),b?I.data=b:(b=TC(r),b!==null&&(I.data=b)))),(b=YM?XM(e,r):ZM(e,r))&&(d=Tm(d,"onBeforeInput"),0<d.length&&(u=new _w("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=b))}BC(f,t)})}function Wu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tm(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Lu(e,r),i!=null&&s.unshift(Wu(e,i,a)),i=Lu(e,t),i!=null&&s.push(Wu(e,i,a))),e=e.return}return s}function ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dw(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Lu(r,i),c!=null&&o.unshift(Wu(r,c,l))):a||(c=Lu(r,i),c!=null&&o.push(Wu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var fL=/\r\n?/g,hL=/\u0000|\uFFFD/g;function Ow(e){return(typeof e=="string"?e:""+e).replace(fL,`
`).replace(hL,"")}function Th(e,t,r){if(t=Ow(t),Ow(e)!==t&&r)throw Error(Be(425))}function Cm(){}var Wg=null,Hg=null;function Kg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,mL=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,pL=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(e){return Fw.resolve(null).then(e).catch(xL)}:Gg;function xL(e){setTimeout(function(){throw e})}function Tx(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Vu(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Vu(t)}function mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wd=Math.random().toString(36).slice(2),Va="__reactFiber$"+wd,Hu="__reactProps$"+wd,ji="__reactContainer$"+wd,Qg="__reactEvents$"+wd,gL="__reactListeners$"+wd,vL="__reactHandles$"+wd;function Yo(e){var t=e[Va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ji]||r[Va]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iw(e);e!==null;){if(r=e[Va])return r;e=Iw(e)}return t}e=r,r=e.parentNode}return null}function Lf(e){return e=e[Va]||e[ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function Z0(e){return e[Hu]||null}var Yg=[],cc=-1;function Ro(e){return{current:e}}function or(e){0>cc||(e.current=Yg[cc],Yg[cc]=null,cc--)}function er(e,t){cc++,Yg[cc]=e.current,e.current=t}var _o={},Dn=Ro(_o),is=Ro(!1),fl=_o;function Zc(e,t){var r=e.type.contextTypes;if(!r)return _o;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function os(e){return e=e.childContextTypes,e!=null}function km(){or(is),or(Dn)}function Rw(e,t,r){if(Dn.current!==_o)throw Error(Be(168));er(Dn,t),er(is,r)}function VC(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Be(108,rM(e)||"Unknown",a));return _r({},r,s)}function Am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,fl=Dn.current,er(Dn,e),er(is,is.current),!0}function Mw(e,t,r){var s=e.stateNode;if(!s)throw Error(Be(169));r?(e=VC(e,t,fl),s.__reactInternalMemoizedMergedChildContext=e,or(is),or(Dn),er(Dn,e)):or(is),er(is,r)}var ui=null,J0=!1,Cx=!1;function $C(e){ui===null?ui=[e]:ui.push(e)}function yL(e){J0=!0,$C(e)}function Mo(){if(!Cx&&ui!==null){Cx=!0;var e=0,t=Xt;try{var r=ui;for(Xt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ui=null,J0=!1}catch(a){throw ui!==null&&(ui=ui.slice(e+1)),hC(Py,Mo),a}finally{Xt=t,Cx=!1}}return null}var dc=[],uc=0,Pm=null,Dm=0,Ws=[],Hs=0,hl=null,mi=1,pi="";function qo(e,t){dc[uc++]=Dm,dc[uc++]=Pm,Pm=e,Dm=t}function zC(e,t,r){Ws[Hs++]=mi,Ws[Hs++]=pi,Ws[Hs++]=hl,hl=e;var s=mi;e=pi;var a=32-wa(s)-1;s&=~(1<<a),r+=1;var i=32-wa(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,mi=1<<32-wa(t)+a|r<<a|s,pi=i+e}else mi=1<<i|r<<a|s,pi=e}function Uy(e){e.return!==null&&(qo(e,1),zC(e,1,0))}function Vy(e){for(;e===Pm;)Pm=dc[--uc],dc[uc]=null,Dm=dc[--uc],dc[uc]=null;for(;e===hl;)hl=Ws[--Hs],Ws[Hs]=null,pi=Ws[--Hs],Ws[Hs]=null,mi=Ws[--Hs],Ws[Hs]=null}var Es=null,js=null,fr=!1,ha=null;function qC(e,t){var r=Gs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,js=mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hl!==null?{id:mi,overflow:pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Es=e,js=null,!0):!1;default:return!1}}function Xg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zg(e){if(fr){var t=js;if(t){var r=t;if(!Lw(e,t)){if(Xg(e))throw Error(Be(418));t=mo(r.nextSibling);var s=Es;t&&Lw(e,t)?qC(s,r):(e.flags=e.flags&-4097|2,fr=!1,Es=e)}}else{if(Xg(e))throw Error(Be(418));e.flags=e.flags&-4097|2,fr=!1,Es=e}}}function Bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function Ch(e){if(e!==Es)return!1;if(!fr)return Bw(e),fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kg(e.type,e.memoizedProps)),t&&(t=js)){if(Xg(e))throw WC(),Error(Be(418));for(;t;)qC(e,t),t=mo(t.nextSibling)}if(Bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){js=mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}js=null}}else js=Es?mo(e.stateNode.nextSibling):null;return!0}function WC(){for(var e=js;e;)e=mo(e.nextSibling)}function Jc(){js=Es=null,fr=!1}function $y(e){ha===null?ha=[e]:ha.push(e)}var _L=Ii.ReactCurrentBatchConfig;function Hd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Be(309));var s=r.stateNode}if(!s)throw Error(Be(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Be(284));if(!r._owner)throw Error(Be(290,e))}return e}function kh(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uw(e){var t=e._init;return t(e._payload)}function HC(e){function t(w,v){if(e){var _=w.deletions;_===null?(w.deletions=[v],w.flags|=16):_.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function s(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function a(w,v){return w=vo(w,v),w.index=0,w.sibling=null,w}function i(w,v,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<v?(w.flags|=2,v):_):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,v,_,N){return v===null||v.tag!==6?(v=Ix(_,w.mode,N),v.return=w,v):(v=a(v,_),v.return=w,v)}function c(w,v,_,N){var T=_.type;return T===sc?u(w,v,_.props.children,N,_.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wi&&Uw(T)===v.type)?(N=a(v,_.props),N.ref=Hd(w,v,_),N.return=w,N):(N=lm(_.type,_.key,_.props,null,w.mode,N),N.ref=Hd(w,v,_),N.return=w,N)}function d(w,v,_,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Rx(_,w.mode,N),v.return=w,v):(v=a(v,_.children||[]),v.return=w,v)}function u(w,v,_,N,T){return v===null||v.tag!==7?(v=cl(_,w.mode,N,T),v.return=w,v):(v=a(v,_),v.return=w,v)}function f(w,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ix(""+v,w.mode,_),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vh:return _=lm(v.type,v.key,v.props,null,w.mode,_),_.ref=Hd(w,null,v),_.return=w,_;case nc:return v=Rx(v,w.mode,_),v.return=w,v;case Wi:var N=v._init;return f(w,N(v._payload),_)}if(iu(v)||Vd(v))return v=cl(v,w.mode,_,null),v.return=w,v;kh(w,v)}return null}function h(w,v,_,N){var T=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(w,v,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vh:return _.key===T?c(w,v,_,N):null;case nc:return _.key===T?d(w,v,_,N):null;case Wi:return T=_._init,h(w,v,T(_._payload),N)}if(iu(_)||Vd(_))return T!==null?null:u(w,v,_,N,null);kh(w,_)}return null}function p(w,v,_,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(_)||null,l(v,w,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vh:return w=w.get(N.key===null?_:N.key)||null,c(v,w,N,T);case nc:return w=w.get(N.key===null?_:N.key)||null,d(v,w,N,T);case Wi:var S=N._init;return p(w,v,_,S(N._payload),T)}if(iu(N)||Vd(N))return w=w.get(_)||null,u(v,w,N,T,null);kh(v,N)}return null}function y(w,v,_,N){for(var T=null,S=null,b=v,I=v=0,D=null;b!==null&&I<_.length;I++){b.index>I?(D=b,b=null):D=b.sibling;var C=h(w,b,_[I],N);if(C===null){b===null&&(b=D);break}e&&b&&C.alternate===null&&t(w,b),v=i(C,v,I),S===null?T=C:S.sibling=C,S=C,b=D}if(I===_.length)return r(w,b),fr&&qo(w,I),T;if(b===null){for(;I<_.length;I++)b=f(w,_[I],N),b!==null&&(v=i(b,v,I),S===null?T=b:S.sibling=b,S=b);return fr&&qo(w,I),T}for(b=s(w,b);I<_.length;I++)D=p(b,w,I,_[I],N),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?I:D.key),v=i(D,v,I),S===null?T=D:S.sibling=D,S=D);return e&&b.forEach(function(R){return t(w,R)}),fr&&qo(w,I),T}function m(w,v,_,N){var T=Vd(_);if(typeof T!="function")throw Error(Be(150));if(_=T.call(_),_==null)throw Error(Be(151));for(var S=T=null,b=v,I=v=0,D=null,C=_.next();b!==null&&!C.done;I++,C=_.next()){b.index>I?(D=b,b=null):D=b.sibling;var R=h(w,b,C.value,N);if(R===null){b===null&&(b=D);break}e&&b&&R.alternate===null&&t(w,b),v=i(R,v,I),S===null?T=R:S.sibling=R,S=R,b=D}if(C.done)return r(w,b),fr&&qo(w,I),T;if(b===null){for(;!C.done;I++,C=_.next())C=f(w,C.value,N),C!==null&&(v=i(C,v,I),S===null?T=C:S.sibling=C,S=C);return fr&&qo(w,I),T}for(b=s(w,b);!C.done;I++,C=_.next())C=p(b,w,I,C.value,N),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?I:C.key),v=i(C,v,I),S===null?T=C:S.sibling=C,S=C);return e&&b.forEach(function(k){return t(w,k)}),fr&&qo(w,I),T}function g(w,v,_,N){if(typeof _=="object"&&_!==null&&_.type===sc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vh:e:{for(var T=_.key,S=v;S!==null;){if(S.key===T){if(T=_.type,T===sc){if(S.tag===7){r(w,S.sibling),v=a(S,_.props.children),v.return=w,w=v;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wi&&Uw(T)===S.type){r(w,S.sibling),v=a(S,_.props),v.ref=Hd(w,S,_),v.return=w,w=v;break e}r(w,S);break}else t(w,S);S=S.sibling}_.type===sc?(v=cl(_.props.children,w.mode,N,_.key),v.return=w,w=v):(N=lm(_.type,_.key,_.props,null,w.mode,N),N.ref=Hd(w,v,_),N.return=w,w=N)}return o(w);case nc:e:{for(S=_.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(w,v.sibling),v=a(v,_.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=Rx(_,w.mode,N),v.return=w,w=v}return o(w);case Wi:return S=_._init,g(w,v,S(_._payload),N)}if(iu(_))return y(w,v,_,N);if(Vd(_))return m(w,v,_,N);kh(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(r(w,v.sibling),v=a(v,_),v.return=w,w=v):(r(w,v),v=Ix(_,w.mode,N),v.return=w,w=v),o(w)):r(w,v)}return g}var ed=HC(!0),KC=HC(!1),Om=Ro(null),Fm=null,fc=null,zy=null;function qy(){zy=fc=Fm=null}function Wy(e){var t=Om.current;or(Om),e._currentValue=t}function Jg(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function wc(e,t){Fm=e,zy=fc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ss=!0),e.firstContext=null)}function Js(e){var t=e._currentValue;if(zy!==e)if(e={context:e,memoizedValue:t,next:null},fc===null){if(Fm===null)throw Error(Be(308));fc=e,Fm.dependencies={lanes:0,firstContext:e}}else fc=fc.next=e;return t}var Xo=null;function Hy(e){Xo===null?Xo=[e]:Xo.push(e)}function GC(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Hy(t)):(r.next=a.next,a.next=r),t.interleaved=r,Si(e,s)}function Si(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hi=!1;function Ky(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Bt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Si(e,r)}return a=s.interleaved,a===null?(t.next=t,Hy(s)):(t.next=a.next,a.next=t),s.interleaved=t,Si(e,r)}function rm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Dy(e,r)}}function Vw(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Im(e,t,r,s){var a=e.updateQueue;Hi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=_r({},f,h);break e;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);pl|=o,e.lanes=o,e.memoizedState=f}}function $w(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Be(191,a));a.call(s)}}}var Bf={},Ha=Ro(Bf),Ku=Ro(Bf),Gu=Ro(Bf);function Zo(e){if(e===Bf)throw Error(Be(174));return e}function Gy(e,t){switch(er(Gu,t),er(Ku,e),er(Ha,Bf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Og(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Og(t,e)}or(Ha),er(Ha,t)}function td(){or(Ha),or(Ku),or(Gu)}function YC(e){Zo(Gu.current);var t=Zo(Ha.current),r=Og(t,e.type);t!==r&&(er(Ku,e),er(Ha,r))}function Qy(e){Ku.current===e&&(or(Ha),or(Ku))}var vr=Ro(0);function Rm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kx=[];function Yy(){for(var e=0;e<kx.length;e++)kx[e]._workInProgressVersionPrimary=null;kx.length=0}var nm=Ii.ReactCurrentDispatcher,Ax=Ii.ReactCurrentBatchConfig,ml=0,yr=null,Yr=null,tn=null,Mm=!1,wu=!1,Qu=0,wL=0;function Sn(){throw Error(Be(321))}function Xy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sa(e[r],t[r]))return!1;return!0}function Zy(e,t,r,s,a,i){if(ml=i,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nm.current=e===null||e.memoizedState===null?SL:EL,e=r(s,a),wu){i=0;do{if(wu=!1,Qu=0,25<=i)throw Error(Be(301));i+=1,tn=Yr=null,t.updateQueue=null,nm.current=TL,e=r(s,a)}while(wu)}if(nm.current=Lm,t=Yr!==null&&Yr.next!==null,ml=0,tn=Yr=yr=null,Mm=!1,t)throw Error(Be(300));return e}function Jy(){var e=Qu!==0;return Qu=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?yr.memoizedState=tn=e:tn=tn.next=e,tn}function ea(){if(Yr===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=Yr.next;var t=tn===null?yr.memoizedState:tn.next;if(t!==null)tn=t,Yr=e;else{if(e===null)throw Error(Be(310));Yr=e,e={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},tn===null?yr.memoizedState=tn=e:tn=tn.next=e}return tn}function Yu(e,t){return typeof t=="function"?t(e):t}function Px(e){var t=ea(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var s=Yr,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ml&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,yr.lanes|=u,pl|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Sa(s,t.memoizedState)||(ss=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,yr.lanes|=i,pl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dx(e){var t=ea(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Sa(i,t.memoizedState)||(ss=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function XC(){}function ZC(e,t){var r=yr,s=ea(),a=t(),i=!Sa(s.memoizedState,a);if(i&&(s.memoizedState=a,ss=!0),s=s.queue,e1(t4.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||tn!==null&&tn.memoizedState.tag&1){if(r.flags|=2048,Xu(9,e4.bind(null,r,s,a,t),void 0,null),an===null)throw Error(Be(349));ml&30||JC(r,t,a)}return a}function JC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e4(e,t,r,s){t.value=r,t.getSnapshot=s,r4(t)&&n4(e)}function t4(e,t,r){return r(function(){r4(t)&&n4(e)})}function r4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sa(e,r)}catch{return!0}}function n4(e){var t=Si(e,1);t!==null&&Na(t,e,1,-1)}function zw(e){var t=Ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:e},t.queue=e,e=e.dispatch=jL.bind(null,yr,e),[t.memoizedState,e]}function Xu(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function s4(){return ea().memoizedState}function sm(e,t,r,s){var a=Ra();yr.flags|=e,a.memoizedState=Xu(1|t,r,void 0,s===void 0?null:s)}function ep(e,t,r,s){var a=ea();s=s===void 0?null:s;var i=void 0;if(Yr!==null){var o=Yr.memoizedState;if(i=o.destroy,s!==null&&Xy(s,o.deps)){a.memoizedState=Xu(t,r,i,s);return}}yr.flags|=e,a.memoizedState=Xu(1|t,r,i,s)}function qw(e,t){return sm(8390656,8,e,t)}function e1(e,t){return ep(2048,8,e,t)}function a4(e,t){return ep(4,2,e,t)}function i4(e,t){return ep(4,4,e,t)}function o4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l4(e,t,r){return r=r!=null?r.concat([e]):null,ep(4,4,o4.bind(null,t,e),r)}function t1(){}function c4(e,t){var r=ea();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xy(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function d4(e,t){var r=ea();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xy(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function u4(e,t,r){return ml&21?(Sa(r,t)||(r=xC(),yr.lanes|=r,pl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=r)}function NL(e,t){var r=Xt;Xt=r!==0&&4>r?r:4,e(!0);var s=Ax.transition;Ax.transition={};try{e(!1),t()}finally{Xt=r,Ax.transition=s}}function f4(){return ea().memoizedState}function bL(e,t,r){var s=go(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},h4(e))m4(t,r);else if(r=GC(e,t,r,s),r!==null){var a=zn();Na(r,e,s,a),p4(r,t,s)}}function jL(e,t,r){var s=go(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(h4(e))m4(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Sa(l,o)){var c=t.interleaved;c===null?(a.next=a,Hy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=GC(e,t,a,s),r!==null&&(a=zn(),Na(r,e,s,a),p4(r,t,s))}}function h4(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function m4(e,t){wu=Mm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p4(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Dy(e,r)}}var Lm={readContext:Js,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},SL={readContext:Js,useCallback:function(e,t){return Ra().memoizedState=[e,t===void 0?null:t],e},useContext:Js,useEffect:qw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sm(4194308,4,o4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sm(4194308,4,e,t)},useInsertionEffect:function(e,t){return sm(4,2,e,t)},useMemo:function(e,t){var r=Ra();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ra();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bL.bind(null,yr,e),[s.memoizedState,e]},useRef:function(e){var t=Ra();return e={current:e},t.memoizedState=e},useState:zw,useDebugValue:t1,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=zw(!1),t=e[0];return e=NL.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=yr,a=Ra();if(fr){if(r===void 0)throw Error(Be(407));r=r()}else{if(r=t(),an===null)throw Error(Be(349));ml&30||JC(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,qw(t4.bind(null,s,i,e),[e]),s.flags|=2048,Xu(9,e4.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Ra(),t=an.identifierPrefix;if(fr){var r=pi,s=mi;r=(s&~(1<<32-wa(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EL={readContext:Js,useCallback:c4,useContext:Js,useEffect:e1,useImperativeHandle:l4,useInsertionEffect:a4,useLayoutEffect:i4,useMemo:d4,useReducer:Px,useRef:s4,useState:function(){return Px(Yu)},useDebugValue:t1,useDeferredValue:function(e){var t=ea();return u4(t,Yr.memoizedState,e)},useTransition:function(){var e=Px(Yu)[0],t=ea().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:ZC,useId:f4,unstable_isNewReconciler:!1},TL={readContext:Js,useCallback:c4,useContext:Js,useEffect:e1,useImperativeHandle:l4,useInsertionEffect:a4,useLayoutEffect:i4,useMemo:d4,useReducer:Dx,useRef:s4,useState:function(){return Dx(Yu)},useDebugValue:t1,useDeferredValue:function(e){var t=ea();return Yr===null?t.memoizedState=e:u4(t,Yr.memoizedState,e)},useTransition:function(){var e=Dx(Yu)[0],t=ea().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:ZC,useId:f4,unstable_isNewReconciler:!1};function ca(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ev(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:_r({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tp={isMounted:function(e){return(e=e._reactInternals)?Fl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=zn(),a=go(e),i=gi(s,a);i.payload=t,r!=null&&(i.callback=r),t=po(e,i,a),t!==null&&(Na(t,e,a,s),rm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=zn(),a=go(e),i=gi(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=po(e,i,a),t!==null&&(Na(t,e,a,s),rm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zn(),s=go(e),a=gi(r,s);a.tag=2,t!=null&&(a.callback=t),t=po(e,a,s),t!==null&&(Na(t,e,s,r),rm(t,e,s))}};function Ww(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!zu(r,s)||!zu(a,i):!0}function x4(e,t,r){var s=!1,a=_o,i=t.contextType;return typeof i=="object"&&i!==null?i=Js(i):(a=os(t)?fl:Dn.current,s=t.contextTypes,i=(s=s!=null)?Zc(e,a):_o),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tp,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hw(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&tp.enqueueReplaceState(t,t.state,null)}function tv(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ky(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Js(i):(i=os(t)?fl:Dn.current,a.context=Zc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ev(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&tp.enqueueReplaceState(a,a.state,null),Im(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rd(e,t){try{var r="",s=t;do r+=tM(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ox(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function g4(e,t,r){r=gi(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Um||(Um=!0,fv=s),rv(e,t)},r}function v4(e,t,r){r=gi(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){rv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rv(e,t),typeof s!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Kw(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new CL;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=$L.bind(null,e,t,r),t.then(e,e))}function Gw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qw(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gi(-1,1),t.tag=2,po(r,t,1))),r.lanes|=1),e)}var kL=Ii.ReactCurrentOwner,ss=!1;function Mn(e,t,r,s){t.child=e===null?KC(t,null,r,s):ed(t,e.child,r,s)}function Yw(e,t,r,s,a){r=r.render;var i=t.ref;return wc(t,a),s=Zy(e,t,r,s,i,a),r=Jy(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ei(e,t,a)):(fr&&r&&Uy(t),t.flags|=1,Mn(e,t,s,a),t.child)}function Xw(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!c1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,y4(e,t,i,s,a)):(e=lm(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zu,r(o,s)&&e.ref===t.ref)return Ei(e,t,a)}return t.flags|=1,e=vo(i,s),e.ref=t.ref,e.return=t,t.child=e}function y4(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(zu(i,s)&&e.ref===t.ref)if(ss=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(ss=!0);else return t.lanes=e.lanes,Ei(e,t,a)}return nv(e,t,r,s,a)}function _4(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(mc,gs),gs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(mc,gs),gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,er(mc,gs),gs|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,er(mc,gs),gs|=s;return Mn(e,t,a,r),t.child}function w4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nv(e,t,r,s,a){var i=os(r)?fl:Dn.current;return i=Zc(t,i),wc(t,a),r=Zy(e,t,r,s,i,a),s=Jy(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ei(e,t,a)):(fr&&s&&Uy(t),t.flags|=1,Mn(e,t,r,a),t.child)}function Zw(e,t,r,s,a){if(os(r)){var i=!0;Am(t)}else i=!1;if(wc(t,a),t.stateNode===null)am(e,t),x4(t,r,s),tv(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Js(d):(d=os(r)?fl:Dn.current,d=Zc(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Hw(t,o,s,d),Hi=!1;var h=t.memoizedState;o.state=h,Im(t,s,o,a),c=t.memoizedState,l!==s||h!==c||is.current||Hi?(typeof u=="function"&&(ev(t,r,u,s),c=t.memoizedState),(l=Hi||Ww(t,r,l,s,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,QC(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ca(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Js(c):(c=os(r)?fl:Dn.current,c=Zc(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Hw(t,o,s,c),Hi=!1,h=t.memoizedState,o.state=h,Im(t,s,o,a);var y=t.memoizedState;l!==f||h!==y||is.current||Hi?(typeof p=="function"&&(ev(t,r,p,s),y=t.memoizedState),(d=Hi||Ww(t,r,d,s,h,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return sv(e,t,r,s,i,a)}function sv(e,t,r,s,a,i){w4(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Mw(t,r,!1),Ei(e,t,i);s=t.stateNode,kL.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ed(t,e.child,null,i),t.child=ed(t,null,l,i)):Mn(e,t,l,i),t.memoizedState=s.state,a&&Mw(t,r,!0),t.child}function N4(e){var t=e.stateNode;t.pendingContext?Rw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rw(e,t.context,!1),Gy(e,t.containerInfo)}function Jw(e,t,r,s,a){return Jc(),$y(a),t.flags|=256,Mn(e,t,r,s),t.child}var av={dehydrated:null,treeContext:null,retryLane:0};function iv(e){return{baseLanes:e,cachePool:null,transitions:null}}function b4(e,t,r){var s=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),er(vr,a&1),e===null)return Zg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sp(o,s,0,null),e=cl(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=iv(r),t.memoizedState=av,e):r1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return AL(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=vo(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=vo(l,i):(i=cl(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?iv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=av,s}return i=e.child,e=i.sibling,s=vo(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function r1(e,t){return t=sp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ah(e,t,r,s){return s!==null&&$y(s),ed(t,e.child,null,r),e=r1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AL(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Ox(Error(Be(422))),Ah(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=sp({mode:"visible",children:s.children},a,0,null),i=cl(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ed(t,e.child,null,o),t.child.memoizedState=iv(o),t.memoizedState=av,i);if(!(t.mode&1))return Ah(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Be(419)),s=Ox(i,s,void 0),Ah(e,t,o,s)}if(l=(o&e.childLanes)!==0,ss||l){if(s=an,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Si(e,a),Na(s,e,a,-1))}return l1(),s=Ox(Error(Be(421))),Ah(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zL.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,js=mo(a.nextSibling),Es=t,fr=!0,ha=null,e!==null&&(Ws[Hs++]=mi,Ws[Hs++]=pi,Ws[Hs++]=hl,mi=e.id,pi=e.overflow,hl=t),t=r1(t,s.children),t.flags|=4096,t)}function eN(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jg(e.return,t,r)}function Fx(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function j4(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Mn(e,t,s.children,r),s=vr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eN(e,r,t);else if(e.tag===19)eN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(er(vr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Rm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Fx(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Rm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Fx(t,!0,r,null,i);break;case"together":Fx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ei(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(e=t.child,r=vo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function PL(e,t,r){switch(t.tag){case 3:N4(t),Jc();break;case 5:YC(t);break;case 1:os(t.type)&&Am(t);break;case 4:Gy(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;er(Om,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(er(vr,vr.current&1),t.flags|=128,null):r&t.child.childLanes?b4(e,t,r):(er(vr,vr.current&1),e=Ei(e,t,r),e!==null?e.sibling:null);er(vr,vr.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return j4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),er(vr,vr.current),s)break;return null;case 22:case 23:return t.lanes=0,_4(e,t,r)}return Ei(e,t,r)}var S4,ov,E4,T4;S4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ov=function(){};E4=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Zo(Ha.current);var i=null;switch(r){case"input":a=kg(e,a),s=kg(e,s),i=[];break;case"select":a=_r({},a,{value:void 0}),s=_r({},s,{value:void 0}),i=[];break;case"textarea":a=Dg(e,a),s=Dg(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Cm)}Fg(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ru.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ir("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};T4=function(e,t,r,s){r!==s&&(t.flags|=4)};function Kd(e,t){if(!fr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function DL(e,t,r){var s=t.pendingProps;switch(Vy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return os(t.type)&&km(),En(t),null;case 3:return s=t.stateNode,td(),or(is),or(Dn),Yy(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ch(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ha!==null&&(pv(ha),ha=null))),ov(e,t),En(t),null;case 5:Qy(t);var a=Zo(Gu.current);if(r=t.type,e!==null&&t.stateNode!=null)E4(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Be(166));return En(t),null}if(e=Zo(Ha.current),Ch(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Va]=t,s[Hu]=i,e=(t.mode&1)!==0,r){case"dialog":ir("cancel",s),ir("close",s);break;case"iframe":case"object":case"embed":ir("load",s);break;case"video":case"audio":for(a=0;a<lu.length;a++)ir(lu[a],s);break;case"source":ir("error",s);break;case"img":case"image":case"link":ir("error",s),ir("load",s);break;case"details":ir("toggle",s);break;case"input":cw(s,i),ir("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ir("invalid",s);break;case"textarea":uw(s,i),ir("invalid",s)}Fg(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Th(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Th(s.textContent,l,e),a=["children",""+l]):Ru.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ir("scroll",s)}switch(r){case"input":yh(s),dw(s,i,!0);break;case"textarea":yh(s),fw(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Cm)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Va]=t,e[Hu]=s,S4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ig(r,s),r){case"dialog":ir("cancel",e),ir("close",e),a=s;break;case"iframe":case"object":case"embed":ir("load",e),a=s;break;case"video":case"audio":for(a=0;a<lu.length;a++)ir(lu[a],e);a=s;break;case"source":ir("error",e),a=s;break;case"img":case"image":case"link":ir("error",e),ir("load",e),a=s;break;case"details":ir("toggle",e),a=s;break;case"input":cw(e,s),a=kg(e,s),ir("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=_r({},s,{value:void 0}),ir("invalid",e);break;case"textarea":uw(e,s),a=Dg(e,s),ir("invalid",e);break;default:a=s}Fg(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mu(e,c):typeof c=="number"&&Mu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ru.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ir("scroll",e):c!=null&&Ey(e,i,c,o))}switch(r){case"input":yh(e),dw(e,s,!1);break;case"textarea":yh(e),fw(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yo(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?gc(e,!!s.multiple,i,!1):s.defaultValue!=null&&gc(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cm)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)T4(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Be(166));if(r=Zo(Gu.current),Zo(Ha.current),Ch(t)){if(s=t.stateNode,r=t.memoizedProps,s[Va]=t,(i=s.nodeValue!==r)&&(e=Es,e!==null))switch(e.tag){case 3:Th(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Th(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Va]=t,t.stateNode=s}return En(t),null;case 13:if(or(vr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fr&&js!==null&&t.mode&1&&!(t.flags&128))WC(),Jc(),t.flags|=98560,i=!1;else if(i=Ch(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Be(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Be(317));i[Va]=t}else Jc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),i=!1}else ha!==null&&(pv(ha),ha=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Zr===0&&(Zr=3):l1())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return td(),ov(e,t),e===null&&qu(t.stateNode.containerInfo),En(t),null;case 10:return Wy(t.type._context),En(t),null;case 17:return os(t.type)&&km(),En(t),null;case 19:if(or(vr),i=t.memoizedState,i===null)return En(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Kd(i,!1);else{if(Zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rm(e),o!==null){for(t.flags|=128,Kd(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dr()>nd&&(t.flags|=128,s=!0,Kd(i,!1),t.lanes=4194304)}else{if(!s)if(e=Rm(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Kd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fr)return En(t),null}else 2*Dr()-i.renderingStartTime>nd&&r!==1073741824&&(t.flags|=128,s=!0,Kd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dr(),t.sibling=null,r=vr.current,er(vr,s?r&1|2:r&1),t):(En(t),null);case 22:case 23:return o1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?gs&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(Be(156,t.tag))}function OL(e,t){switch(Vy(t),t.tag){case 1:return os(t.type)&&km(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return td(),or(is),or(Dn),Yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qy(t),null;case 13:if(or(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));Jc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(vr),null;case 4:return td(),null;case 10:return Wy(t.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var Ph=!1,Cn=!1,FL=typeof WeakSet=="function"?WeakSet:Set,lt=null;function hc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Sr(e,t,s)}else r.current=null}function lv(e,t,r){try{r()}catch(s){Sr(e,t,s)}}var tN=!1;function IL(e,t){if(Wg=Sm,e=DC(),By(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hg={focusedElem:e,selectionRange:r},Sm=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:ca(t.type,m),g);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(N){Sr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return y=tN,tN=!1,y}function Nu(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&lv(t,r,i)}a=a.next}while(a!==s)}}function rp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function cv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C4(e){var t=e.alternate;t!==null&&(e.alternate=null,C4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Va],delete t[Hu],delete t[Qg],delete t[gL],delete t[vL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k4(e){return e.tag===5||e.tag===3||e.tag===4}function rN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cm));else if(s!==4&&(e=e.child,e!==null))for(dv(e,t,r),e=e.sibling;e!==null;)dv(e,t,r),e=e.sibling}function uv(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(uv(e,t,r),e=e.sibling;e!==null;)uv(e,t,r),e=e.sibling}var un=null,ua=!1;function Li(e,t,r){for(r=r.child;r!==null;)A4(e,t,r),r=r.sibling}function A4(e,t,r){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(G0,r)}catch{}switch(r.tag){case 5:Cn||hc(r,t);case 6:var s=un,a=ua;un=null,Li(e,t,r),un=s,ua=a,un!==null&&(ua?(e=un,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):un.removeChild(r.stateNode));break;case 18:un!==null&&(ua?(e=un,r=r.stateNode,e.nodeType===8?Tx(e.parentNode,r):e.nodeType===1&&Tx(e,r),Vu(e)):Tx(un,r.stateNode));break;case 4:s=un,a=ua,un=r.stateNode.containerInfo,ua=!0,Li(e,t,r),un=s,ua=a;break;case 0:case 11:case 14:case 15:if(!Cn&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lv(r,t,o),a=a.next}while(a!==s)}Li(e,t,r);break;case 1:if(!Cn&&(hc(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Sr(r,t,l)}Li(e,t,r);break;case 21:Li(e,t,r);break;case 22:r.mode&1?(Cn=(s=Cn)||r.memoizedState!==null,Li(e,t,r),Cn=s):Li(e,t,r);break;default:Li(e,t,r)}}function nN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FL),t.forEach(function(s){var a=qL.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function aa(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,ua=!1;break e;case 3:un=l.stateNode.containerInfo,ua=!0;break e;case 4:un=l.stateNode.containerInfo,ua=!0;break e}l=l.return}if(un===null)throw Error(Be(160));A4(i,o,a),un=null,ua=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Sr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P4(t,e),t=t.sibling}function P4(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(aa(t,e),Oa(e),s&4){try{Nu(3,e,e.return),rp(3,e)}catch(m){Sr(e,e.return,m)}try{Nu(5,e,e.return)}catch(m){Sr(e,e.return,m)}}break;case 1:aa(t,e),Oa(e),s&512&&r!==null&&hc(r,r.return);break;case 5:if(aa(t,e),Oa(e),s&512&&r!==null&&hc(r,r.return),e.flags&32){var a=e.stateNode;try{Mu(a,"")}catch(m){Sr(e,e.return,m)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&JT(a,i),Ig(l,o);var d=Ig(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?sC(a,f):u==="dangerouslySetInnerHTML"?rC(a,f):u==="children"?Mu(a,f):Ey(a,u,f,d)}switch(l){case"input":Ag(a,i);break;case"textarea":eC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?gc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?gc(a,!!i.multiple,i.defaultValue,!0):gc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Hu]=i}catch(m){Sr(e,e.return,m)}}break;case 6:if(aa(t,e),Oa(e),s&4){if(e.stateNode===null)throw Error(Be(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Sr(e,e.return,m)}}break;case 3:if(aa(t,e),Oa(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Vu(t.containerInfo)}catch(m){Sr(e,e.return,m)}break;case 4:aa(t,e),Oa(e);break;case 13:aa(t,e),Oa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(a1=Dr())),s&4&&nN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Cn=(d=Cn)||u,aa(t,e),Cn=d):aa(t,e),Oa(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(lt=e,u=e.child;u!==null;){for(f=lt=u;lt!==null;){switch(h=lt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nu(4,h,h.return);break;case 1:hc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Sr(s,r,m)}}break;case 5:hc(h,h.return);break;case 22:if(h.memoizedState!==null){aN(f);continue}}p!==null?(p.return=h,lt=p):aN(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nC("display",o))}catch(m){Sr(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){Sr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:aa(t,e),Oa(e),s&4&&nN(e);break;case 21:break;default:aa(t,e),Oa(e)}}function Oa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k4(r)){var s=r;break e}r=r.return}throw Error(Be(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Mu(a,""),s.flags&=-33);var i=rN(e);uv(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=rN(e);dv(e,l,o);break;default:throw Error(Be(161))}}catch(c){Sr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RL(e,t,r){lt=e,D4(e)}function D4(e,t,r){for(var s=(e.mode&1)!==0;lt!==null;){var a=lt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Ph;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Cn;l=Ph;var d=Cn;if(Ph=o,(Cn=c)&&!d)for(lt=a;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?iN(a):c!==null?(c.return=o,lt=c):iN(a);for(;i!==null;)lt=i,D4(i),i=i.sibling;lt=a,Ph=l,Cn=d}sN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,lt=i):sN(e)}}function sN(e){for(;lt!==null;){var t=lt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cn||rp(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Cn)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ca(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$w(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$w(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Cn||t.flags&512&&cv(t)}catch(h){Sr(t,t.return,h)}}if(t===e){lt=null;break}if(r=t.sibling,r!==null){r.return=t.return,lt=r;break}lt=t.return}}function aN(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,lt=r;break}lt=t.return}}function iN(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rp(4,t)}catch(c){Sr(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Sr(t,a,c)}}var i=t.return;try{cv(t)}catch(c){Sr(t,i,c)}break;case 5:var o=t.return;try{cv(t)}catch(c){Sr(t,o,c)}}}catch(c){Sr(t,t.return,c)}if(t===e){lt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,lt=l;break}lt=t.return}}var ML=Math.ceil,Bm=Ii.ReactCurrentDispatcher,n1=Ii.ReactCurrentOwner,Ys=Ii.ReactCurrentBatchConfig,Bt=0,an=null,$r=null,gn=0,gs=0,mc=Ro(0),Zr=0,Zu=null,pl=0,np=0,s1=0,bu=null,rs=null,a1=0,nd=1/0,di=null,Um=!1,fv=null,xo=null,Dh=!1,io=null,Vm=0,ju=0,hv=null,im=-1,om=0;function zn(){return Bt&6?Dr():im!==-1?im:im=Dr()}function go(e){return e.mode&1?Bt&2&&gn!==0?gn&-gn:_L.transition!==null?(om===0&&(om=xC()),om):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:bC(e.type)),e):1}function Na(e,t,r,s){if(50<ju)throw ju=0,hv=null,Error(Be(185));Rf(e,r,s),(!(Bt&2)||e!==an)&&(e===an&&(!(Bt&2)&&(np|=r),Zr===4&&Gi(e,gn)),ls(e,s),r===1&&Bt===0&&!(t.mode&1)&&(nd=Dr()+500,J0&&Mo()))}function ls(e,t){var r=e.callbackNode;_M(e,t);var s=jm(e,e===an?gn:0);if(s===0)r!==null&&pw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&pw(r),t===1)e.tag===0?yL(oN.bind(null,e)):$C(oN.bind(null,e)),pL(function(){!(Bt&6)&&Mo()}),r=null;else{switch(gC(s)){case 1:r=Py;break;case 4:r=mC;break;case 16:r=bm;break;case 536870912:r=pC;break;default:r=bm}r=U4(r,O4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O4(e,t){if(im=-1,om=0,Bt&6)throw Error(Be(327));var r=e.callbackNode;if(Nc()&&e.callbackNode!==r)return null;var s=jm(e,e===an?gn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=$m(e,s);else{t=s;var a=Bt;Bt|=2;var i=I4();(an!==e||gn!==t)&&(di=null,nd=Dr()+500,ll(e,t));do try{UL();break}catch(l){F4(e,l)}while(!0);qy(),Bm.current=i,Bt=a,$r!==null?t=0:(an=null,gn=0,t=Zr)}if(t!==0){if(t===2&&(a=Ug(e),a!==0&&(s=a,t=mv(e,a))),t===1)throw r=Zu,ll(e,0),Gi(e,s),ls(e,Dr()),r;if(t===6)Gi(e,s);else{if(a=e.current.alternate,!(s&30)&&!LL(a)&&(t=$m(e,s),t===2&&(i=Ug(e),i!==0&&(s=i,t=mv(e,i))),t===1))throw r=Zu,ll(e,0),Gi(e,s),ls(e,Dr()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Be(345));case 2:Wo(e,rs,di);break;case 3:if(Gi(e,s),(s&130023424)===s&&(t=a1+500-Dr(),10<t)){if(jm(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gg(Wo.bind(null,e,rs,di),t);break}Wo(e,rs,di);break;case 4:if(Gi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-wa(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Dr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ML(s/1960))-s,10<s){e.timeoutHandle=Gg(Wo.bind(null,e,rs,di),s);break}Wo(e,rs,di);break;case 5:Wo(e,rs,di);break;default:throw Error(Be(329))}}}return ls(e,Dr()),e.callbackNode===r?O4.bind(null,e):null}function mv(e,t){var r=bu;return e.current.memoizedState.isDehydrated&&(ll(e,t).flags|=256),e=$m(e,t),e!==2&&(t=rs,rs=r,t!==null&&pv(t)),e}function pv(e){rs===null?rs=e:rs.push.apply(rs,e)}function LL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Sa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gi(e,t){for(t&=~s1,t&=~np,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wa(t),s=1<<r;e[r]=-1,t&=~s}}function oN(e){if(Bt&6)throw Error(Be(327));Nc();var t=jm(e,0);if(!(t&1))return ls(e,Dr()),null;var r=$m(e,t);if(e.tag!==0&&r===2){var s=Ug(e);s!==0&&(t=s,r=mv(e,s))}if(r===1)throw r=Zu,ll(e,0),Gi(e,t),ls(e,Dr()),r;if(r===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,rs,di),ls(e,Dr()),null}function i1(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(nd=Dr()+500,J0&&Mo())}}function xl(e){io!==null&&io.tag===0&&!(Bt&6)&&Nc();var t=Bt;Bt|=1;var r=Ys.transition,s=Xt;try{if(Ys.transition=null,Xt=1,e)return e()}finally{Xt=s,Ys.transition=r,Bt=t,!(Bt&6)&&Mo()}}function o1(){gs=mc.current,or(mc)}function ll(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mL(r)),$r!==null)for(r=$r.return;r!==null;){var s=r;switch(Vy(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&km();break;case 3:td(),or(is),or(Dn),Yy();break;case 5:Qy(s);break;case 4:td();break;case 13:or(vr);break;case 19:or(vr);break;case 10:Wy(s.type._context);break;case 22:case 23:o1()}r=r.return}if(an=e,$r=e=vo(e.current,null),gn=gs=t,Zr=0,Zu=null,s1=np=pl=0,rs=bu=null,Xo!==null){for(t=0;t<Xo.length;t++)if(r=Xo[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Xo=null}return e}function F4(e,t){do{var r=$r;try{if(qy(),nm.current=Lm,Mm){for(var s=yr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Mm=!1}if(ml=0,tn=Yr=yr=null,wu=!1,Qu=0,n1.current=null,r===null||r.return===null){Zr=1,Zu=t,$r=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=gn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Gw(o);if(p!==null){p.flags&=-257,Qw(p,o,l,i,t),p.mode&1&&Kw(i,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){Kw(i,d,t),l1();break e}c=Error(Be(426))}}else if(fr&&l.mode&1){var g=Gw(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Qw(g,o,l,i,t),$y(rd(c,l));break e}}i=c=rd(c,l),Zr!==4&&(Zr=2),bu===null?bu=[i]:bu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=g4(i,c,t);Vw(i,w);break e;case 1:l=c;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xo===null||!xo.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=v4(i,l,t);Vw(i,N);break e}}i=i.return}while(i!==null)}M4(r)}catch(T){t=T,$r===r&&r!==null&&($r=r=r.return);continue}break}while(!0)}function I4(){var e=Bm.current;return Bm.current=Lm,e===null?Lm:e}function l1(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),an===null||!(pl&268435455)&&!(np&268435455)||Gi(an,gn)}function $m(e,t){var r=Bt;Bt|=2;var s=I4();(an!==e||gn!==t)&&(di=null,ll(e,t));do try{BL();break}catch(a){F4(e,a)}while(!0);if(qy(),Bt=r,Bm.current=s,$r!==null)throw Error(Be(261));return an=null,gn=0,Zr}function BL(){for(;$r!==null;)R4($r)}function UL(){for(;$r!==null&&!uM();)R4($r)}function R4(e){var t=B4(e.alternate,e,gs);e.memoizedProps=e.pendingProps,t===null?M4(e):$r=t,n1.current=null}function M4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OL(r,t),r!==null){r.flags&=32767,$r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zr=6,$r=null;return}}else if(r=DL(r,t,gs),r!==null){$r=r;return}if(t=t.sibling,t!==null){$r=t;return}$r=t=e}while(t!==null);Zr===0&&(Zr=5)}function Wo(e,t,r){var s=Xt,a=Ys.transition;try{Ys.transition=null,Xt=1,VL(e,t,r,s)}finally{Ys.transition=a,Xt=s}return null}function VL(e,t,r,s){do Nc();while(io!==null);if(Bt&6)throw Error(Be(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wM(e,i),e===an&&($r=an=null,gn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dh||(Dh=!0,U4(bm,function(){return Nc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ys.transition,Ys.transition=null;var o=Xt;Xt=1;var l=Bt;Bt|=4,n1.current=null,IL(e,r),P4(r,e),oL(Hg),Sm=!!Wg,Hg=Wg=null,e.current=r,RL(r),fM(),Bt=l,Xt=o,Ys.transition=i}else e.current=r;if(Dh&&(Dh=!1,io=e,Vm=a),i=e.pendingLanes,i===0&&(xo=null),pM(r.stateNode),ls(e,Dr()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Um)throw Um=!1,e=fv,fv=null,e;return Vm&1&&e.tag!==0&&Nc(),i=e.pendingLanes,i&1?e===hv?ju++:(ju=0,hv=e):ju=0,Mo(),null}function Nc(){if(io!==null){var e=gC(Vm),t=Ys.transition,r=Xt;try{if(Ys.transition=null,Xt=16>e?16:e,io===null)var s=!1;else{if(e=io,io=null,Vm=0,Bt&6)throw Error(Be(331));var a=Bt;for(Bt|=4,lt=e.current;lt!==null;){var i=lt,o=i.child;if(lt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(lt=d;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:Nu(8,u,i)}var f=u.child;if(f!==null)f.return=u,lt=f;else for(;lt!==null;){u=lt;var h=u.sibling,p=u.return;if(C4(u),u===d){lt=null;break}if(h!==null){h.return=p,lt=h;break}lt=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}lt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,lt=o;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,lt=w;break e}lt=i.return}}var v=e.current;for(lt=v;lt!==null;){o=lt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,lt=_;else e:for(o=v;lt!==null;){if(l=lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rp(9,l)}}catch(T){Sr(l,l.return,T)}if(l===o){lt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,lt=N;break e}lt=l.return}}if(Bt=a,Mo(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(G0,e)}catch{}s=!0}return s}finally{Xt=r,Ys.transition=t}}return!1}function lN(e,t,r){t=rd(r,t),t=g4(e,t,1),e=po(e,t,1),t=zn(),e!==null&&(Rf(e,1,t),ls(e,t))}function Sr(e,t,r){if(e.tag===3)lN(e,e,r);else for(;t!==null;){if(t.tag===3){lN(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(xo===null||!xo.has(s))){e=rd(r,e),e=v4(t,e,1),t=po(t,e,1),e=zn(),t!==null&&(Rf(t,1,e),ls(t,e));break}}t=t.return}}function $L(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=zn(),e.pingedLanes|=e.suspendedLanes&r,an===e&&(gn&r)===r&&(Zr===4||Zr===3&&(gn&130023424)===gn&&500>Dr()-a1?ll(e,0):s1|=r),ls(e,t)}function L4(e,t){t===0&&(e.mode&1?(t=Nh,Nh<<=1,!(Nh&130023424)&&(Nh=4194304)):t=1);var r=zn();e=Si(e,t),e!==null&&(Rf(e,t,r),ls(e,r))}function zL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L4(e,r)}function qL(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Be(314))}s!==null&&s.delete(t),L4(e,r)}var B4;B4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||is.current)ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ss=!1,PL(e,t,r);ss=!!(e.flags&131072)}else ss=!1,fr&&t.flags&1048576&&zC(t,Dm,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;am(e,t),e=t.pendingProps;var a=Zc(t,Dn.current);wc(t,r),a=Zy(null,t,s,e,a,r);var i=Jy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,os(s)?(i=!0,Am(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ky(t),a.updater=tp,t.stateNode=a,a._reactInternals=t,tv(t,s,e,r),t=sv(null,t,s,!0,i,r)):(t.tag=0,fr&&i&&Uy(t),Mn(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(am(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=HL(s),e=ca(s,e),a){case 0:t=nv(null,t,s,e,r);break e;case 1:t=Zw(null,t,s,e,r);break e;case 11:t=Yw(null,t,s,e,r);break e;case 14:t=Xw(null,t,s,ca(s.type,e),r);break e}throw Error(Be(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ca(s,a),nv(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ca(s,a),Zw(e,t,s,a,r);case 3:e:{if(N4(t),e===null)throw Error(Be(387));s=t.pendingProps,i=t.memoizedState,a=i.element,QC(e,t),Im(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=rd(Error(Be(423)),t),t=Jw(e,t,s,r,a);break e}else if(s!==a){a=rd(Error(Be(424)),t),t=Jw(e,t,s,r,a);break e}else for(js=mo(t.stateNode.containerInfo.firstChild),Es=t,fr=!0,ha=null,r=KC(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jc(),s===a){t=Ei(e,t,r);break e}Mn(e,t,s,r)}t=t.child}return t;case 5:return YC(t),e===null&&Zg(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Kg(s,a)?o=null:i!==null&&Kg(s,i)&&(t.flags|=32),w4(e,t),Mn(e,t,o,r),t.child;case 6:return e===null&&Zg(t),null;case 13:return b4(e,t,r);case 4:return Gy(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ed(t,null,s,r):Mn(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ca(s,a),Yw(e,t,s,a,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,er(Om,s._currentValue),s._currentValue=o,i!==null)if(Sa(i.value,o)){if(i.children===a.children&&!is.current){t=Ei(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=gi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Jg(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Be(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Jg(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,wc(t,r),a=Js(a),s=s(a),t.flags|=1,Mn(e,t,s,r),t.child;case 14:return s=t.type,a=ca(s,t.pendingProps),a=ca(s.type,a),Xw(e,t,s,a,r);case 15:return y4(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ca(s,a),am(e,t),t.tag=1,os(s)?(e=!0,Am(t)):e=!1,wc(t,r),x4(t,s,a),tv(t,s,a,r),sv(null,t,s,!0,e,r);case 19:return j4(e,t,r);case 22:return _4(e,t,r)}throw Error(Be(156,t.tag))};function U4(e,t){return hC(e,t)}function WL(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,r,s){return new WL(e,t,r,s)}function c1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HL(e){if(typeof e=="function")return c1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cy)return 11;if(e===ky)return 14}return 2}function vo(e,t){var r=e.alternate;return r===null?(r=Gs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lm(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")c1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sc:return cl(r.children,a,i,t);case Ty:o=8,a|=8;break;case Sg:return e=Gs(12,r,t,a|2),e.elementType=Sg,e.lanes=i,e;case Eg:return e=Gs(13,r,t,a),e.elementType=Eg,e.lanes=i,e;case Tg:return e=Gs(19,r,t,a),e.elementType=Tg,e.lanes=i,e;case YT:return sp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GT:o=10;break e;case QT:o=9;break e;case Cy:o=11;break e;case ky:o=14;break e;case Wi:o=16,s=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return t=Gs(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function cl(e,t,r,s){return e=Gs(7,e,s,t),e.lanes=r,e}function sp(e,t,r,s){return e=Gs(22,e,s,t),e.elementType=YT,e.lanes=r,e.stateNode={isHidden:!1},e}function Ix(e,t,r){return e=Gs(6,e,null,t),e.lanes=r,e}function Rx(e,t,r){return t=Gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KL(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xx(0),this.expirationTimes=xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xx(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function d1(e,t,r,s,a,i,o,l,c){return e=new KL(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ky(i),e}function GL(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function V4(e){if(!e)return _o;e=e._reactInternals;e:{if(Fl(e)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var r=e.type;if(os(r))return VC(e,r,t)}return t}function $4(e,t,r,s,a,i,o,l,c){return e=d1(r,s,!0,e,a,i,o,l,c),e.context=V4(null),r=e.current,s=zn(),a=go(r),i=gi(s,a),i.callback=t??null,po(r,i,a),e.current.lanes=a,Rf(e,a,s),ls(e,s),e}function ap(e,t,r,s){var a=t.current,i=zn(),o=go(a);return r=V4(r),t.context===null?t.context=r:t.pendingContext=r,t=gi(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=po(a,t,o),e!==null&&(Na(e,a,o,i),rm(e,a,o)),o}function zm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function u1(e,t){cN(e,t),(e=e.alternate)&&cN(e,t)}function QL(){return null}var z4=typeof reportError=="function"?reportError:function(e){console.error(e)};function f1(e){this._internalRoot=e}ip.prototype.render=f1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));ap(e,t,null,null)};ip.prototype.unmount=f1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xl(function(){ap(null,e,null,null)}),t[ji]=null}};function ip(e){this._internalRoot=e}ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=_C();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ki.length&&t!==0&&t<Ki[r].priority;r++);Ki.splice(r,0,e),r===0&&NC(e)}};function h1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dN(){}function YL(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=zm(o);i.call(d)}}var o=$4(t,s,e,0,null,!1,!1,"",dN);return e._reactRootContainer=o,e[ji]=o.current,qu(e.nodeType===8?e.parentNode:e),xl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=zm(c);l.call(d)}}var c=d1(e,0,!1,null,null,!1,!1,"",dN);return e._reactRootContainer=c,e[ji]=c.current,qu(e.nodeType===8?e.parentNode:e),xl(function(){ap(t,c,r,s)}),c}function lp(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=zm(o);l.call(c)}}ap(t,o,e,a)}else o=YL(r,t,e,a,s);return zm(o)}vC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ou(t.pendingLanes);r!==0&&(Dy(t,r|1),ls(t,Dr()),!(Bt&6)&&(nd=Dr()+500,Mo()))}break;case 13:xl(function(){var s=Si(e,1);if(s!==null){var a=zn();Na(s,e,1,a)}}),u1(e,1)}};Oy=function(e){if(e.tag===13){var t=Si(e,134217728);if(t!==null){var r=zn();Na(t,e,134217728,r)}u1(e,134217728)}};yC=function(e){if(e.tag===13){var t=go(e),r=Si(e,t);if(r!==null){var s=zn();Na(r,e,t,s)}u1(e,t)}};_C=function(){return Xt};wC=function(e,t){var r=Xt;try{return Xt=e,t()}finally{Xt=r}};Mg=function(e,t,r){switch(t){case"input":if(Ag(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Z0(s);if(!a)throw Error(Be(90));ZT(s),Ag(s,a)}}}break;case"textarea":eC(e,r);break;case"select":t=r.value,t!=null&&gc(e,!!r.multiple,t,!1)}};oC=i1;lC=xl;var XL={usingClientEntryPoint:!1,Events:[Lf,lc,Z0,aC,iC,i1]},Gd={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZL={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uC(e),e===null?null:e.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||QL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{G0=Oh.inject(ZL),Wa=Oh}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XL;Ds.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h1(t))throw Error(Be(200));return GL(e,t,null,r)};Ds.createRoot=function(e,t){if(!h1(e))throw Error(Be(299));var r=!1,s="",a=z4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=d1(e,1,!1,null,null,r,!1,s,a),e[ji]=t.current,qu(e.nodeType===8?e.parentNode:e),new f1(t)};Ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=uC(t),e=e===null?null:e.stateNode,e};Ds.flushSync=function(e){return xl(e)};Ds.hydrate=function(e,t,r){if(!op(t))throw Error(Be(200));return lp(null,e,t,!0,r)};Ds.hydrateRoot=function(e,t,r){if(!h1(e))throw Error(Be(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=z4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$4(t,null,e,1,r??null,a,!1,i,o),e[ji]=t.current,qu(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ip(t)};Ds.render=function(e,t,r){if(!op(t))throw Error(Be(200));return lp(null,e,t,!1,r)};Ds.unmountComponentAtNode=function(e){if(!op(e))throw Error(Be(40));return e._reactRootContainer?(xl(function(){lp(null,null,e,!1,function(){e._reactRootContainer=null,e[ji]=null})}),!0):!1};Ds.unstable_batchedUpdates=i1;Ds.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!op(r))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return lp(e,t,r,!1,s)};Ds.version="18.3.1-next-f1338f8080-20240426";function q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q4)}catch(e){console.error(e)}}q4(),qT.exports=Ds;var Il=qT.exports;const JL=PT(Il);var W4,uN=Il;W4=uN.createRoot,uN.hydrateRoot;function e8(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var H4={exports:{}},K4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=x;function t8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r8=typeof Object.is=="function"?Object.is:t8,n8=sd.useState,s8=sd.useEffect,a8=sd.useLayoutEffect,i8=sd.useDebugValue;function o8(e,t){var r=t(),s=n8({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return a8(function(){a.value=r,a.getSnapshot=t,Mx(a)&&i({inst:a})},[e,r,t]),s8(function(){return Mx(a)&&i({inst:a}),e(function(){Mx(a)&&i({inst:a})})},[e]),i8(r),r}function Mx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!r8(e,r)}catch{return!0}}function l8(e,t){return t()}var c8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l8:o8;K4.useSyncExternalStore=sd.useSyncExternalStore!==void 0?sd.useSyncExternalStore:c8;H4.exports=K4;var d8=H4.exports;const u8=$T.useInsertionEffect,f8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G4=f8?x.useLayoutEffect:x.useEffect,h8=u8||G4,m1=e=>{const t=x.useRef([e,(...r)=>t[0](...r)]).current;return h8(()=>{t[0]=e}),t[1]},m8="popstate",p1="pushState",x1="replaceState",p8="hashchange",fN=[m8,p1,x1,p8],x8=e=>{for(const t of fN)addEventListener(t,e);return()=>{for(const t of fN)removeEventListener(t,e)}},Q4=(e,t)=>d8.useSyncExternalStore(x8,e,t),g8=()=>location.search,v8=({ssrSearch:e=""}={})=>Q4(g8,()=>e),hN=()=>location.pathname,y8=({ssrPath:e}={})=>Q4(hN,e?()=>e:hN),_8=(e,{replace:t=!1,state:r=null}={})=>history[t?x1:p1](r,"",e),w8=(e={})=>[y8(e),_8],mN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mN]>"u"){for(const e of[p1,x1]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,mN,{value:!0})}const N8=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Y4=(e="")=>e==="/"?"":e,b8=(e,t)=>e[0]==="~"?e.slice(1):Y4(t)+e,j8=(e="",t)=>N8(pN(Y4(e)),pN(t)),pN=e=>{try{return decodeURI(e)}catch{return e}},X4={hook:w8,searchHook:v8,parser:e8,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Z4=x.createContext(X4),Nd=()=>x.useContext(Z4),J4={},ek=x.createContext(J4),Uf=()=>x.useContext(ek),cp=e=>{const[t,r]=e.hook(e);return[j8(e.base,t),m1((s,a)=>r(b8(s,e.base),a))]},Fs=()=>cp(Nd()),g1=(e,t,r,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},tk=e=>g1(Nd().parser,e,Fs()[0]),rk=({children:e,...t})=>{var u,f;const r=Nd(),s=t.hook?X4:r;let a=s;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=x.useRef({}),c=l.current,d=c;for(let h in s){const p=h==="base"?s[h]+(t[h]||""):t[h]||s[h];c===d&&p!==d[h]&&(l.current=d={...d}),d[h]=p,p!==s[h]&&(a=d)}return x.createElement(Z4.Provider,{value:a,children:e})},xN=({children:e,component:t},r)=>t?x.createElement(t,{params:r}):typeof e=="function"?e(r):e,S8=e=>{let t=x.useRef(J4),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Jo=({path:e,nest:t,match:r,...s})=>{const a=Nd(),[i]=cp(a),[o,l,c]=r??g1(a.parser,e,i,t),d=S8({...Uf(),...l});if(!o)return null;const u=c?x.createElement(rk,{base:c},xN(s,d)):xN(s,d);return x.createElement(ek.Provider,{value:d,children:u})},en=x.forwardRef((e,t)=>{const r=Nd(),[s,a]=cp(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:f,state:h,...p}=e,y=m1(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:y,href:m}):x.createElement("a",{...p,onClick:y,href:m,className:u!=null&&u.call?u(s===o):u,children:d,ref:t})}),nk=e=>Array.isArray(e)?e.flatMap(t=>nk(t&&t.type===x.Fragment?t.props.children:t)):[e],E8=({children:e,location:t})=>{const r=Nd(),[s]=cp(r);for(const a of nk(e)){let i=0;if(x.isValidElement(a)&&(i=g1(r.parser,a.props.path,t||s,a.props.nest))[0])return x.cloneElement(a,{match:i})}return null},sk=e=>{const{to:t,href:r=t}=e,[,s]=Fs(),a=m1(()=>s(t||r,e));return G4(()=>{a()},[]),null};var bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gl=typeof window>"u"||"Deno"in globalThis;function Ms(){}function T8(e,t){return typeof e=="function"?e(t):e}function xv(e){return typeof e=="number"&&e>=0&&e!==1/0}function ak(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bc(e,t){return typeof e=="function"?e(t):e}function ma(e,t){return typeof e=="function"?e(t):e}function gN(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==v1(o,t.options))return!1}else if(!Ju(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function vN(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(vl(t.options.mutationKey)!==vl(i))return!1}else if(!Ju(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function v1(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,r)=>gv(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Ju(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ju(e[r],t[r])):!1}function ik(e,t){if(e===t)return e;const r=yN(e)&&yN(t);if(r||gv(e)&&gv(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=ik(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function qm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gv(e){if(!_N(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_N(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _N(e){return Object.prototype.toString.call(e)==="[object Object]"}function C8(e){return new Promise(t=>{setTimeout(t,e)})}function vv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ik(e,t):t}function k8(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function A8(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var y1=Symbol();function ok(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===y1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var tl,Yi,Lc,Rj,P8=(Rj=class extends bd{constructor(){super();xt(this,tl);xt(this,Yi);xt(this,Lc);nt(this,Lc,t=>{if(!gl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,Yi)||this.setEventListener(ne(this,Lc))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Yi))==null||t.call(this),nt(this,Yi,void 0))}setEventListener(t){var r;nt(this,Lc,t),(r=ne(this,Yi))==null||r.call(this),nt(this,Yi,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ne(this,tl)!==t&&(nt(this,tl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ne(this,tl)=="boolean"?ne(this,tl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},tl=new WeakMap,Yi=new WeakMap,Lc=new WeakMap,Rj),_1=new P8,Bc,Xi,Uc,Mj,D8=(Mj=class extends bd{constructor(){super();xt(this,Bc,!0);xt(this,Xi);xt(this,Uc);nt(this,Uc,t=>{if(!gl&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){ne(this,Xi)||this.setEventListener(ne(this,Uc))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Xi))==null||t.call(this),nt(this,Xi,void 0))}setEventListener(t){var r;nt(this,Uc,t),(r=ne(this,Xi))==null||r.call(this),nt(this,Xi,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Bc)!==t&&(nt(this,Bc,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ne(this,Bc)}},Bc=new WeakMap,Xi=new WeakMap,Uc=new WeakMap,Mj),Wm=new D8;function yv(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function O8(e){return Math.min(1e3*2**e,3e4)}function lk(e){return(e??"online")==="online"?Wm.isOnline():!0}var ck=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Lx(e){return e instanceof ck}function dk(e){let t=!1,r=0,s=!1,a;const i=yv(),o=m=>{var g;s||(h(new ck(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>_1.isFocused()&&(e.networkMode==="always"||Wm.isOnline())&&e.canRun(),u=()=>lk(e.networkMode)&&e.canRun(),f=m=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=w=>{(s||d())&&m(w)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,s||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(s)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var S;if(s)return;const v=e.retry??(gl?0:3),_=e.retryDelay??O8,N=typeof _=="function"?_(r,w):_,T=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,w);if(t||!T){h(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),C8(N).then(()=>d()?void 0:p()).then(()=>{t?h(w):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}function F8(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Xr=F8(),rl,Lj,uk=(Lj=class{constructor(){xt(this,rl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xv(this.gcTime)&&nt(this,rl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gl?1/0:5*60*1e3))}clearGcTimeout(){ne(this,rl)&&(clearTimeout(ne(this,rl)),nt(this,rl,void 0))}},rl=new WeakMap,Lj),Vc,$c,Rs,Tn,Pf,nl,da,li,Bj,I8=(Bj=class extends uk{constructor(t){super();xt(this,da);xt(this,Vc);xt(this,$c);xt(this,Rs);xt(this,Tn);xt(this,Pf);xt(this,nl);nt(this,nl,!1),nt(this,Pf,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,Rs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,Vc,R8(this.options)),this.state=t.state??ne(this,Vc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Tn))==null?void 0:t.promise}setOptions(t){this.options={...ne(this,Pf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Rs).remove(this)}setData(t,r){const s=vv(this.state.data,t,this.options);return Tt(this,da,li).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Tt(this,da,li).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=ne(this,Tn))==null?void 0:s.promise;return(a=ne(this,Tn))==null||a.cancel(t),r?r.then(Ms).catch(Ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Vc))}isActive(){return this.observers.some(t=>ma(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===y1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ak(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Tn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Tn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,Rs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ne(this,Tn)&&(ne(this,nl)?ne(this,Tn).cancel({revert:!0}):ne(this,Tn).cancelRetry()),this.scheduleGc()),ne(this,Rs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,da,li).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Tn))return ne(this,Tn).continueRetry(),ne(this,Tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,nl,!0),s.signal)})},i=()=>{const f=ok(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),nt(this,nl,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),nt(this,$c,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Tt(this,da,li).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,p,y,m;Lx(f)&&f.silent||Tt(this,da,li).call(this,{type:"error",error:f}),Lx(f)||((p=(h=ne(this,Rs).config).onError)==null||p.call(h,f,this),(m=(y=ne(this,Rs).config).onSettled)==null||m.call(y,this.state.data,f,this)),this.scheduleGc()};return nt(this,Tn,dk({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var h,p,y,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(p=(h=ne(this,Rs).config).onSuccess)==null||p.call(h,f,this),(m=(y=ne(this,Rs).config).onSettled)==null||m.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Tt(this,da,li).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Tt(this,da,li).call(this,{type:"pause"})},onContinue:()=>{Tt(this,da,li).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ne(this,Tn).start()}},Vc=new WeakMap,$c=new WeakMap,Rs=new WeakMap,Tn=new WeakMap,Pf=new WeakMap,nl=new WeakMap,da=new WeakSet,li=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fk(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Lx(a)&&a.revert&&ne(this,$c)?{...ne(this,$c),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Xr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ne(this,Rs).notify({query:this,type:"updated",action:t})})},Bj);function fk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function R8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ma,Uj,M8=(Uj=class extends bd{constructor(t={}){super();xt(this,Ma);this.config=t,nt(this,Ma,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??v1(a,r);let o=this.get(i);return o||(o=new I8({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ne(this,Ma).has(t.queryHash)||(ne(this,Ma).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ne(this,Ma).get(t.queryHash);r&&(t.destroy(),r===t&&ne(this,Ma).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,Ma).get(t)}getAll(){return[...ne(this,Ma).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>gN(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>gN(t,s)):r}notify(t){Xr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Xr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ma=new WeakMap,Uj),La,Fn,sl,Ba,zi,Vj,L8=(Vj=class extends uk{constructor(t){super();xt(this,Ba);xt(this,La);xt(this,Fn);xt(this,sl);this.mutationId=t.mutationId,nt(this,Fn,t.mutationCache),nt(this,La,[]),this.state=t.state||hk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,La).includes(t)||(ne(this,La).push(t),this.clearGcTimeout(),ne(this,Fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,La,ne(this,La).filter(r=>r!==t)),this.scheduleGc(),ne(this,Fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,La).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Fn).remove(this))}continue(){var t;return((t=ne(this,sl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,h,p,y,m,g,w,v,_,N,T,S,b;nt(this,sl,dk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,D)=>{Tt(this,Ba,zi).call(this,{type:"failed",failureCount:I,error:D})},onPause:()=>{Tt(this,Ba,zi).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Ba,zi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Fn).canRun(this)}));const r=this.state.status==="pending",s=!ne(this,sl).canStart();try{if(!r){Tt(this,Ba,zi).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=ne(this,Fn).config).onMutate)==null?void 0:i.call(a,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&Tt(this,Ba,zi).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const I=await ne(this,sl).start();return await((d=(c=ne(this,Fn).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,I,t,this.state.context)),await((p=(h=ne(this,Fn).config).onSettled)==null?void 0:p.call(h,I,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,I,null,t,this.state.context)),Tt(this,Ba,zi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(g=ne(this,Fn).config).onError)==null?void 0:w.call(g,I,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,I,t,this.state.context)),await((T=(N=ne(this,Fn).config).onSettled)==null?void 0:T.call(N,void 0,I,this.state.variables,this.state.context,this)),await((b=(S=this.options).onSettled)==null?void 0:b.call(S,void 0,I,t,this.state.context)),I}finally{Tt(this,Ba,zi).call(this,{type:"error",error:I})}}finally{ne(this,Fn).runNext(this)}}},La=new WeakMap,Fn=new WeakMap,sl=new WeakMap,Ba=new WeakSet,zi=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xr.batch(()=>{ne(this,La).forEach(s=>{s.onMutationUpdate(t)}),ne(this,Fn).notify({mutation:this,type:"updated",action:t})})},Vj);function hk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,Df,$j,B8=($j=class extends bd{constructor(t={}){super();xt(this,ps);xt(this,Df);this.config=t,nt(this,ps,new Map),nt(this,Df,Date.now())}build(t,r,s){const a=new L8({mutationCache:this,mutationId:++xh(this,Df)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Fh(t),s=ne(this,ps).get(r)??[];s.push(t),ne(this,ps).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Fh(t);if(ne(this,ps).has(r)){const a=(s=ne(this,ps).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?ne(this,ps).delete(r):ne(this,ps).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=ne(this,ps).get(Fh(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=ne(this,ps).get(Fh(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Xr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ne(this,ps).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>vN(r,s))}findAll(t={}){return this.getAll().filter(r=>vN(t,r))}notify(t){Xr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Xr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ms))))}},ps=new WeakMap,Df=new WeakMap,$j);function Fh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function wN(e){return{onFetch:(t,r)=>{var u,f,h,p,y;const s=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},w=ok(t.options,t.fetchOptions),v=async(_,N,T)=>{if(m)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const S={queryKey:t.queryKey,pageParam:N,direction:T?"backward":"forward",meta:t.options.meta};g(S);const b=await w(S),{maxPages:I}=t.options,D=T?A8:k8;return{pages:D(_.pages,b,I),pageParams:D(_.pageParams,N,I)}};if(a&&i.length){const _=a==="backward",N=_?U8:NN,T={pages:i,pageParams:o},S=N(s,T);l=await v(T,S,_)}else{const _=e??i.length;do{const N=c===0?o[0]??s.initialPageParam:NN(s,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function NN(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function U8(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var jr,Zi,Ji,zc,qc,eo,Wc,Hc,zj,V8=(zj=class{constructor(e={}){xt(this,jr);xt(this,Zi);xt(this,Ji);xt(this,zc);xt(this,qc);xt(this,eo);xt(this,Wc);xt(this,Hc);nt(this,jr,e.queryCache||new M8),nt(this,Zi,e.mutationCache||new B8),nt(this,Ji,e.defaultOptions||{}),nt(this,zc,new Map),nt(this,qc,new Map),nt(this,eo,0)}mount(){xh(this,eo)._++,ne(this,eo)===1&&(nt(this,Wc,_1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,jr).onFocus())})),nt(this,Hc,Wm.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,jr).onOnline())})))}unmount(){var e,t;xh(this,eo)._--,ne(this,eo)===0&&((e=ne(this,Wc))==null||e.call(this),nt(this,Wc,void 0),(t=ne(this,Hc))==null||t.call(this),nt(this,Hc,void 0))}isFetching(e){return ne(this,jr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,Zi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,jr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=ne(this,jr).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(bc(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ne(this,jr).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=ne(this,jr).get(s.queryHash),i=a==null?void 0:a.state.data,o=T8(t,i);if(o!==void 0)return ne(this,jr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Xr.batch(()=>ne(this,jr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,jr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ne(this,jr);Xr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ne(this,jr),s={type:"active",...e};return Xr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Xr.batch(()=>ne(this,jr).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Ms).catch(Ms)}invalidateQueries(e={},t={}){return Xr.batch(()=>{if(ne(this,jr).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Xr.batch(()=>ne(this,jr).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ms)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ms)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ne(this,jr).build(this,t);return r.isStaleByTime(bc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ms).catch(Ms)}fetchInfiniteQuery(e){return e.behavior=wN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ms).catch(Ms)}ensureInfiniteQueryData(e){return e.behavior=wN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wm.isOnline()?ne(this,Zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,jr)}getMutationCache(){return ne(this,Zi)}getDefaultOptions(){return ne(this,Ji)}setDefaultOptions(e){nt(this,Ji,e)}setQueryDefaults(e,t){ne(this,zc).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,zc).values()];let r={};return t.forEach(s=>{Ju(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){ne(this,qc).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,qc).values()];let r={};return t.forEach(s=>{Ju(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Ji).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=v1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===y1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Ji).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,jr).clear(),ne(this,Zi).clear()}},jr=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,zc=new WeakMap,qc=new WeakMap,eo=new WeakMap,Wc=new WeakMap,Hc=new WeakMap,zj),Jn,It,Of,In,al,Kc,to,Ua,Ff,Gc,Qc,il,ol,ro,Yc,Wt,cu,_v,wv,Nv,bv,jv,Sv,Ev,mk,qj,$8=(qj=class extends bd{constructor(t,r){super();xt(this,Wt);xt(this,Jn);xt(this,It);xt(this,Of);xt(this,In);xt(this,al);xt(this,Kc);xt(this,to);xt(this,Ua);xt(this,Ff);xt(this,Gc);xt(this,Qc);xt(this,il);xt(this,ol);xt(this,ro);xt(this,Yc,new Set);this.options=r,nt(this,Jn,t),nt(this,Ua,null),nt(this,to,yv()),this.options.experimental_prefetchInRender||ne(this,to).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ne(this,It).addObserver(this),bN(ne(this,It),this.options)?Tt(this,Wt,cu).call(this):this.updateResult(),Tt(this,Wt,bv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tv(ne(this,It),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tv(ne(this,It),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Tt(this,Wt,jv).call(this),Tt(this,Wt,Sv).call(this),ne(this,It).removeObserver(this)}setOptions(t,r){const s=this.options,a=ne(this,It);if(this.options=ne(this,Jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ma(this.options.enabled,ne(this,It))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Tt(this,Wt,Ev).call(this),ne(this,It).setOptions(this.options),s._defaulted&&!qm(this.options,s)&&ne(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:ne(this,It),observer:this});const i=this.hasListeners();i&&jN(ne(this,It),a,this.options,s)&&Tt(this,Wt,cu).call(this),this.updateResult(r),i&&(ne(this,It)!==a||ma(this.options.enabled,ne(this,It))!==ma(s.enabled,ne(this,It))||bc(this.options.staleTime,ne(this,It))!==bc(s.staleTime,ne(this,It)))&&Tt(this,Wt,_v).call(this);const o=Tt(this,Wt,wv).call(this);i&&(ne(this,It)!==a||ma(this.options.enabled,ne(this,It))!==ma(s.enabled,ne(this,It))||o!==ne(this,ro))&&Tt(this,Wt,Nv).call(this,o)}getOptimisticResult(t){const r=ne(this,Jn).getQueryCache().build(ne(this,Jn),t),s=this.createResult(r,t);return q8(this,s)&&(nt(this,In,s),nt(this,Kc,this.options),nt(this,al,ne(this,It).state)),s}getCurrentResult(){return ne(this,In)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){ne(this,Yc).add(t)}getCurrentQuery(){return ne(this,It)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ne(this,Jn).defaultQueryOptions(t),s=ne(this,Jn).getQueryCache().build(ne(this,Jn),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Tt(this,Wt,cu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ne(this,In)))}createResult(t,r){var I;const s=ne(this,It),a=this.options,i=ne(this,In),o=ne(this,al),l=ne(this,Kc),d=t!==s?t.state:ne(this,Of),{state:u}=t;let f={...u},h=!1,p;if(r._optimisticResults){const D=this.hasListeners(),C=!D&&bN(t,r),R=D&&jN(t,s,r,a);(C||R)&&(f={...f,...fk(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===ne(this,Ff))p=ne(this,Gc);else try{nt(this,Ff,r.select),p=r.select(f.data),p=vv(i==null?void 0:i.data,p,r),nt(this,Gc,p),nt(this,Ua,null)}catch(D){nt(this,Ua,D)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let D;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))D=i.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData((I=ne(this,Qc))==null?void 0:I.state.data,ne(this,Qc)):r.placeholderData,r.select&&D!==void 0)try{D=r.select(D),nt(this,Ua,null)}catch(C){nt(this,Ua,C)}D!==void 0&&(g="success",p=vv(i==null?void 0:i.data,D,r),h=!0)}ne(this,Ua)&&(y=ne(this,Ua),p=ne(this,Gc),m=Date.now(),g="error");const w=f.fetchStatus==="fetching",v=g==="pending",_=g==="error",N=v&&w,T=p!==void 0,b={status:g,fetchStatus:f.fetchStatus,isPending:v,isSuccess:g==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:_&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&T,isStale:w1(t,r),refetch:this.refetch,promise:ne(this,to)};if(this.options.experimental_prefetchInRender){const D=k=>{b.status==="error"?k.reject(b.error):b.data!==void 0&&k.resolve(b.data)},C=()=>{const k=nt(this,to,b.promise=yv());D(k)},R=ne(this,to);switch(R.status){case"pending":t.queryHash===s.queryHash&&D(R);break;case"fulfilled":(b.status==="error"||b.data!==R.value)&&C();break;case"rejected":(b.status!=="error"||b.error!==R.reason)&&C();break}}return b}updateResult(t){const r=ne(this,In),s=this.createResult(ne(this,It),this.options);if(nt(this,al,ne(this,It).state),nt(this,Kc,this.options),ne(this,al).data!==void 0&&nt(this,Qc,ne(this,It)),qm(s,r))return;nt(this,In,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!ne(this,Yc).size)return!0;const c=new Set(l??ne(this,Yc));return this.options.throwOnError&&c.add("error"),Object.keys(ne(this,In)).some(d=>{const u=d;return ne(this,In)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Tt(this,Wt,mk).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Tt(this,Wt,bv).call(this)}},Jn=new WeakMap,It=new WeakMap,Of=new WeakMap,In=new WeakMap,al=new WeakMap,Kc=new WeakMap,to=new WeakMap,Ua=new WeakMap,Ff=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,il=new WeakMap,ol=new WeakMap,ro=new WeakMap,Yc=new WeakMap,Wt=new WeakSet,cu=function(t){Tt(this,Wt,Ev).call(this);let r=ne(this,It).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ms)),r},_v=function(){Tt(this,Wt,jv).call(this);const t=bc(this.options.staleTime,ne(this,It));if(gl||ne(this,In).isStale||!xv(t))return;const s=ak(ne(this,In).dataUpdatedAt,t)+1;nt(this,il,setTimeout(()=>{ne(this,In).isStale||this.updateResult()},s))},wv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ne(this,It)):this.options.refetchInterval)??!1},Nv=function(t){Tt(this,Wt,Sv).call(this),nt(this,ro,t),!(gl||ma(this.options.enabled,ne(this,It))===!1||!xv(ne(this,ro))||ne(this,ro)===0)&&nt(this,ol,setInterval(()=>{(this.options.refetchIntervalInBackground||_1.isFocused())&&Tt(this,Wt,cu).call(this)},ne(this,ro)))},bv=function(){Tt(this,Wt,_v).call(this),Tt(this,Wt,Nv).call(this,Tt(this,Wt,wv).call(this))},jv=function(){ne(this,il)&&(clearTimeout(ne(this,il)),nt(this,il,void 0))},Sv=function(){ne(this,ol)&&(clearInterval(ne(this,ol)),nt(this,ol,void 0))},Ev=function(){const t=ne(this,Jn).getQueryCache().build(ne(this,Jn),this.options);if(t===ne(this,It))return;const r=ne(this,It);nt(this,It,t),nt(this,Of,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},mk=function(t){Xr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ne(this,In))}),ne(this,Jn).getQueryCache().notify({query:ne(this,It),type:"observerResultsUpdated"})})},qj);function z8(e,t){return ma(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bN(e,t){return z8(e,t)||e.state.data!==void 0&&Tv(e,t,t.refetchOnMount)}function Tv(e,t,r){if(ma(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&w1(e,t)}return!1}function jN(e,t,r,s){return(e!==t||ma(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&w1(e,r)}function w1(e,t){return ma(t.enabled,e)!==!1&&e.isStaleByTime(bc(t.staleTime,e))}function q8(e,t){return!qm(e.getCurrentResult(),t)}var no,so,es,hi,Ni,cm,Cv,Wj,W8=(Wj=class extends bd{constructor(r,s){super();xt(this,Ni);xt(this,no);xt(this,so);xt(this,es);xt(this,hi);nt(this,no,r),this.setOptions(s),this.bindMethods(),Tt(this,Ni,cm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=ne(this,no).defaultMutationOptions(r),qm(this.options,s)||ne(this,no).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ne(this,es),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&vl(s.mutationKey)!==vl(this.options.mutationKey)?this.reset():((a=ne(this,es))==null?void 0:a.state.status)==="pending"&&ne(this,es).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ne(this,es))==null||r.removeObserver(this)}onMutationUpdate(r){Tt(this,Ni,cm).call(this),Tt(this,Ni,Cv).call(this,r)}getCurrentResult(){return ne(this,so)}reset(){var r;(r=ne(this,es))==null||r.removeObserver(this),nt(this,es,void 0),Tt(this,Ni,cm).call(this),Tt(this,Ni,Cv).call(this)}mutate(r,s){var a;return nt(this,hi,s),(a=ne(this,es))==null||a.removeObserver(this),nt(this,es,ne(this,no).getMutationCache().build(ne(this,no),this.options)),ne(this,es).addObserver(this),ne(this,es).execute(r)}},no=new WeakMap,so=new WeakMap,es=new WeakMap,hi=new WeakMap,Ni=new WeakSet,cm=function(){var s;const r=((s=ne(this,es))==null?void 0:s.state)??hk();nt(this,so,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Cv=function(r){Xr.batch(()=>{var s,a,i,o,l,c,d,u;if(ne(this,hi)&&this.hasListeners()){const f=ne(this,so).variables,h=ne(this,so).context;(r==null?void 0:r.type)==="success"?((a=(s=ne(this,hi)).onSuccess)==null||a.call(s,r.data,f,h),(o=(i=ne(this,hi)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=ne(this,hi)).onError)==null||c.call(l,r.error,f,h),(u=(d=ne(this,hi)).onSettled)==null||u.call(d,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ne(this,so))})})},Wj),pk=x.createContext(void 0),Wr=e=>{const t=x.useContext(pk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H8=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(pk.Provider,{value:e,children:t})),xk=x.createContext(!1),K8=()=>x.useContext(xk);xk.Provider;function G8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Q8=x.createContext(G8()),Y8=()=>x.useContext(Q8);function gk(e,t){return typeof e=="function"?e(...t):!!e}function kv(){}var X8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Z8=e=>{x.useEffect(()=>{e.clearReset()},[e])},J8=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&gk(r,[e.error,s]),e7=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},t7=(e,t)=>e.isLoading&&e.isFetching&&!t,r7=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,SN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function n7(e,t,r){var u,f,h,p,y;const s=Wr(),a=K8(),i=Y8(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",e7(o),X8(o,i),Z8(i);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(m=>{const g=a?kv:c.subscribe(Xr.batchCalls(m));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),r7(o,d))throw SN(o,c,i);if(J8({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,d),o.experimental_prefetchInRender&&!gl&&t7(d,a)){const m=l?SN(o,c,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;m==null||m.catch(kv).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Dt(e,t){return n7(e,$8)}function zt(e,t){const r=Wr(),[s]=x.useState(()=>new W8(r,e));x.useEffect(()=>{s.setOptions(e)},[s,e]);const a=x.useSyncExternalStore(x.useCallback(o=>s.subscribe(Xr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=x.useCallback((o,l)=>{s.mutate(o,l).catch(kv)},[s]);if(a.error&&gk(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function vk(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function kn(e,t,r){const s=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await vk(s),s}const yk=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await vk(r),await r.json())},xi=new V8({defaultOptions:{queries:{queryFn:yk({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),s7=1,a7=1e6;let Bx=0;function i7(){return Bx=(Bx+1)%Number.MAX_SAFE_INTEGER,Bx.toString()}const Ux=new Map,EN=e=>{if(Ux.has(e))return;const t=setTimeout(()=>{Ux.delete(e),Su({type:"REMOVE_TOAST",toastId:e})},a7);Ux.set(e,t)},o7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,s7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?EN(r):e.toasts.forEach(s=>{EN(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},dm=[];let um={toasts:[]};function Su(e){um=o7(um,e),dm.forEach(t=>{t(um)})}function l7({...e}){const t=i7(),r=a=>Su({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Su({type:"DISMISS_TOAST",toastId:t});return Su({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function Mr(){const[e,t]=x.useState(um);return x.useEffect(()=>(dm.push(t),()=>{const r=dm.indexOf(t);r>-1&&dm.splice(r,1)}),[e]),{...e,toast:l7,dismiss:r=>Su({type:"DISMISS_TOAST",toastId:r})}}function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ti(...e){return t=>{let r=!1;const s=e.map(a=>{const i=TN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():TN(e[a],null)}}}}function Et(...e){return x.useCallback(Ti(...e),e)}function c7(e,t){const r=x.createContext(t),s=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Xn(e,t=[]){let r=[];function s(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const d=f=>{var w;const{scope:h,children:p,...y}=f,m=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,g=x.useMemo(()=>y,Object.values(y));return n.jsx(m.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,d7(a,...t)]}function d7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wo(e){const t=u7(e),r=x.forwardRef((s,a)=>{const{children:i,...o}=s,l=x.Children.toArray(i),c=l.find(f7);if(c){const d=c.props.children,u=l.map(f=>f===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:a,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var _k=wo("Slot");function u7(e){const t=x.forwardRef((r,s)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=m7(a),l=h7(i,a.props);return a.type!==x.Fragment&&(l.ref=s?Ti(s,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wk=Symbol("radix.slottable");function Nk(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=wk,t}function f7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wk}function h7(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function m7(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function dp(e){const t=e+"CollectionProvider",[r,s]=Xn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:w}=m,v=wt.useRef(null),_=wt.useRef(new Map).current;return n.jsx(a,{scope:g,itemMap:_,collectionRef:v,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=wo(l),d=wt.forwardRef((m,g)=>{const{scope:w,children:v}=m,_=i(l,w),N=Et(g,_.collectionRef);return n.jsx(c,{ref:N,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=wo(u),p=wt.forwardRef((m,g)=>{const{scope:w,children:v,..._}=m,N=wt.useRef(null),T=Et(g,N),S=i(u,w);return wt.useEffect(()=>(S.itemMap.set(N,{ref:N,..._}),()=>void S.itemMap.delete(N))),n.jsx(h,{[f]:"",ref:T,children:v})});p.displayName=u;function y(m){const g=i(e+"CollectionConsumer",m);return wt.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,b)=>_.indexOf(S.ref.current)-_.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},y,s]}var p7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=p7.reduce((e,t)=>{const r=wo(`Primitive.${t}`),s=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function N1(e,t){e&&Il.flushSync(()=>e.dispatchEvent(t))}function hr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function x7(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e);x.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var g7="DismissableLayer",Av="dismissableLayer.update",v7="dismissableLayer.pointerDownOutside",y7="dismissableLayer.focusOutside",CN,bk=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rl=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=x.useContext(bk),[u,f]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),y=Et(t,b=>f(b)),m=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(g),v=u?m.indexOf(u):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=w,T=w7(b=>{const I=b.target,D=[...d.branches].some(C=>C.contains(I));!N||D||(a==null||a(b),o==null||o(b),b.defaultPrevented||l==null||l())},h),S=N7(b=>{const I=b.target;[...d.branches].some(C=>C.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||l==null||l())},h);return x7(b=>{v===d.layers.size-1&&(s==null||s(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},h),x.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(CN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),kN(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=CN)}},[u,h,r,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),kN())},[u,d]),x.useEffect(()=>{const b=()=>p({});return document.addEventListener(Av,b),()=>document.removeEventListener(Av,b)},[]),n.jsx(ct.div,{...c,ref:y,style:{pointerEvents:_?N?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,T.onPointerDownCapture)})});Rl.displayName=g7;var _7="DismissableLayerBranch",jk=x.forwardRef((e,t)=>{const r=x.useContext(bk),s=x.useRef(null),a=Et(t,s);return x.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ct.div,{...e,ref:a})});jk.displayName=_7;function w7(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e),s=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Sk(v7,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function N7(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e),s=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!s.current&&Sk(y7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kN(){const e=new CustomEvent(Av);document.dispatchEvent(e)}function Sk(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?N1(a,i):a.dispatchEvent(i)}var b7=Rl,j7=jk,qr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},S7="Portal",jd=x.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=x.useState(!1);qr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?JL.createPortal(n.jsx(ct.div,{...s,ref:t}),o):null});jd.displayName=S7;function E7(e,t){return x.useReducer((r,s)=>t[r][s]??r,e)}var bn=e=>{const{present:t,children:r}=e,s=T7(t),a=typeof r=="function"?r({present:s.isPresent}):x.Children.only(r),i=Et(s.ref,C7(a));return typeof r=="function"||s.isPresent?x.cloneElement(a,{ref:i}):null};bn.displayName="Presence";function T7(e){const[t,r]=x.useState(),s=x.useRef({}),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=E7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Ih(s.current);i.current=l==="mounted"?d:"none"},[l]),qr(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,p=Ih(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),qr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const m=Ih(s.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=Ih(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Ih(e){return(e==null?void 0:e.animationName)||"none"}function C7(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function No({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=k7({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=hr(r),c=x.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function k7({defaultProp:e,onChange:t}){const r=x.useState(e),[s]=r,a=x.useRef(s),i=hr(t);return x.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var A7="VisuallyHidden",Vf=x.forwardRef((e,t)=>n.jsx(ct.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Vf.displayName=A7;var P7=Vf,b1="ToastProvider",[j1,D7,O7]=dp("Toast"),[Ek,mie]=Xn("Toast",[O7]),[F7,up]=Ek(b1),Tk=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[d,u]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${b1}\`. Expected non-empty \`string\`.`),n.jsx(j1.Provider,{scope:t,children:n.jsx(F7,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Tk.displayName=b1;var Ck="ToastViewport",I7=["F8"],Pv="toast.viewportPause",Dv="toast.viewportResume",kk=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=I7,label:a="Notifications ({hotkey})",...i}=e,o=up(Ck,r),l=D7(r),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),f=x.useRef(null),h=Et(t,f,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;x.useEffect(()=>{const g=w=>{var _;s.length!==0&&s.every(N=>w[N]||w.code===N)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),x.useEffect(()=>{const g=c.current,w=f.current;if(y&&g&&w){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Pv);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Dv);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!g.contains(S.relatedTarget)&&_()},T=()=>{g.contains(document.activeElement)||_()};return g.addEventListener("focusin",v),g.addEventListener("focusout",N),g.addEventListener("pointermove",v),g.addEventListener("pointerleave",T),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{g.removeEventListener("focusin",v),g.removeEventListener("focusout",N),g.removeEventListener("pointermove",v),g.removeEventListener("pointerleave",T),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:g})=>{const v=l().map(_=>{const N=_.ref.current,T=[N,...G7(N)];return g==="forwards"?T:T.reverse()});return(g==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const g=f.current;if(g){const w=v=>{var T,S,b;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const I=document.activeElement,D=v.shiftKey;if(v.target===g&&D){(T=d.current)==null||T.focus();return}const k=m({tabbingDirection:D?"backwards":"forwards"}),L=k.findIndex(ie=>ie===I);Vx(k.slice(L+1))?v.preventDefault():D?(S=d.current)==null||S.focus():(b=u.current)==null||b.focus()}};return g.addEventListener("keydown",w),()=>g.removeEventListener("keydown",w)}},[l,m]),n.jsxs(j7,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(Ov,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Vx(g)}}),n.jsx(j1.Slot,{scope:r,children:n.jsx(ct.ol,{tabIndex:-1,...i,ref:h})}),y&&n.jsx(Ov,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Vx(g)}})]})});kk.displayName=Ck;var Ak="ToastFocusProxy",Ov=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=up(Ak,r);return n.jsx(Vf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Ov.displayName=Ak;var fp="Toast",R7="toast.swipeStart",M7="toast.swipeMove",L7="toast.swipeCancel",B7="toast.swipeEnd",Pk=x.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=No({prop:s,defaultProp:a,onChange:i});return n.jsx(bn,{present:r||l,children:n.jsx($7,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hr(e.onPause),onResume:hr(e.onResume),onSwipeStart:Ue(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Pk.displayName=fp;var[U7,V7]=Ek(fp,{onClose(){}}),$7=x.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=up(fp,r),[g,w]=x.useState(null),v=Et(t,ie=>w(ie)),_=x.useRef(null),N=x.useRef(null),T=a||m.duration,S=x.useRef(0),b=x.useRef(T),I=x.useRef(0),{onToastAdd:D,onToastRemove:C}=m,R=hr(()=>{var fe;(g==null?void 0:g.contains(document.activeElement))&&((fe=m.viewport)==null||fe.focus()),o()}),k=x.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(I.current),S.current=new Date().getTime(),I.current=window.setTimeout(R,ie))},[R]);x.useEffect(()=>{const ie=m.viewport;if(ie){const fe=()=>{k(b.current),d==null||d()},se=()=>{const ce=new Date().getTime()-S.current;b.current=b.current-ce,window.clearTimeout(I.current),c==null||c()};return ie.addEventListener(Pv,se),ie.addEventListener(Dv,fe),()=>{ie.removeEventListener(Pv,se),ie.removeEventListener(Dv,fe)}}},[m.viewport,T,c,d,k]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&k(T)},[i,T,m.isClosePausedRef,k]),x.useEffect(()=>(D(),()=>C()),[D,C]);const L=x.useMemo(()=>g?Lk(g):null,[g]);return m.viewport?n.jsxs(n.Fragment,{children:[L&&n.jsx(z7,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),n.jsx(U7,{scope:r,onClose:R,children:Il.createPortal(n.jsx(j1.ItemSlot,{scope:r,children:n.jsx(b7,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,ie=>{ie.key==="Escape"&&(l==null||l(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ue(e.onPointerDown,ie=>{ie.button===0&&(_.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:Ue(e.onPointerMove,ie=>{if(!_.current)return;const fe=ie.clientX-_.current.x,se=ie.clientY-_.current.y,ce=!!N.current,q=["left","right"].includes(m.swipeDirection),oe=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ee=q?oe(0,fe):0,we=q?0:oe(0,se),P=ie.pointerType==="touch"?10:2,F={x:ee,y:we},U={originalEvent:ie,delta:F};ce?(N.current=F,Rh(M7,f,U,{discrete:!1})):AN(F,m.swipeDirection,P)?(N.current=F,Rh(R7,u,U,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(fe)>P||Math.abs(se)>P)&&(_.current=null)}),onPointerUp:Ue(e.onPointerUp,ie=>{const fe=N.current,se=ie.target;if(se.hasPointerCapture(ie.pointerId)&&se.releasePointerCapture(ie.pointerId),N.current=null,_.current=null,fe){const ce=ie.currentTarget,q={originalEvent:ie,delta:fe};AN(fe,m.swipeDirection,m.swipeThreshold)?Rh(B7,p,q,{discrete:!0}):Rh(L7,h,q,{discrete:!0}),ce.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),z7=e=>{const{__scopeToast:t,children:r,...s}=e,a=up(fp,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return H7(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(jd,{asChild:!0,children:n.jsx(Vf,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},q7="ToastTitle",Dk=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ct.div,{...s,ref:t})});Dk.displayName=q7;var W7="ToastDescription",Ok=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ct.div,{...s,ref:t})});Ok.displayName=W7;var Fk="ToastAction",Ik=x.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(Mk,{altText:r,asChild:!0,children:n.jsx(S1,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Fk}\`. Expected non-empty \`string\`.`),null)});Ik.displayName=Fk;var Rk="ToastClose",S1=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=V7(Rk,r);return n.jsx(Mk,{asChild:!0,children:n.jsx(ct.button,{type:"button",...s,ref:t,onClick:Ue(e.onClick,a.onClose)})})});S1.displayName=Rk;var Mk=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Lk(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),K7(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Lk(s))}}),t}function Rh(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?N1(a,i):a.dispatchEvent(i)}var AN=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function H7(e=()=>{}){const t=hr(e);qr(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function K7(e){return e.nodeType===e.ELEMENT_NODE}function G7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Q7=Tk,Bk=kk,Uk=Pk,Vk=Dk,$k=Ok,zk=Ik,qk=S1;function Wk(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Wk(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Hk(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Wk(e))&&(s&&(s+=" "),s+=t);return s}const PN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DN=Hk,Sd=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return DN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const h=PN(u)||PN(f);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...d,f,h]:d},[]);return DN(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kk=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...X7,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Kk("lucide",a),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const r=x.forwardRef(({className:s,...a},i)=>x.createElement(Z7,{ref:i,iconNode:t,className:Kk(`lucide-${Y7(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=dt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=dt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=dt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=dt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=dt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=dt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=dt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=dt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=dt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=dt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=dt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=dt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=dt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E1="-",yB=e=>{const t=wB(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(E1);return l[0]===""&&l.length!==1&&l.shift(),Jk(l,t)||_B(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},Jk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?Jk(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(E1);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},IN=/^\[(.+)\]$/,_B=e=>{if(IN.test(e)){const t=IN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},wB=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return bB(Object.entries(e.classGroups),r).forEach(([i,o])=>{Mv(o,s,i,t)}),s},Mv=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:RN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(NB(a)){Mv(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Mv(o,RN(t,i),r,s)})})},RN=(e,t)=>{let r=e;return t.split(E1).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},NB=e=>e.isThemeGetter,bB=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,jB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},eA="!",SB=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let w=l[g];if(d===0){if(w===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(w==="/"){f=g;continue}}w==="["?d++:w==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(eA),y=p?h.substring(1):h,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},EB=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},TB=e=>({cache:jB(e.cacheSize),parseClassName:SB(e),...yB(e)}),CB=/\s+/,kB=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(CB);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let y=!!p,m=s(y?h.substring(0,p):h);if(!m){if(!y){l=d+(l.length>0?" "+l:l);continue}if(m=s(h),!m){l=d+(l.length>0?" "+l:l);continue}y=!1}const g=EB(u).join(":"),w=f?g+eA:g,v=w+m;if(i.includes(v))continue;i.push(v);const _=a(m,y);for(let N=0;N<_.length;++N){const T=_[N];i.push(w+T)}l=d+(l.length>0?" "+l:l)}return l};function AB(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tA(t))&&(s&&(s+=" "),s+=r);return s}const tA=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=tA(e[s]))&&(r&&(r+=" "),r+=t);return r};function PB(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=TB(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=kB(c,r);return a(c,u),u}return function(){return i(AB.apply(null,arguments))}}const sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rA=/^\[(?:([a-z-]+):)?(.+)\]$/i,DB=/^\d+\/\d+$/,OB=new Set(["px","full","screen"]),FB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ai=e=>jc(e)||OB.has(e)||DB.test(e),Bi=e=>Td(e,"length",HB),jc=e=>!!e&&!Number.isNaN(Number(e)),zx=e=>Td(e,"number",jc),Yd=e=>!!e&&Number.isInteger(Number(e)),BB=e=>e.endsWith("%")&&jc(e.slice(0,-1)),St=e=>rA.test(e),Ui=e=>FB.test(e),UB=new Set(["length","size","percentage"]),VB=e=>Td(e,UB,nA),$B=e=>Td(e,"position",nA),zB=new Set(["image","url"]),qB=e=>Td(e,zB,GB),WB=e=>Td(e,"",KB),Xd=()=>!0,Td=(e,t,r)=>{const s=rA.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},HB=e=>IB.test(e)&&!RB.test(e),nA=()=>!1,KB=e=>MB.test(e),GB=e=>LB.test(e),QB=()=>{const e=sr("colors"),t=sr("spacing"),r=sr("blur"),s=sr("brightness"),a=sr("borderColor"),i=sr("borderRadius"),o=sr("borderSpacing"),l=sr("borderWidth"),c=sr("contrast"),d=sr("grayscale"),u=sr("hueRotate"),f=sr("invert"),h=sr("gap"),p=sr("gradientColorStops"),y=sr("gradientColorStopPositions"),m=sr("inset"),g=sr("margin"),w=sr("opacity"),v=sr("padding"),_=sr("saturate"),N=sr("scale"),T=sr("sepia"),S=sr("skew"),b=sr("space"),I=sr("translate"),D=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",St,t],k=()=>[St,t],L=()=>["",ai,Bi],ie=()=>["auto",jc,St],fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",St],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],we=()=>[jc,St];return{cacheSize:500,separator:":",theme:{colors:[Xd],spacing:[ai,Bi],blur:["none","",Ui,St],brightness:we(),borderColor:[e],borderRadius:["none","","full",Ui,St],borderSpacing:k(),borderWidth:L(),contrast:we(),grayscale:oe(),hueRotate:we(),invert:oe(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[BB,Bi],inset:R(),margin:R(),opacity:we(),padding:k(),saturate:we(),scale:we(),sepia:oe(),skew:we(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",St]}],container:["container"],columns:[{columns:[Ui]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...fe(),St]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yd,St]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",St]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",Yd,St]}],"grid-cols":[{"grid-cols":[Xd]}],"col-start-end":[{col:["auto",{span:["full",Yd,St]},St]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[Xd]}],"row-start-end":[{row:["auto",{span:[Yd,St]},St]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",St]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",St]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",St,t]}],"min-w":[{"min-w":[St,t,"min","max","fit"]}],"max-w":[{"max-w":[St,t,"none","full","min","max","fit","prose",{screen:[Ui]},Ui]}],h:[{h:[St,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[St,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ui,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zx]}],"font-family":[{font:[Xd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",St]}],"line-clamp":[{"line-clamp":["none",jc,zx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ai,St]}],"list-image":[{"list-image":["none",St]}],"list-style-type":[{list:["none","disc","decimal",St]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ai,Bi]}],"underline-offset":[{"underline-offset":["auto",ai,St]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...fe(),$B]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:se()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[ai,St]}],"outline-w":[{outline:[ai,Bi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ai,Bi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ui,WB]}],"shadow-color":[{shadow:[Xd]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ui,St]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",St]}],duration:[{duration:we()}],ease:[{ease:["linear","in","out","in-out",St]}],delay:[{delay:we()}],animate:[{animate:["none","spin","ping","pulse","bounce",St]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Yd,St]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",St]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ai,Bi,zx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YB=PB(QB);function Te(...e){return YB(Hk(e))}const XB=Q7,sA=x.forwardRef(({className:e,...t},r)=>n.jsx(Bk,{ref:r,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sA.displayName=Bk.displayName;const ZB=Sd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aA=x.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(Uk,{ref:s,className:Te(ZB({variant:t}),e),...r}));aA.displayName=Uk.displayName;const JB=x.forwardRef(({className:e,...t},r)=>n.jsx(zk,{ref:r,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));JB.displayName=zk.displayName;const iA=x.forwardRef(({className:e,...t},r)=>n.jsx(qk,{ref:r,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ei,{className:"h-4 w-4"})}));iA.displayName=qk.displayName;const oA=x.forwardRef(({className:e,...t},r)=>n.jsx(Vk,{ref:r,className:Te("text-sm font-semibold",e),...t}));oA.displayName=Vk.displayName;const lA=x.forwardRef(({className:e,...t},r)=>n.jsx($k,{ref:r,className:Te("text-sm opacity-90",e),...t}));lA.displayName=$k.displayName;function e9(){const{toasts:e}=Mr();return n.jsxs(XB,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(aA,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(oA,{children:r}),s&&n.jsx(lA,{children:s})]}),a,n.jsx(iA,{})]},t)}),n.jsx(sA,{})]})}var t9=$T[" useId ".trim().toString()]||(()=>{}),r9=0;function yn(e){const[t,r]=x.useState(t9());return qr(()=>{e||r(s=>s??String(r9++))},[e]),e||(t?`radix-${t}`:"")}const n9=["top","right","bottom","left"],bo=Math.min,_s=Math.max,Qm=Math.round,Mh=Math.floor,Ka=e=>({x:e,y:e}),s9={left:"right",right:"left",bottom:"top",top:"bottom"},a9={start:"end",end:"start"};function Lv(e,t,r){return _s(e,bo(t,r))}function ki(e,t){return typeof e=="function"?e(t):e}function Ai(e){return e.split("-")[0]}function Cd(e){return e.split("-")[1]}function T1(e){return e==="x"?"y":"x"}function C1(e){return e==="y"?"height":"width"}function jo(e){return["top","bottom"].includes(Ai(e))?"y":"x"}function k1(e){return T1(jo(e))}function i9(e,t,r){r===void 0&&(r=!1);const s=Cd(e),a=k1(e),i=C1(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ym(o)),[o,Ym(o)]}function o9(e){const t=Ym(e);return[Bv(e),t,Bv(t)]}function Bv(e){return e.replace(/start|end/g,t=>a9[t])}function l9(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function c9(e,t,r,s){const a=Cd(e);let i=l9(Ai(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Bv)))),i}function Ym(e){return e.replace(/left|right|bottom|top/g,t=>s9[t])}function d9(e){return{top:0,right:0,bottom:0,left:0,...e}}function cA(e){return typeof e!="number"?d9(e):{top:e,right:e,bottom:e,left:e}}function Xm(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function MN(e,t,r){let{reference:s,floating:a}=e;const i=jo(t),o=k1(t),l=C1(o),c=Ai(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(Cd(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const u9=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=MN(d,s,c),h=s,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:w}=l[m],{x:v,y:_,data:N,reset:T}=await w({x:u,y:f,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=_??f,p={...p,[g]:{...p[g],...N}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:u,y:f}=MN(d,h,c)),m=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:p}};async function tf(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ki(t,e),y=cA(p),g=l[h?f==="floating"?"reference":"floating":f],w=Xm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},T=Xm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:c}):v);return{top:(w.top-T.top+y.top)/N.y,bottom:(T.bottom-w.bottom+y.bottom)/N.y,left:(w.left-T.left+y.left)/N.x,right:(T.right-w.right+y.right)/N.x}}const f9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ki(e,t)||{};if(d==null)return{};const f=cA(u),h={x:r,y:s},p=k1(a),y=C1(p),m=await o.getDimensions(d),g=p==="y",w=g?"top":"left",v=g?"bottom":"right",_=g?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[p]-h[p]-i.floating[y],T=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=S?S[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=l.floating[_]||i.floating[y]);const I=N/2-T/2,D=b/2-m[y]/2-1,C=bo(f[w],D),R=bo(f[v],D),k=C,L=b-m[y]-R,ie=b/2-m[y]/2+I,fe=Lv(k,ie,L),se=!c.arrow&&Cd(a)!=null&&ie!==fe&&i.reference[y]/2-(ie<k?C:R)-m[y]/2<0,ce=se?ie<k?ie-k:ie-L:0;return{[p]:h[p]+ce,data:{[p]:fe,centerOffset:ie-fe-ce,...se&&{alignmentOffset:ce}},reset:se}}}),h9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=ki(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Ai(a),v=jo(l),_=Ai(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=h||(_||!m?[Ym(l)]:o9(l)),S=y!=="none";!h&&S&&T.push(...c9(l,m,y,N));const b=[l,...T],I=await tf(t,g),D=[];let C=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&D.push(I[w]),f){const ie=i9(a,o,N);D.push(I[ie[0]],I[ie[1]])}if(C=[...C,{placement:a,overflows:D}],!D.every(ie=>ie<=0)){var R,k;const ie=(((R=i.flip)==null?void 0:R.index)||0)+1,fe=b[ie];if(fe)return{data:{index:ie,overflows:C},reset:{placement:fe}};let se=(k=C.filter(ce=>ce.overflows[0]<=0).sort((ce,q)=>ce.overflows[1]-q.overflows[1])[0])==null?void 0:k.placement;if(!se)switch(p){case"bestFit":{var L;const ce=(L=C.filter(q=>{if(S){const oe=jo(q.placement);return oe===v||oe==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(oe=>oe>0).reduce((oe,ee)=>oe+ee,0)]).sort((q,oe)=>q[1]-oe[1])[0])==null?void 0:L[0];ce&&(se=ce);break}case"initialPlacement":se=l;break}if(a!==se)return{reset:{placement:se}}}return{}}}};function LN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function BN(e){return n9.some(t=>e[t]>=0)}const m9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ki(e,t);switch(s){case"referenceHidden":{const i=await tf(t,{...a,elementContext:"reference"}),o=LN(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BN(o)}}}case"escaped":{const i=await tf(t,{...a,altBoundary:!0}),o=LN(i,r.floating);return{data:{escapedOffsets:o,escaped:BN(o)}}}default:return{}}}}};async function p9(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ai(r),l=Cd(r),c=jo(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=ki(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const x9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await p9(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},g9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:w,y:v}=g;return{x:w,y:v}}},...c}=ki(e,t),d={x:r,y:s},u=await tf(t,c),f=jo(Ai(a)),h=T1(f);let p=d[h],y=d[f];if(i){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=p+u[g],_=p-u[w];p=Lv(v,p,_)}if(o){const g=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=y+u[g],_=y-u[w];y=Lv(v,y,_)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-s,enabled:{[h]:i,[f]:o}}}}}},v9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ki(e,t),u={x:r,y:s},f=jo(a),h=T1(f);let p=u[h],y=u[f];const m=ki(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=h==="y"?"height":"width",N=i.reference[h]-i.floating[_]+g.mainAxis,T=i.reference[h]+i.reference[_]-g.mainAxis;p<N?p=N:p>T&&(p=T)}if(d){var w,v;const _=h==="y"?"width":"height",N=["top","left"].includes(Ai(a)),T=i.reference[f]-i.floating[_]+(N&&((w=o.offset)==null?void 0:w[f])||0)+(N?0:g.crossAxis),S=i.reference[f]+i.reference[_]+(N?0:((v=o.offset)==null?void 0:v[f])||0)-(N?g.crossAxis:0);y<T?y=T:y>S&&(y=S)}return{[h]:p,[f]:y}}}},y9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ki(e,t),u=await tf(t,d),f=Ai(a),h=Cd(a),p=jo(a)==="y",{width:y,height:m}=i.floating;let g,w;f==="top"||f==="bottom"?(g=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,g=h==="end"?"top":"bottom");const v=m-u.top-u.bottom,_=y-u.left-u.right,N=bo(m-u[g],v),T=bo(y-u[w],_),S=!t.middlewareData.shift;let b=N,I=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=_),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(b=v),S&&!h){const C=_s(u.left,0),R=_s(u.right,0),k=_s(u.top,0),L=_s(u.bottom,0);p?I=y-2*(C!==0||R!==0?C+R:_s(u.left,u.right)):b=m-2*(k!==0||L!==0?k+L:_s(u.top,u.bottom))}await c({...t,availableWidth:I,availableHeight:b});const D=await o.getDimensions(l.floating);return y!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function xp(){return typeof window<"u"}function kd(e){return dA(e)?(e.nodeName||"").toLowerCase():"#document"}function Ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ti(e){var t;return(t=(dA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dA(e){return xp()?e instanceof Node||e instanceof Ts(e).Node:!1}function Ta(e){return xp()?e instanceof Element||e instanceof Ts(e).Element:!1}function Qa(e){return xp()?e instanceof HTMLElement||e instanceof Ts(e).HTMLElement:!1}function UN(e){return!xp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ts(e).ShadowRoot}function zf(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function _9(e){return["table","td","th"].includes(kd(e))}function gp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function A1(e){const t=P1(),r=Ta(e)?Ca(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function w9(e){let t=So(e);for(;Qa(t)&&!id(t);){if(A1(t))return t;if(gp(t))return null;t=So(t)}return null}function P1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function id(e){return["html","body","#document"].includes(kd(e))}function Ca(e){return Ts(e).getComputedStyle(e)}function vp(e){return Ta(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function So(e){if(kd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||UN(e)&&e.host||ti(e);return UN(t)?t.host:t}function uA(e){const t=So(e);return id(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qa(t)&&zf(t)?t:uA(t)}function rf(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=uA(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ts(a);if(i){const l=Uv(o);return t.concat(o,o.visualViewport||[],zf(a)?a:[],l&&r?rf(l):[])}return t.concat(a,rf(a,[],r))}function Uv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fA(e){const t=Ca(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Qa(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Qm(r)!==i||Qm(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function D1(e){return Ta(e)?e:e.contextElement}function Sc(e){const t=D1(e);if(!Qa(t))return Ka(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=fA(t);let o=(i?Qm(r.width):r.width)/s,l=(i?Qm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const N9=Ka(0);function hA(e){const t=Ts(e);return!P1()||!t.visualViewport?N9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ts(e)?!1:t}function _l(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=D1(e);let o=Ka(1);t&&(s?Ta(s)&&(o=Sc(s)):o=Sc(e));const l=b9(i,r,s)?hA(i):Ka(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=Ts(i),p=s&&Ta(s)?Ts(s):s;let y=h,m=Uv(y);for(;m&&s&&p!==y;){const g=Sc(m),w=m.getBoundingClientRect(),v=Ca(m),_=w.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,N=w.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=_,d+=N,y=Ts(m),m=Uv(y)}}return Xm({width:u,height:f,x:c,y:d})}function O1(e,t){const r=vp(e).scrollLeft;return t?t.left+r:_l(ti(e)).left+r}function mA(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:O1(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function j9(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ti(s),l=t?gp(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Ka(1);const u=Ka(0),f=Qa(s);if((f||!f&&!i)&&((kd(s)!=="body"||zf(o))&&(c=vp(s)),Qa(s))){const p=_l(s);d=Sc(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=o&&!f&&!i?mA(o,c,!0):Ka(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function S9(e){return Array.from(e.getClientRects())}function E9(e){const t=ti(e),r=vp(e),s=e.ownerDocument.body,a=_s(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=_s(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+O1(e);const l=-r.scrollTop;return Ca(s).direction==="rtl"&&(o+=_s(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function T9(e,t){const r=Ts(e),s=ti(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=P1();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function C9(e,t){const r=_l(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Qa(e)?Sc(e):Ka(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function VN(e,t,r){let s;if(t==="viewport")s=T9(e,r);else if(t==="document")s=E9(ti(e));else if(Ta(t))s=C9(t,r);else{const a=hA(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xm(s)}function pA(e,t){const r=So(e);return r===t||!Ta(r)||id(r)?!1:Ca(r).position==="fixed"||pA(r,t)}function k9(e,t){const r=t.get(e);if(r)return r;let s=rf(e,[],!1).filter(l=>Ta(l)&&kd(l)!=="body"),a=null;const i=Ca(e).position==="fixed";let o=i?So(e):e;for(;Ta(o)&&!id(o);){const l=Ca(o),c=A1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||zf(o)&&!c&&pA(e,o))?s=s.filter(u=>u!==o):a=l,o=So(o)}return t.set(e,s),s}function A9(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?gp(t)?[]:k9(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=VN(t,u,a);return d.top=_s(f.top,d.top),d.right=bo(f.right,d.right),d.bottom=bo(f.bottom,d.bottom),d.left=_s(f.left,d.left),d},VN(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function P9(e){const{width:t,height:r}=fA(e);return{width:t,height:r}}function D9(e,t,r){const s=Qa(t),a=ti(t),i=r==="fixed",o=_l(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ka(0);if(s||!s&&!i)if((kd(t)!=="body"||zf(a))&&(l=vp(t)),s){const h=_l(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=O1(a));const d=a&&!s&&!i?mA(a,l):Ka(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function qx(e){return Ca(e).position==="static"}function $N(e,t){if(!Qa(e)||Ca(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ti(e)===r&&(r=r.ownerDocument.body),r}function xA(e,t){const r=Ts(e);if(gp(e))return r;if(!Qa(e)){let a=So(e);for(;a&&!id(a);){if(Ta(a)&&!qx(a))return a;a=So(a)}return r}let s=$N(e,t);for(;s&&_9(s)&&qx(s);)s=$N(s,t);return s&&id(s)&&qx(s)&&!A1(s)?r:s||w9(e)||r}const O9=async function(e){const t=this.getOffsetParent||xA,r=this.getDimensions,s=await r(e.floating);return{reference:D9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function F9(e){return Ca(e).direction==="rtl"}const I9={convertOffsetParentRelativeRectToViewportRelativeRect:j9,getDocumentElement:ti,getClippingRect:A9,getOffsetParent:xA,getElementRects:O9,getClientRects:S9,getDimensions:P9,getScale:Sc,isElement:Ta,isRTL:F9};function gA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function R9(e,t){let r=null,s;const a=ti(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=d;if(l||t(),!h||!p)return;const y=Mh(f),m=Mh(a.clientWidth-(u+h)),g=Mh(a.clientHeight-(f+p)),w=Mh(u),_={rootMargin:-y+"px "+-m+"px "+-g+"px "+-w+"px",threshold:_s(0,bo(1,c))||1};let N=!0;function T(S){const b=S[0].intersectionRatio;if(b!==c){if(!N)return o();b?o(!1,b):s=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!gA(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(T,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,_)}r.observe(e)}return o(!0),i}function M9(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=D1(e),u=a||i?[...d?rf(d):[],...rf(t)]:[];u.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=d&&l?R9(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let y,m=c?_l(e):null;c&&g();function g(){const w=_l(e);m&&!gA(m,w)&&r(),m=w,y=requestAnimationFrame(g)}return r(),()=>{var w;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const L9=x9,B9=g9,U9=h9,V9=y9,$9=m9,zN=f9,z9=v9,q9=(e,t,r)=>{const s=new Map,a={platform:I9,...r},i={...a.platform,_c:s};return u9(e,t,{...a,platform:i})};var mm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Zm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Zm(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Zm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function vA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qN(e,t){const r=vA(e);return Math.round(t*r)/r}function Wx(e){const t=x.useRef(e);return mm(()=>{t.current=e}),t}function W9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(s);Zm(h,s)||p(s);const[y,m]=x.useState(null),[g,w]=x.useState(null),v=x.useCallback(q=>{q!==S.current&&(S.current=q,m(q))},[]),_=x.useCallback(q=>{q!==b.current&&(b.current=q,w(q))},[]),N=i||y,T=o||g,S=x.useRef(null),b=x.useRef(null),I=x.useRef(u),D=c!=null,C=Wx(c),R=Wx(a),k=Wx(d),L=x.useCallback(()=>{if(!S.current||!b.current)return;const q={placement:t,strategy:r,middleware:h};R.current&&(q.platform=R.current),q9(S.current,b.current,q).then(oe=>{const ee={...oe,isPositioned:k.current!==!1};ie.current&&!Zm(I.current,ee)&&(I.current=ee,Il.flushSync(()=>{f(ee)}))})},[h,t,r,R,k]);mm(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[d]);const ie=x.useRef(!1);mm(()=>(ie.current=!0,()=>{ie.current=!1}),[]),mm(()=>{if(N&&(S.current=N),T&&(b.current=T),N&&T){if(C.current)return C.current(N,T,L);L()}},[N,T,L,C,D]);const fe=x.useMemo(()=>({reference:S,floating:b,setReference:v,setFloating:_}),[v,_]),se=x.useMemo(()=>({reference:N,floating:T}),[N,T]),ce=x.useMemo(()=>{const q={position:r,left:0,top:0};if(!se.floating)return q;const oe=qN(se.floating,u.x),ee=qN(se.floating,u.y);return l?{...q,transform:"translate("+oe+"px, "+ee+"px)",...vA(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:oe,top:ee}},[r,l,se.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:fe,elements:se,floatingStyles:ce}),[u,L,fe,se,ce])}const H9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?zN({element:s.current,padding:a}).fn(r):{}:s?zN({element:s,padding:a}).fn(r):{}}}},K9=(e,t)=>({...L9(e),options:[e,t]}),G9=(e,t)=>({...B9(e),options:[e,t]}),Q9=(e,t)=>({...z9(e),options:[e,t]}),Y9=(e,t)=>({...U9(e),options:[e,t]}),X9=(e,t)=>({...V9(e),options:[e,t]}),Z9=(e,t)=>({...$9(e),options:[e,t]}),J9=(e,t)=>({...H9(e),options:[e,t]});var eU="Arrow",yA=x.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ct.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});yA.displayName=eU;var tU=yA;function rU(e){const[t,r]=x.useState(void 0);return qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var F1="Popper",[_A,Lo]=Xn(F1),[nU,wA]=_A(F1),NA=e=>{const{__scopePopper:t,children:r}=e,[s,a]=x.useState(null);return n.jsx(nU,{scope:t,anchor:s,onAnchorChange:a,children:r})};NA.displayName=F1;var bA="PopperAnchor",jA=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=wA(bA,r),o=x.useRef(null),l=Et(t,o);return x.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ct.div,{...a,ref:l})});jA.displayName=bA;var I1="PopperContent",[sU,aU]=_A(I1),SA=x.forwardRef((e,t)=>{var J,_e,le,pe,He,Ye;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=wA(I1,r),[w,v]=x.useState(null),_=Et(t,Pt=>v(Pt)),[N,T]=x.useState(null),S=rU(N),b=(S==null?void 0:S.width)??0,I=(S==null?void 0:S.height)??0,D=s+(i!=="center"?"-"+i:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(d)?d:[d],k=R.length>0,L={padding:C,boundary:R.filter(oU),altBoundary:k},{refs:ie,floatingStyles:fe,placement:se,isPositioned:ce,middlewareData:q}=W9({strategy:"fixed",placement:D,whileElementsMounted:(...Pt)=>M9(...Pt,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[K9({mainAxis:a+I,alignmentAxis:o}),c&&G9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Q9():void 0,...L}),c&&Y9({...L}),X9({...L,apply:({elements:Pt,rects:pt,availableWidth:rr,availableHeight:mt})=>{const{width:We,height:nr}=pt.reference,cr=Pt.floating.style;cr.setProperty("--radix-popper-available-width",`${rr}px`),cr.setProperty("--radix-popper-available-height",`${mt}px`),cr.setProperty("--radix-popper-anchor-width",`${We}px`),cr.setProperty("--radix-popper-anchor-height",`${nr}px`)}}),N&&J9({element:N,padding:l}),lU({arrowWidth:b,arrowHeight:I}),h&&Z9({strategy:"referenceHidden",...L})]}),[oe,ee]=CA(se),we=hr(y);qr(()=>{ce&&(we==null||we())},[ce,we]);const P=(J=q.arrow)==null?void 0:J.x,F=(_e=q.arrow)==null?void 0:_e.y,U=((le=q.arrow)==null?void 0:le.centerOffset)!==0,[j,M]=x.useState();return qr(()=>{w&&M(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:ce?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(pe=q.transformOrigin)==null?void 0:pe.x,(He=q.transformOrigin)==null?void 0:He.y].join(" "),...((Ye=q.hide)==null?void 0:Ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(sU,{scope:r,placedSide:oe,onArrowChange:T,arrowX:P,arrowY:F,shouldHideArrow:U,children:n.jsx(ct.div,{"data-side":oe,"data-align":ee,...m,ref:_,style:{...m.style,animation:ce?void 0:"none"}})})})});SA.displayName=I1;var EA="PopperArrow",iU={top:"bottom",right:"left",bottom:"top",left:"right"},TA=x.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=aU(EA,s),o=iU[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(tU,{...a,ref:r,style:{...a.style,display:"block"}})})});TA.displayName=EA;function oU(e){return e!==null}var lU=e=>({name:"transformOrigin",options:e,fn(t){var g,w,v;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=CA(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",m="";return d==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):d==="top"?(y=o?f:`${h}px`,m=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,m=o?f:`${p}px`):d==="left"&&(y=`${s.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function CA(e){const[t,r="center"]=e.split("-");return[t,r]}var R1=NA,qf=jA,yp=SA,_p=TA,[wp,pie]=Xn("Tooltip",[Lo]),M1=Lo(),kA="TooltipProvider",cU=700,WN="tooltip.open",[dU,AA]=wp(kA),PA=e=>{const{__scopeTooltip:t,delayDuration:r=cU,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(dU,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};PA.displayName=kA;var DA="Tooltip",[xie,Np]=wp(DA),Vv="TooltipTrigger",uU=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Np(Vv,r),i=AA(Vv,r),o=M1(r),l=x.useRef(null),c=Et(t,l,a.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),f=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(qf,{asChild:!0,...o,children:n.jsx(ct.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ue(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ue(e.onBlur,a.onClose),onClick:Ue(e.onClick,a.onClose)})})});uU.displayName=Vv;var fU="TooltipPortal",[gie,hU]=wp(fU,{forceMount:void 0}),od="TooltipContent",OA=x.forwardRef((e,t)=>{const r=hU(od,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Np(od,e.__scopeTooltip);return n.jsx(bn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(FA,{side:a,...i,ref:t}):n.jsx(mU,{side:a,...i,ref:t})})}),mU=x.forwardRef((e,t)=>{const r=Np(od,e.__scopeTooltip),s=AA(od,e.__scopeTooltip),a=x.useRef(null),i=Et(t,a),[o,l]=x.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((y,m)=>{const g=y.currentTarget,w={x:y.clientX,y:y.clientY},v=yU(w,g.getBoundingClientRect()),_=_U(w,v),N=wU(m.getBoundingClientRect()),T=bU([..._,...N]);l(T),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&u){const y=g=>p(g,u),m=g=>p(g,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[c,u,p,h]),x.useEffect(()=>{if(o){const y=m=>{const g=m.target,w={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),_=!NU(w,o);v?h():_&&(h(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,h]),n.jsx(FA,{...e,ref:i})}),[pU,xU]=wp(DA,{isInside:!1}),gU=Nk("TooltipContent"),FA=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Np(od,r),d=M1(r),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(WN,u),()=>document.removeEventListener(WN,u)),[u]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(Rl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(yp,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(gU,{children:s}),n.jsx(pU,{scope:r,isInside:!0,children:n.jsx(P7,{id:c.contentId,role:"tooltip",children:a||s})})]})})});OA.displayName=od;var IA="TooltipArrow",vU=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=M1(r);return xU(IA,r).isInside?null:n.jsx(_p,{...a,...s,ref:t})});vU.displayName=IA;function yU(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function _U(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function wU(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function NU(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function bU(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),jU(t)}function jU(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var SU=PA,RA=OA;const EU=SU,TU=x.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(RA,{ref:s,sideOffset:t,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));TU.displayName=RA.displayName;const MA=x.createContext(null);function CU({children:e}){const{toast:t}=Mr(),{data:r,error:s,isLoading:a}=Dt({queryKey:["/api/user"],queryFn:yk({on401:"returnNull"}),retry:!1}),i=zt({mutationFn:async u=>{const f=await kn("POST","/api/login",u);if(!f.ok){const h=await f.text();throw new Error(h||"Login failed")}return await f.json()},onSuccess:u=>{xi.setQueryData(["/api/user"],u),t({title:"Welcome back!",description:`Logged in as ${u.username}`})},onError:u=>{t({title:"Login failed",description:u.message,variant:"destructive"})}}),o=zt({mutationFn:async u=>{const f=await kn("POST","/api/register",u);if(!f.ok){const h=await f.json();throw new Error(h.error||"Registration failed")}return await f.json()},onSuccess:u=>{xi.setQueryData(["/api/user"],u),t({title:"Account created!",description:`Welcome ${u.username}! Your account has been successfully created.`})},onError:u=>{t({title:"Registration failed",description:u.message,variant:"destructive"})}}),l=zt({mutationFn:async u=>{const f=await kn("PUT","/api/user/profile",u);if(!f.ok){const h=await f.json();throw new Error(h.error||"Profile update failed")}return await f.json()},onSuccess:u=>{xi.setQueryData(["/api/user"],u),t({title:"Profile updated!",description:"Your profile information has been successfully updated."})},onError:u=>{t({title:"Update failed",description:u.message,variant:"destructive"})}}),c=zt({mutationFn:async u=>{const f=await kn("PUT","/api/user/password",u);if(!f.ok){const h=await f.json();throw new Error(h.error||"Password change failed")}return await f.json()},onSuccess:()=>{t({title:"Password updated!",description:"Your password has been successfully changed."})},onError:u=>{t({title:"Password change failed",description:u.message,variant:"destructive"})}}),d=zt({mutationFn:async()=>{await kn("POST","/api/logout")},onSuccess:()=>{xi.setQueryData(["/api/user"],null),t({title:"Logged out",description:"You have been successfully logged out."})},onError:u=>{t({title:"Logout failed",description:u.message,variant:"destructive"})}});return n.jsx(MA.Provider,{value:{user:r??null,isLoading:a,error:s,loginMutation:i,logoutMutation:d,registerMutation:o,updateProfileMutation:l,changePasswordMutation:c},children:e})}function Wf(){const e=x.useContext(MA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function ar({path:e,component:t}){const{user:r,isLoading:s}=Wf();return s?n.jsx(Jo,{path:e,children:n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx($n,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading..."}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Please wait while we load your dashboard"})]})})}):r?n.jsx(Jo,{path:e,children:n.jsx(t,{})}):n.jsx(Jo,{path:e,children:n.jsx(sk,{to:"/auth"})})}const nf=Sd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=x.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?_k:"button";return n.jsx(o,{className:Te(nf({variant:t,size:r,className:e})),ref:i,...a})});ue.displayName="Button";var Hx="focusScope.autoFocusOnMount",Kx="focusScope.autoFocusOnUnmount",HN={bubbles:!1,cancelable:!0},kU="FocusScope",Hf=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),d=hr(a),u=hr(i),f=x.useRef(null),h=Et(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let m=function(_){if(p.paused||!l)return;const N=_.target;l.contains(N)?f.current=N:qi(f.current,{select:!0})},g=function(_){if(p.paused||!l)return;const N=_.relatedTarget;N!==null&&(l.contains(N)||qi(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&qi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),v.disconnect()}}},[s,l,p.paused]),x.useEffect(()=>{if(l){GN.add(p);const m=document.activeElement;if(!l.contains(m)){const w=new CustomEvent(Hx,HN);l.addEventListener(Hx,d),l.dispatchEvent(w),w.defaultPrevented||(AU(IU(LA(l)),{select:!0}),document.activeElement===m&&qi(l))}return()=>{l.removeEventListener(Hx,d),setTimeout(()=>{const w=new CustomEvent(Kx,HN);l.addEventListener(Kx,u),l.dispatchEvent(w),w.defaultPrevented||qi(m??document.body,{select:!0}),l.removeEventListener(Kx,u),GN.remove(p)},0)}}},[l,d,u,p]);const y=x.useCallback(m=>{if(!r&&!s||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(g&&w){const v=m.currentTarget,[_,N]=PU(v);_&&N?!m.shiftKey&&w===N?(m.preventDefault(),r&&qi(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),r&&qi(N,{select:!0})):w===v&&m.preventDefault()}},[r,s,p.paused]);return n.jsx(ct.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Hf.displayName=kU;function AU(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(qi(s,{select:t}),document.activeElement!==r)return}function PU(e){const t=LA(e),r=KN(t,e),s=KN(t.reverse(),e);return[r,s]}function LA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function KN(e,t){for(const r of e)if(!DU(r,{upTo:t}))return r}function DU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OU(e){return e instanceof HTMLInputElement&&"select"in e}function qi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&OU(e)&&t&&e.select()}}var GN=FU();function FU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=QN(e,t),e.unshift(t)},remove(t){var r;e=QN(e,t),(r=e[0])==null||r.resume()}}}function QN(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function IU(e){return e.filter(t=>t.tagName!=="A")}var Gx=0;function bp(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YN()),document.body.insertAdjacentElement("beforeend",e[1]??YN()),Gx++,()=>{Gx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gx--}},[])}function YN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $a=function(){return $a=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$a.apply(this,arguments)};function BA(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function RU(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var pm="right-scroll-bar-position",xm="width-before-scroll-bar",MU="with-scroll-bars-hidden",LU="--removed-body-scroll-bar-size";function Qx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BU(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var UU=typeof window<"u"?x.useLayoutEffect:x.useEffect,XN=new WeakMap;function VU(e,t){var r=BU(null,function(s){return e.forEach(function(a){return Qx(a,s)})});return UU(function(){var s=XN.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Qx(l,null)}),i.forEach(function(l){a.has(l)||Qx(l,o)})}XN.set(r,e)},[e]),r}function $U(e){return e}function zU(e,t){t===void 0&&(t=$U);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function qU(e){e===void 0&&(e={});var t=zU(null);return t.options=$a({async:!0,ssr:!1},e),t}var UA=function(e){var t=e.sideCar,r=BA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,$a({},r))};UA.isSideCarExport=!0;function WU(e,t){return e.useMedium(t),UA}var VA=qU(),Yx=function(){},jp=x.forwardRef(function(e,t){var r=x.useRef(null),s=x.useState({onScrollCapture:Yx,onWheelCapture:Yx,onTouchMoveCapture:Yx}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,m=e.allowPinchZoom,g=e.as,w=g===void 0?"div":g,v=e.gapMode,_=BA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,T=VU([r,t]),S=$a($a({},_),a);return x.createElement(x.Fragment,null,u&&x.createElement(N,{sideCar:VA,removeScrollBar:d,shards:f,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),o?x.cloneElement(x.Children.only(l),$a($a({},S),{ref:T})):x.createElement(w,$a({},S,{className:c,ref:T}),l))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:xm,zeroRight:pm};var HU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HU();return t&&e.setAttribute("nonce",t),e}function GU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=KU())&&(GU(t,r),QU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XU=function(){var e=YU();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$A=function(){var e=XU(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},ZU={left:0,top:0,right:0,gap:0},Xx=function(e){return parseInt(e||"",10)||0},JU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Xx(r),Xx(s),Xx(a)]},eV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZU;var t=JU(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},tV=$A(),Ec="data-scroll-locked",rV=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(MU,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ec,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pm,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(xm,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ec,`] {
    `).concat(LU,": ").concat(l,`px;
  }
`)},ZN=function(){var e=parseInt(document.body.getAttribute(Ec)||"0",10);return isFinite(e)?e:0},nV=function(){x.useEffect(function(){return document.body.setAttribute(Ec,(ZN()+1).toString()),function(){var e=ZN()-1;e<=0?document.body.removeAttribute(Ec):document.body.setAttribute(Ec,e.toString())}},[])},sV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;nV();var i=x.useMemo(function(){return eV(a)},[a]);return x.createElement(tV,{styles:rV(i,!t,a,r?"":"!important")})},$v=!1;if(typeof window<"u")try{var Lh=Object.defineProperty({},"passive",{get:function(){return $v=!0,!0}});window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{$v=!1}var Wl=$v?{passive:!1}:!1,aV=function(e){return e.tagName==="TEXTAREA"},zA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!aV(e)&&r[t]==="visible")},iV=function(e){return zA(e,"overflowY")},oV=function(e){return zA(e,"overflowX")},JN=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=qA(e,s);if(a){var i=WA(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},lV=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},cV=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},qA=function(e,t){return e==="v"?iV(t):oV(t)},WA=function(e,t){return e==="v"?lV(t):cV(t)},dV=function(e,t){return e==="h"&&t==="rtl"?-1:1},uV=function(e,t,r,s,a){var i=dV(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var p=WA(e,l),y=p[0],m=p[1],g=p[2],w=m-g-i*y;(y||w)&&qA(e,l)&&(f+=w,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Bh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eb=function(e){return[e.deltaX,e.deltaY]},tb=function(e){return e&&"current"in e?e.current:e},fV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mV=0,Hl=[];function pV(e){var t=x.useRef([]),r=x.useRef([0,0]),s=x.useRef(),a=x.useState(mV++)[0],i=x.useState($A)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=RU([e.lockRef.current],(e.shards||[]).map(tb),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Bh(m),v=r.current,_="deltaX"in m?m.deltaX:v[0]-w[0],N="deltaY"in m?m.deltaY:v[1]-w[1],T,S=m.target,b=Math.abs(_)>Math.abs(N)?"h":"v";if("touches"in m&&b==="h"&&S.type==="range")return!1;var I=JN(b,S);if(!I)return!0;if(I?T=b:(T=b==="v"?"h":"v",I=JN(b,S)),!I)return!1;if(!s.current&&"changedTouches"in m&&(_||N)&&(s.current=T),!T)return!0;var D=s.current||T;return uV(D,g,m,D==="h"?_:N,!0)},[]),c=x.useCallback(function(m){var g=m;if(!(!Hl.length||Hl[Hl.length-1]!==i)){var w="deltaY"in g?eb(g):Bh(g),v=t.current.filter(function(T){return T.name===g.type&&(T.target===g.target||g.target===T.shadowParent)&&fV(T.delta,w)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(tb).filter(Boolean).filter(function(T){return T.contains(g.target)}),N=_.length>0?l(g,_[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),d=x.useCallback(function(m,g,w,v){var _={name:m,delta:g,target:w,should:v,shadowParent:xV(w)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(N){return N!==_})},1)},[]),u=x.useCallback(function(m){r.current=Bh(m),s.current=void 0},[]),f=x.useCallback(function(m){d(m.type,eb(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){d(m.type,Bh(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Hl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wl),document.addEventListener("touchmove",c,Wl),document.addEventListener("touchstart",u,Wl),function(){Hl=Hl.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Wl),document.removeEventListener("touchmove",c,Wl),document.removeEventListener("touchstart",u,Wl)}},[]);var p=e.removeScrollBar,y=e.inert;return x.createElement(x.Fragment,null,y?x.createElement(i,{styles:hV(a)}):null,p?x.createElement(sV,{gapMode:e.gapMode}):null)}function xV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gV=WU(VA,pV);var Kf=x.forwardRef(function(e,t){return x.createElement(jp,$a({},e,{ref:t,sideCar:gV}))});Kf.classNames=jp.classNames;var vV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kl=new WeakMap,Uh=new WeakMap,Vh={},Zx=0,HA=function(e){return e&&(e.host||HA(e.parentNode))},yV=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=HA(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_V=function(e,t,r,s){var a=yV(t,Array.isArray(e)?e:[e]);Vh[r]||(Vh[r]=new WeakMap);var i=Vh[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(s),y=p!==null&&p!=="false",m=(Kl.get(h)||0)+1,g=(i.get(h)||0)+1;Kl.set(h,m),i.set(h,g),o.push(h),m===1&&y&&Uh.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(t),l.clear(),Zx++,function(){o.forEach(function(f){var h=Kl.get(f)-1,p=i.get(f)-1;Kl.set(f,h),i.set(f,p),h||(Uh.has(f)||f.removeAttribute(s),Uh.delete(f)),p||f.removeAttribute(r)}),Zx--,Zx||(Kl=new WeakMap,Kl=new WeakMap,Uh=new WeakMap,Vh={})}},Sp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=vV(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),_V(s,a,r,"aria-hidden")):function(){return null}},L1="Dialog",[KA,GA]=Xn(L1),[wV,Da]=KA(L1),QA=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[d=!1,u]=No({prop:s,defaultProp:a,onChange:i});return n.jsx(wV,{scope:t,triggerRef:l,contentRef:c,contentId:yn(),titleId:yn(),descriptionId:yn(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};QA.displayName=L1;var YA="DialogTrigger",XA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Da(YA,r),i=Et(t,a.triggerRef);return n.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V1(a.open),...s,ref:i,onClick:Ue(e.onClick,a.onOpenToggle)})});XA.displayName=YA;var B1="DialogPortal",[NV,ZA]=KA(B1,{forceMount:void 0}),JA=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Da(B1,t);return n.jsx(NV,{scope:t,forceMount:r,children:x.Children.map(s,o=>n.jsx(bn,{present:r||i.open,children:n.jsx(jd,{asChild:!0,container:a,children:o})}))})};JA.displayName=B1;var Jm="DialogOverlay",eP=x.forwardRef((e,t)=>{const r=ZA(Jm,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Da(Jm,e.__scopeDialog);return i.modal?n.jsx(bn,{present:s||i.open,children:n.jsx(jV,{...a,ref:t})}):null});eP.displayName=Jm;var bV=wo("DialogOverlay.RemoveScroll"),jV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Da(Jm,r);return n.jsx(Kf,{as:bV,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ct.div,{"data-state":V1(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),wl="DialogContent",tP=x.forwardRef((e,t)=>{const r=ZA(wl,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Da(wl,e.__scopeDialog);return n.jsx(bn,{present:s||i.open,children:i.modal?n.jsx(SV,{...a,ref:t}):n.jsx(EV,{...a,ref:t})})});tP.displayName=wl;var SV=x.forwardRef((e,t)=>{const r=Da(wl,e.__scopeDialog),s=x.useRef(null),a=Et(t,r.contentRef,s);return x.useEffect(()=>{const i=s.current;if(i)return Sp(i)},[]),n.jsx(rP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault())})}),EV=x.forwardRef((e,t)=>{const r=Da(wl,e.__scopeDialog),s=x.useRef(!1),a=x.useRef(!1);return n.jsx(rP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rP=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Da(wl,r),c=x.useRef(null),d=Et(t,c);return bp(),n.jsxs(n.Fragment,{children:[n.jsx(Hf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Rl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":V1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(CV,{titleId:l.titleId}),n.jsx(AV,{contentRef:c,descriptionId:l.descriptionId})]})]})}),U1="DialogTitle",nP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Da(U1,r);return n.jsx(ct.h2,{id:a.titleId,...s,ref:t})});nP.displayName=U1;var sP="DialogDescription",aP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Da(sP,r);return n.jsx(ct.p,{id:a.descriptionId,...s,ref:t})});aP.displayName=sP;var iP="DialogClose",oP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Da(iP,r);return n.jsx(ct.button,{type:"button",...s,ref:t,onClick:Ue(e.onClick,()=>a.onOpenChange(!1))})});oP.displayName=iP;function V1(e){return e?"open":"closed"}var lP="DialogTitleWarning",[TV,cP]=c7(lP,{contentName:wl,titleName:U1,docsSlug:"dialog"}),CV=({titleId:e})=>{const t=cP(lP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},kV="DialogDescriptionWarning",AV=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cP(kV).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},$1=QA,dP=XA,Ep=JA,Ad=eP,Pd=tP,Gf=nP,Qf=aP,Tp=oP;const uP=$1,fP=dP,PV=Ep,hP=x.forwardRef(({className:e,...t},r)=>n.jsx(Ad,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hP.displayName=Ad.displayName;const DV=Sd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z1=x.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(PV,{children:[n.jsx(hP,{}),n.jsxs(Pd,{ref:a,className:Te(DV({side:e}),t),...s,children:[r,n.jsxs(Tp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ei,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));z1.displayName=Pd.displayName;const q1=({className:e,...t})=>n.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});q1.displayName="SheetHeader";const W1=x.forwardRef(({className:e,...t},r)=>n.jsx(Gf,{ref:r,className:Te("text-lg font-semibold text-foreground",e),...t}));W1.displayName=Gf.displayName;const mP=x.forwardRef(({className:e,...t},r)=>n.jsx(Qf,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));mP.displayName=Qf.displayName;const OV=Sd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...r}){return n.jsx("div",{className:Te(OV({variant:t}),e),...r})}var H1="Avatar",[FV,vie]=Xn(H1),[IV,pP]=FV(H1),xP=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=x.useState("idle");return n.jsx(IV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ct.span,{...s,ref:t})})});xP.displayName=H1;var gP="AvatarImage",vP=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=pP(gP,r),l=RV(s,i),c=hr(d=>{a(d),o.onImageLoadingStatusChange(d)});return qr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ct.img,{...i,ref:t,src:s}):null});vP.displayName=gP;var yP="AvatarFallback",_P=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=pP(yP,r),[o,l]=x.useState(s===void 0);return x.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ct.span,{...a,ref:t}):null});_P.displayName=yP;function rb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RV(e,{referrerPolicy:t,crossOrigin:r}){const s=LV(),a=x.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>rb(i,e));return qr(()=>{l(rb(i,e))},[i,e]),qr(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}function MV(){return()=>{}}function LV(){return x.useSyncExternalStore(MV,()=>!0,()=>!1)}var wP=xP,NP=vP,bP=_P;const zv=x.forwardRef(({className:e,...t},r)=>n.jsx(wP,{ref:r,className:Te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zv.displayName=wP.displayName;const BV=x.forwardRef(({className:e,...t},r)=>n.jsx(NP,{ref:r,className:Te("aspect-square h-full w-full",e),...t}));BV.displayName=NP.displayName;const qv=x.forwardRef(({className:e,...t},r)=>n.jsx(bP,{ref:r,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));qv.displayName=bP.displayName;function UV({onMenuClick:e}){var c,d;const{user:t,logoutMutation:r}=Wf(),[,s]=Fs(),[a,i]=x.useState(!1),o=()=>{r.mutate(),i(!1)},l=()=>{s("/profile"),i(!1)};return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-200 sticky top-0 z-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ue,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden hover:bg-gray-100",children:n.jsx(Zk,{className:"h-5 w-5 text-gray-700"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Km,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Jivo E-Com"})})]})]}),n.jsxs(uP,{open:a,onOpenChange:i,children:[n.jsx(fP,{asChild:!0,children:n.jsxs(ue,{variant:"ghost",className:"flex items-center space-x-2 hover:bg-gray-100 h-10 px-3",children:[n.jsx(zv,{className:"w-8 h-8",children:n.jsx(qv,{className:"bg-blue-100 text-blue-700 text-sm font-medium",children:t!=null&&t.full_name?t.full_name.charAt(0).toUpperCase():((c=t==null?void 0:t.username)==null?void 0:c.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"hidden sm:block text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 leading-none",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.username)||"User"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(t==null?void 0:t.department)||(t==null?void 0:t.role)||"Member"})]})]})}),n.jsxs(z1,{side:"right",className:"w-80",children:[n.jsxs(q1,{className:"text-left pb-6",children:[n.jsxs(W1,{className:"flex items-center space-x-3",children:[n.jsx(zv,{className:"w-12 h-12",children:n.jsx(qv,{className:"bg-blue-100 text-blue-700 text-lg font-medium",children:t!=null&&t.full_name?t.full_name.charAt(0).toUpperCase():((d=t==null?void 0:t.username)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.username)||"User"}),n.jsx("p",{className:"text-sm text-gray-600",children:t==null?void 0:t.email})]})]}),n.jsx(mP,{children:n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsxs(rt,{variant:"secondary",className:"text-xs",children:[n.jsx(Km,{className:"w-3 h-3 mr-1"}),t==null?void 0:t.role]}),(t==null?void 0:t.department)&&n.jsx(rt,{variant:"outline",className:"text-xs",children:t.department}),n.jsx(rt,{variant:t!=null&&t.is_active?"default":"destructive",className:"text-xs",children:t!=null&&t.is_active?"Active":"Inactive"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs(ue,{variant:"ghost",className:"w-full justify-start h-12 px-4",onClick:l,children:[n.jsx(yl,{className:"w-5 h-5 mr-3"}),"View Profile"]}),n.jsxs(ue,{variant:"ghost",className:"w-full justify-start h-12 px-4 mt-2",onClick:l,children:[n.jsx(Rv,{className:"w-5 h-5 mr-3"}),"Account Settings"]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs(ue,{variant:"ghost",className:"w-full justify-start h-12 px-4 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:o,disabled:r.isPending,children:[n.jsx(Iv,{className:"w-5 h-5 mr-3"}),r.isPending?"Signing out...":"Sign Out"]})}),(t==null?void 0:t.last_login)&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("p",{className:"text-xs text-gray-500 px-4",children:["Last login: ",new Date(t.last_login).toLocaleDateString()," at"," ",new Date(t.last_login).toLocaleTimeString()]})})]})]})]})]})}var VV=x.createContext(void 0);function Yf(e){const t=x.useContext(VV);return e||t||"ltr"}var Jx="rovingFocusGroup.onEntryFocus",$V={bubbles:!1,cancelable:!0},Cp="RovingFocusGroup",[Wv,jP,zV]=dp(Cp),[qV,kp]=Xn(Cp,[zV]),[WV,HV]=qV(Cp),SP=x.forwardRef((e,t)=>n.jsx(Wv.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Wv.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(KV,{...e,ref:t})})}));SP.displayName=Cp;var KV=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=x.useRef(null),p=Et(t,h),y=Yf(i),[m=null,g]=No({prop:o,defaultProp:l,onChange:c}),[w,v]=x.useState(!1),_=hr(d),N=jP(r),T=x.useRef(!1),[S,b]=x.useState(0);return x.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(Jx,_),()=>I.removeEventListener(Jx,_)},[_]),n.jsx(WV,{scope:r,orientation:s,dir:y,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(I=>g(I),[g]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>b(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>b(I=>I-1),[]),children:n.jsx(ct.div,{tabIndex:w||S===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{T.current=!0}),onFocus:Ue(e.onFocus,I=>{const D=!T.current;if(I.target===I.currentTarget&&D&&!w){const C=new CustomEvent(Jx,$V);if(I.currentTarget.dispatchEvent(C),!C.defaultPrevented){const R=N().filter(se=>se.focusable),k=R.find(se=>se.active),L=R.find(se=>se.id===m),fe=[k,L,...R].filter(Boolean).map(se=>se.ref.current);CP(fe,u)}}T.current=!1}),onBlur:Ue(e.onBlur,()=>v(!1))})})}),EP="RovingFocusGroupItem",TP=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=yn(),c=i||l,d=HV(EP,r),u=d.currentTabStopId===c,f=jP(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=d;return x.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),n.jsx(Wv.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ct.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ue(e.onMouseDown,y=>{s?d.onItemFocus(c):y.preventDefault()}),onFocus:Ue(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ue(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=YV(y,d.orientation,d.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const v=w.indexOf(y.currentTarget);w=d.loop?XV(w,v+1):w.slice(v+1)}setTimeout(()=>CP(w))}})})})});TP.displayName=EP;var GV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YV(e,t,r){const s=QV(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return GV[s]}function CP(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function XV(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var kP=SP,AP=TP,Hv=["Enter"," "],ZV=["ArrowDown","PageUp","Home"],PP=["ArrowUp","PageDown","End"],JV=[...ZV,...PP],e$={ltr:[...Hv,"ArrowRight"],rtl:[...Hv,"ArrowLeft"]},t$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xf="Menu",[sf,r$,n$]=dp(Xf),[Ml,DP]=Xn(Xf,[n$,Lo,kp]),Ap=Lo(),OP=kp(),[s$,Ll]=Ml(Xf),[a$,Zf]=Ml(Xf),FP=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Ap(t),[c,d]=x.useState(null),u=x.useRef(!1),f=hr(i),h=Yf(a);return x.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(R1,{...l,children:n.jsx(s$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(a$,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:s})})})};FP.displayName=Xf;var i$="MenuAnchor",K1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Ap(r);return n.jsx(qf,{...a,...s,ref:t})});K1.displayName=i$;var G1="MenuPortal",[o$,IP]=Ml(G1,{forceMount:void 0}),RP=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Ll(G1,t);return n.jsx(o$,{scope:t,forceMount:r,children:n.jsx(bn,{present:r||i.open,children:n.jsx(jd,{asChild:!0,container:a,children:s})})})};RP.displayName=G1;var Zs="MenuContent",[l$,Q1]=Ml(Zs),MP=x.forwardRef((e,t)=>{const r=IP(Zs,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ll(Zs,e.__scopeMenu),o=Zf(Zs,e.__scopeMenu);return n.jsx(sf.Provider,{scope:e.__scopeMenu,children:n.jsx(bn,{present:s||i.open,children:n.jsx(sf.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(c$,{...a,ref:t}):n.jsx(d$,{...a,ref:t})})})})}),c$=x.forwardRef((e,t)=>{const r=Ll(Zs,e.__scopeMenu),s=x.useRef(null),a=Et(t,s);return x.useEffect(()=>{const i=s.current;if(i)return Sp(i)},[]),n.jsx(Y1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),d$=x.forwardRef((e,t)=>{const r=Ll(Zs,e.__scopeMenu);return n.jsx(Y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),u$=wo("MenuContent.ScrollLock"),Y1=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,g=Ll(Zs,r),w=Zf(Zs,r),v=Ap(r),_=OP(r),N=r$(r),[T,S]=x.useState(null),b=x.useRef(null),I=Et(t,b,g.onContentChange),D=x.useRef(0),C=x.useRef(""),R=x.useRef(0),k=x.useRef(null),L=x.useRef("right"),ie=x.useRef(0),fe=y?Kf:x.Fragment,se=y?{as:u$,allowPinchZoom:!0}:void 0,ce=oe=>{var J,_e;const ee=C.current+oe,we=N().filter(le=>!le.disabled),P=document.activeElement,F=(J=we.find(le=>le.ref.current===P))==null?void 0:J.textValue,U=we.map(le=>le.textValue),j=b$(U,ee,F),M=(_e=we.find(le=>le.textValue===j))==null?void 0:_e.ref.current;(function le(pe){C.current=pe,window.clearTimeout(D.current),pe!==""&&(D.current=window.setTimeout(()=>le(""),1e3))})(ee),M&&setTimeout(()=>M.focus())};x.useEffect(()=>()=>window.clearTimeout(D.current),[]),bp();const q=x.useCallback(oe=>{var we,P;return L.current===((we=k.current)==null?void 0:we.side)&&S$(oe,(P=k.current)==null?void 0:P.area)},[]);return n.jsx(l$,{scope:r,searchRef:C,onItemEnter:x.useCallback(oe=>{q(oe)&&oe.preventDefault()},[q]),onItemLeave:x.useCallback(oe=>{var ee;q(oe)||((ee=b.current)==null||ee.focus(),S(null))},[q]),onTriggerLeave:x.useCallback(oe=>{q(oe)&&oe.preventDefault()},[q]),pointerGraceTimerRef:R,onPointerGraceIntentChange:x.useCallback(oe=>{k.current=oe},[]),children:n.jsx(fe,{...se,children:n.jsx(Hf,{asChild:!0,trapped:a,onMountAutoFocus:Ue(i,oe=>{var ee;oe.preventDefault(),(ee=b.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Rl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:n.jsx(kP,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:S,onEntryFocus:Ue(c,oe=>{w.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(yp,{role:"menu","aria-orientation":"vertical","data-state":JP(g.open),"data-radix-menu-content":"",dir:w.dir,...v,...m,ref:I,style:{outline:"none",...m.style},onKeyDown:Ue(m.onKeyDown,oe=>{const we=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,P=oe.ctrlKey||oe.altKey||oe.metaKey,F=oe.key.length===1;we&&(oe.key==="Tab"&&oe.preventDefault(),!P&&F&&ce(oe.key));const U=b.current;if(oe.target!==U||!JV.includes(oe.key))return;oe.preventDefault();const M=N().filter(J=>!J.disabled).map(J=>J.ref.current);PP.includes(oe.key)&&M.reverse(),w$(M)}),onBlur:Ue(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(D.current),C.current="")}),onPointerMove:Ue(e.onPointerMove,af(oe=>{const ee=oe.target,we=ie.current!==oe.clientX;if(oe.currentTarget.contains(ee)&&we){const P=oe.clientX>ie.current?"right":"left";L.current=P,ie.current=oe.clientX}}))})})})})})})});MP.displayName=Zs;var f$="MenuGroup",X1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ct.div,{role:"group",...s,ref:t})});X1.displayName=f$;var h$="MenuLabel",LP=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ct.div,{...s,ref:t})});LP.displayName=h$;var e0="MenuItem",nb="menu.itemSelect",Pp=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=x.useRef(null),o=Zf(e0,e.__scopeMenu),l=Q1(e0,e.__scopeMenu),c=Et(t,i),d=x.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(nb,{bubbles:!0,cancelable:!0});f.addEventListener(nb,p=>s==null?void 0:s(p),{once:!0}),N1(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(BP,{...a,ref:c,disabled:r,onClick:Ue(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:Ue(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Hv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pp.displayName=e0;var BP=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=Q1(e0,r),l=OP(r),c=x.useRef(null),d=Et(t,c),[u,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),n.jsx(sf.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(AP,{asChild:!0,...l,focusable:!s,children:n.jsx(ct.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Ue(e.onPointerMove,af(y=>{s?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,af(y=>o.onItemLeave(y))),onFocus:Ue(e.onFocus,()=>f(!0)),onBlur:Ue(e.onBlur,()=>f(!1))})})})}),m$="MenuCheckboxItem",UP=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(WP,{scope:e.__scopeMenu,checked:r,children:n.jsx(Pp,{role:"menuitemcheckbox","aria-checked":t0(r)?"mixed":r,...a,ref:t,"data-state":J1(r),onSelect:Ue(a.onSelect,()=>s==null?void 0:s(t0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});UP.displayName=m$;var VP="MenuRadioGroup",[p$,x$]=Ml(VP,{value:void 0,onValueChange:()=>{}}),$P=x.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=hr(s);return n.jsx(p$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(X1,{...a,ref:t})})});$P.displayName=VP;var zP="MenuRadioItem",qP=x.forwardRef((e,t)=>{const{value:r,...s}=e,a=x$(zP,e.__scopeMenu),i=r===a.value;return n.jsx(WP,{scope:e.__scopeMenu,checked:i,children:n.jsx(Pp,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":J1(i),onSelect:Ue(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});qP.displayName=zP;var Z1="MenuItemIndicator",[WP,g$]=Ml(Z1,{checked:!1}),HP=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=g$(Z1,r);return n.jsx(bn,{present:s||t0(i.checked)||i.checked===!0,children:n.jsx(ct.span,{...a,ref:t,"data-state":J1(i.checked)})})});HP.displayName=Z1;var v$="MenuSeparator",KP=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});KP.displayName=v$;var y$="MenuArrow",GP=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Ap(r);return n.jsx(_p,{...a,...s,ref:t})});GP.displayName=y$;var _$="MenuSub",[yie,QP]=Ml(_$),du="MenuSubTrigger",YP=x.forwardRef((e,t)=>{const r=Ll(du,e.__scopeMenu),s=Zf(du,e.__scopeMenu),a=QP(du,e.__scopeMenu),i=Q1(du,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(K1,{asChild:!0,...d,children:n.jsx(BP,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":JP(r.open),...e,ref:Ti(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,af(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ue(e.onPointerLeave,af(f=>{var p,y;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,g=m==="right",w=g?-5:5,v=h[g?"left":"right"],_=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:v,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||e$[s.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});YP.displayName=du;var XP="MenuSubContent",ZP=x.forwardRef((e,t)=>{const r=IP(Zs,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ll(Zs,e.__scopeMenu),o=Zf(Zs,e.__scopeMenu),l=QP(XP,e.__scopeMenu),c=x.useRef(null),d=Et(t,c);return n.jsx(sf.Provider,{scope:e.__scopeMenu,children:n.jsx(bn,{present:s||i.open,children:n.jsx(sf.Slot,{scope:e.__scopeMenu,children:n.jsx(Y1,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ue(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=t$[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});ZP.displayName=XP;function JP(e){return e?"open":"closed"}function t0(e){return e==="indeterminate"}function J1(e){return t0(e)?"indeterminate":e?"checked":"unchecked"}function w$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function N$(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function b$(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=N$(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function j$(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function S$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return j$(r,t)}function af(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E$=FP,T$=K1,C$=RP,k$=MP,A$=X1,P$=LP,D$=Pp,O$=UP,F$=$P,I$=qP,R$=HP,M$=KP,L$=GP,B$=YP,U$=ZP,e_="DropdownMenu",[V$,_ie]=Xn(e_,[DP]),Zn=DP(),[$$,eD]=V$(e_),tD=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Zn(t),d=x.useRef(null),[u=!1,f]=No({prop:a,defaultProp:i,onChange:o});return n.jsx($$,{scope:t,triggerId:yn(),triggerRef:d,contentId:yn(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:n.jsx(E$,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};tD.displayName=e_;var rD="DropdownMenuTrigger",nD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=eD(rD,r),o=Zn(r);return n.jsx(T$,{asChild:!0,...o,children:n.jsx(ct.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ti(t,i.triggerRef),onPointerDown:Ue(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ue(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});nD.displayName=rD;var z$="DropdownMenuPortal",sD=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Zn(t);return n.jsx(C$,{...s,...r})};sD.displayName=z$;var aD="DropdownMenuContent",iD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=eD(aD,r),i=Zn(r),o=x.useRef(!1);return n.jsx(k$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iD.displayName=aD;var q$="DropdownMenuGroup",W$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(A$,{...a,...s,ref:t})});W$.displayName=q$;var H$="DropdownMenuLabel",oD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(P$,{...a,...s,ref:t})});oD.displayName=H$;var K$="DropdownMenuItem",lD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(D$,{...a,...s,ref:t})});lD.displayName=K$;var G$="DropdownMenuCheckboxItem",cD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(O$,{...a,...s,ref:t})});cD.displayName=G$;var Q$="DropdownMenuRadioGroup",Y$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(F$,{...a,...s,ref:t})});Y$.displayName=Q$;var X$="DropdownMenuRadioItem",dD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(I$,{...a,...s,ref:t})});dD.displayName=X$;var Z$="DropdownMenuItemIndicator",uD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(R$,{...a,...s,ref:t})});uD.displayName=Z$;var J$="DropdownMenuSeparator",fD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(M$,{...a,...s,ref:t})});fD.displayName=J$;var ez="DropdownMenuArrow",tz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(L$,{...a,...s,ref:t})});tz.displayName=ez;var rz="DropdownMenuSubTrigger",hD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(B$,{...a,...s,ref:t})});hD.displayName=rz;var nz="DropdownMenuSubContent",mD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Zn(r);return n.jsx(U$,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mD.displayName=nz;var sz=tD,az=nD,iz=sD,pD=iD,xD=oD,gD=lD,vD=cD,yD=dD,_D=uD,wD=fD,ND=hD,bD=mD;const of=sz,lf=az,oz=x.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(ND,{ref:a,className:Te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[r,n.jsx(Qk,{className:"ml-auto"})]}));oz.displayName=ND.displayName;const lz=x.forwardRef(({className:e,...t},r)=>n.jsx(bD,{ref:r,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));lz.displayName=bD.displayName;const ld=x.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(iz,{children:n.jsx(pD,{ref:s,sideOffset:t,className:Te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));ld.displayName=pD.displayName;const Br=x.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(gD,{ref:s,className:Te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Br.displayName=gD.displayName;const cz=x.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(vD,{ref:a,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(_D,{children:n.jsx(ad,{className:"h-4 w-4"})})}),t]}));cz.displayName=vD.displayName;const dz=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(yD,{ref:s,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(_D,{children:n.jsx(iB,{className:"h-2 w-2 fill-current"})})}),t]}));dz.displayName=yD.displayName;const uz=x.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(xD,{ref:s,className:Te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));uz.displayName=xD.displayName;const Kv=x.forwardRef(({className:e,...t},r)=>n.jsx(wD,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));Kv.displayName=wD.displayName;const sb=[{name:"Dashboard",href:"/",icon:rB,active:!0},{name:"Platform PO",href:"/platform-po",icon:Ls,active:!0,description:"Create, upload & manage platform orders"},{name:"Distributor PO",href:"/distributor-po",icon:gB,active:!0,description:"Create & manage distributor purchase orders"},{name:"Secondary Sales",href:"/secondary-sales",icon:cs,active:!0,description:"Upload & manage secondary sales data from platforms"},{name:"Inventory",href:"/inventory",icon:ht,active:!0,description:"Upload & manage inventory data from platforms"},{name:"Create PF Item",href:"/pf-item-creation",icon:Xs,active:!0,description:"Create new platform items"},{name:"SAP Sync",href:"/sap-sync",icon:ta,active:!0,description:"Sync item master data from SAP B1 Hanna ERP"},{name:"SQL Query",href:"/sql-query",icon:ta,active:!0,description:"Execute custom SQL queries and explore data"}];function ur({children:e}){const[t,r]=x.useState(!1),[s,a]=Fs(),{user:i,logoutMutation:o}=Wf(),l=()=>{r(!t)},c=()=>{r(!1)};return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[t&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:c}),n.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:n.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-white shadow-lg border-r border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:n.jsx(FN,{className:"text-white text-lg",size:20})}),n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Jivo E-Com"})})]})}),n.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",style:{scrollbarWidth:"thin"},children:sb.map(d=>{const u=s===d.href,f=d.icon;return n.jsx(en,{to:d.href,children:n.jsxs("div",{className:Te("flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200",u?"text-primary bg-blue-50 border border-blue-200 font-medium shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-primary",!d.active&&"opacity-50 pointer-events-none"),children:[n.jsx(f,{size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:d.name}),d.comingSoon&&n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:"Coming Soon"})]}),d.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d.description})]})]})},d.name)})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs(of,{children:[n.jsx(lf,{asChild:!0,children:n.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors duration-200",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(yl,{size:16,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.full_name)||(i==null?void 0:i.username)||"User"}),n.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[(i==null?void 0:i.department)||"Department","  ",(i==null?void 0:i.role)||"user"]})]}),n.jsx(Ci,{size:14,className:"text-gray-400"})]})}),n.jsxs(ld,{align:"end",className:"w-56",children:[n.jsxs(Br,{className:"cursor-pointer",onClick:()=>a("/profile"),children:[n.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),n.jsx(Kv,{}),n.jsxs(Br,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:()=>o.mutate(),disabled:o.isPending,children:[n.jsx(Iv,{className:"mr-2 h-4 w-4"}),o.isPending?"Signing out...":"Sign Out"]})]})]})})]})}),n.jsx("div",{className:Te("fixed inset-y-0 left-0 z-50 w-80 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:hidden",t?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:n.jsx(FN,{className:"text-white",size:18})}),n.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Jivo E-Com"})]}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(ei,{size:20})})]}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:sb.map(d=>{const u=s===d.href,f=d.icon;return n.jsx(en,{to:d.href,onClick:c,children:n.jsxs("div",{className:Te("flex items-center space-x-3 px-4 py-4 rounded-xl transition-all duration-200",u?"text-primary bg-blue-50 border border-blue-200 font-medium shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-primary active:bg-gray-100",!d.active&&"opacity-50 pointer-events-none"),children:[n.jsx(f,{size:22}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium truncate",children:d.name}),d.comingSoon&&n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full whitespace-nowrap",children:"Coming Soon"})]}),d.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:d.description})]})]})},d.name)})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs(of,{children:[n.jsx(lf,{asChild:!0,children:n.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors duration-200",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(yl,{size:18,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.full_name)||(i==null?void 0:i.username)||"User"}),n.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[(i==null?void 0:i.department)||"Department","  ",(i==null?void 0:i.role)||"user"]})]}),n.jsx(Ci,{size:16,className:"text-gray-400"})]})}),n.jsxs(ld,{align:"end",className:"w-56",children:[n.jsxs(Br,{className:"cursor-pointer",onClick:()=>{a("/profile"),c()},children:[n.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),n.jsx(Kv,{}),n.jsxs(Br,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:()=>{o.mutate(),c()},disabled:o.isPending,children:[n.jsx(Iv,{className:"mr-2 h-4 w-4"}),o.isPending?"Signing out...":"Sign Out"]})]})]})})]})}),n.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64 min-w-0",children:[n.jsx("div",{className:"lg:hidden",children:n.jsx(UV,{onMenuClick:l})}),n.jsx("div",{className:"flex-1 overflow-auto bg-gray-50",children:n.jsx("div",{className:"h-full",children:e})})]})]})}const ve=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ve.displayName="Card";const Oe=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));Oe.displayName="CardHeader";const Me=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Me.displayName="CardTitle";const kt=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));kt.displayName="CardDescription";const be=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("p-6 pt-0",e),...t}));be.displayName="CardContent";const fz=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("flex items-center p-6 pt-0",e),...t}));fz.displayName="CardFooter";class jD extends x.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){var s,a;console.error(" ERROR BOUNDARY CAUGHT ERROR:",t.message),console.error(" ERROR STACK:",t.stack),console.error(" ERROR INFO:",r),t.message.includes("toLowerCase")&&console.error(" TOLOWERCASE ERROR DETECTED:",{message:t.message,stack:t.stack,component:r.componentStack}),this.setState({error:t,errorInfo:r}),(a=(s=this.props).onError)==null||a.call(s,t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs(ve,{className:"w-full max-w-lg",children:[n.jsxs(Oe,{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-red-100 rounded-full p-3",children:n.jsx(pp,{className:"h-8 w-8 text-red-600"})})}),n.jsx(Me,{className:"text-xl text-red-800",children:"Oops! Something went wrong"}),n.jsx(kt,{children:"The application encountered an unexpected error. Don't worry, this has been logged and we'll look into it."})]}),n.jsxs(be,{className:"space-y-4",children:[!1,n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(ue,{onClick:this.handleRetry,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Try Again"]}),n.jsxs(ue,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[n.jsx(cB,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support with the error details above."})})]})]})}):this.props.children}}const SD=x.createContext(null);function hz(){const e=x.useContext(SD);if(!e)throw new Error("useNotifications must be used within NotificationProvider");return e}function mz({children:e,maxNotifications:t=5}){const[r,s]=x.useState([]),a=x.useCallback(l=>{const c=Math.random().toString(36).substr(2,9),d={id:c,duration:5e3,...l};s(u=>[d,...u].slice(0,t)),!d.persistent&&d.duration&&d.duration>0&&setTimeout(()=>{i(c)},d.duration)},[t]),i=x.useCallback(l=>{s(c=>c.filter(d=>d.id!==l))},[]),o=x.useCallback(()=>{s([])},[]);return n.jsxs(SD.Provider,{value:{notifications:r,addNotification:a,removeNotification:i,clearAll:o},children:[e,n.jsx(pz,{})]})}function pz(){const{notifications:e,removeNotification:t}=hz();return e.length===0?null:n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 w-96 max-w-sm",children:e.map(r=>n.jsx(xz,{notification:r,onClose:()=>t(r.id)},r.id))})}function xz({notification:e,onClose:t}){const[r,s]=x.useState(!1),[a,i]=x.useState(!1);x.useEffect(()=>{const u=setTimeout(()=>s(!0),50);return()=>clearTimeout(u)},[]);const o=x.useCallback(()=>{i(!0),setTimeout(()=>{t()},300)},[t]),c={success:{icon:Ea,bg:"bg-green-50 border-green-200",iconColor:"text-green-600",titleColor:"text-green-800",messageColor:"text-green-700"},error:{icon:Qr,bg:"bg-red-50 border-red-200",iconColor:"text-red-600",titleColor:"text-red-800",messageColor:"text-red-700"},warning:{icon:pp,bg:"bg-orange-50 border-orange-200",iconColor:"text-orange-600",titleColor:"text-orange-800",messageColor:"text-orange-700"},info:{icon:uB,bg:"bg-blue-50 border-blue-200",iconColor:"text-blue-600",titleColor:"text-blue-800",messageColor:"text-blue-700"}}[e.type],d=c.icon;return n.jsx("div",{className:Te("rounded-lg border p-4 shadow-lg backdrop-blur-sm transition-all duration-300 transform",c.bg,r&&!a?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(d,{className:Te("h-5 w-5 mt-0.5 flex-shrink-0",c.iconColor)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:Te("text-sm font-medium",c.titleColor),children:e.title}),e.message&&n.jsx("p",{className:Te("text-sm mt-1 leading-relaxed",c.messageColor),children:e.message})]}),n.jsx("button",{onClick:o,className:"flex-shrink-0 p-1 rounded-full hover:bg-black/5 transition-colors","aria-label":"Close notification",children:n.jsx(ei,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})})}const ke=x.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));ke.displayName="Input";var Jf=e=>e.type==="checkbox",el=e=>e instanceof Date,Ln=e=>e==null;const ED=e=>typeof e=="object";var Ir=e=>!Ln(e)&&!Array.isArray(e)&&ED(e)&&!el(e),TD=e=>Ir(e)&&e.target?Jf(e.target)?e.target.checked:e.target.value:e,gz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,CD=(e,t)=>e.has(gz(t)),vz=e=>{const t=e.constructor&&e.constructor.prototype;return Ir(t)&&t.hasOwnProperty("isPrototypeOf")},t_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cn(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(t_&&(e instanceof Blob||s))&&(r||Ir(e)))if(t=r?[]:{},!r&&!vz(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=cn(e[a]));else return e;return t}var Dp=e=>Array.isArray(e)?e.filter(Boolean):[],Pr=e=>e===void 0,Ze=(e,t,r)=>{if(!t||!Ir(e))return r;const s=Dp(t.split(/[,[\].]+?/)).reduce((a,i)=>Ln(a)?a:a[i],e);return Pr(s)||s===e?Pr(e[t])?r:e[t]:s},vs=e=>typeof e=="boolean",r_=e=>/^\w*$/.test(e),kD=e=>Dp(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qt=(e,t,r)=>{let s=-1;const a=r_(t)?[t]:kD(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Ir(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const r0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AD=wt.createContext(null),Op=()=>wt.useContext(AD),yz=e=>{const{children:t,...r}=e;return wt.createElement(AD.Provider,{value:r},t)};var PD=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==xa.all&&(t._proxyFormState[o]=!s||xa.all),r&&(r[o]=!0),e[o]}});return a};function _z(e){const t=Op(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=wt.useState(r._formState),c=wt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=wt.useRef(a);return d.current=a,wt.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!s&&l({...r._formState,...u})}}),[r,s,i]),wt.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),wt.useMemo(()=>PD(o,r,c.current,!1),[o,r])}var za=e=>typeof e=="string",DD=(e,t,r,s,a)=>za(e)?(s&&t.watch.add(e),Ze(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ze(r,i))):(s&&(t.watchAll=!0),r);function wz(e){const t=Op(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=wt.useRef(s),c=wt.useRef(a);l.current=s,wt.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&u(DD(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,u]=wt.useState(r._getWatch(s,a));return wt.useEffect(()=>r._removeUnmounted()),d}function Nz(e){const t=Op(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=CD(a._names.array,r),l=wz({control:a,name:r,defaultValue:Ze(a._formValues,r,Ze(a._defaultValues,r,e.defaultValue)),exact:!0}),c=_z({control:a,name:r,exact:!0}),d=wt.useRef(e),u=wt.useRef(a.register(r,{...e.rules,value:l,...vs(e.disabled)?{disabled:e.disabled}:{}})),f=wt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(c.errors,r)}}),[c,r]),h=wt.useCallback(g=>u.current.onChange({target:{value:TD(g),name:r},type:r0.CHANGE}),[r]),p=wt.useCallback(()=>u.current.onBlur({target:{value:Ze(a._formValues,r),name:r},type:r0.BLUR}),[r,a._formValues]),y=wt.useCallback(g=>{const w=Ze(a._fields,r);w&&g&&(w._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:v=>g.setCustomValidity(v),reportValidity:()=>g.reportValidity()})},[a._fields,r]),m=wt.useMemo(()=>({name:r,value:l,...vs(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:h,onBlur:p,ref:y}),[r,s,c.disabled,h,p,y,l]);return wt.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...vs(d.current.disabled)?{disabled:d.current.disabled}:{}});const w=(v,_)=>{const N=Ze(a._fields,v);N&&N._f&&(N._f.mount=_)};if(w(r,!0),g){const v=cn(Ze(a._options.defaultValues,r));qt(a._defaultValues,r,v),Pr(Ze(a._formValues,r))&&qt(a._formValues,r,v)}return!o&&a.register(r),()=>{(o?g&&!a._state.action:g)?a.unregister(r):w(r,!1)}},[r,a,o,i]),wt.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),wt.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const gm=e=>e.render(Nz(e));var OD=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},Eu=e=>Array.isArray(e)?e:[e],ab=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Gv=e=>Ln(e)||!ED(e);function Qi(e,t){if(Gv(e)||Gv(t))return e===t;if(el(e)&&el(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(el(i)&&el(o)||Ir(i)&&Ir(o)||Array.isArray(i)&&Array.isArray(o)?!Qi(i,o):i!==o)return!1}}return!0}var Rn=e=>Ir(e)&&!Object.keys(e).length,n_=e=>e.type==="file",ga=e=>typeof e=="function",n0=e=>{if(!t_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},FD=e=>e.type==="select-multiple",s_=e=>e.type==="radio",bz=e=>s_(e)||Jf(e),eg=e=>n0(e)&&e.isConnected;function jz(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Pr(e)?s++:e[t[s++]];return e}function Sz(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pr(e[t]))return!1;return!0}function Kr(e,t){const r=Array.isArray(t)?t:r_(t)?[t]:kD(t),s=r.length===1?e:jz(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ir(s)&&Rn(s)||Array.isArray(s)&&Sz(s))&&Kr(e,r.slice(0,-1)),e}var ID=e=>{for(const t in e)if(ga(e[t]))return!0;return!1};function s0(e,t={}){const r=Array.isArray(e);if(Ir(e)||r)for(const s in e)Array.isArray(e[s])||Ir(e[s])&&!ID(e[s])?(t[s]=Array.isArray(e[s])?[]:{},s0(e[s],t[s])):Ln(e[s])||(t[s]=!0);return t}function RD(e,t,r){const s=Array.isArray(e);if(Ir(e)||s)for(const a in e)Array.isArray(e[a])||Ir(e[a])&&!ID(e[a])?Pr(t)||Gv(r[a])?r[a]=Array.isArray(e[a])?s0(e[a],[]):{...s0(e[a])}:RD(e[a],Ln(t)?{}:t[a],r[a]):r[a]=!Qi(e[a],t[a]);return r}var Zd=(e,t)=>RD(e,t,s0(t));const ib={value:!1,isValid:!1},ob={value:!0,isValid:!0};var MD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pr(e[0].attributes.value)?Pr(e[0].value)||e[0].value===""?ob:{value:e[0].value,isValid:!0}:ob:ib}return ib},LD=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Pr(e)?e:t?e===""?NaN:e&&+e:r&&za(e)?new Date(e):s?s(e):e;const lb={isValid:!1,value:null};var BD=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,lb):lb;function cb(e){const t=e.ref;return n_(t)?t.files:s_(t)?BD(e.refs).value:FD(t)?[...t.selectedOptions].map(({value:r})=>r):Jf(t)?MD(e.refs).value:LD(Pr(t.value)?e.ref.value:t.value,e)}var Ez=(e,t,r,s)=>{const a={};for(const i of e){const o=Ze(t,i);o&&qt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},a0=e=>e instanceof RegExp,Jd=e=>Pr(e)?e:a0(e)?e.source:Ir(e)?a0(e.value)?e.value.source:e.value:e,db=e=>({isOnSubmit:!e||e===xa.onSubmit,isOnBlur:e===xa.onBlur,isOnChange:e===xa.onChange,isOnAll:e===xa.all,isOnTouch:e===xa.onTouched});const ub="AsyncFunction";var Tz=e=>!!e&&!!e.validate&&!!(ga(e.validate)&&e.validate.constructor.name===ub||Ir(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ub)),Cz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),fb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Tu=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=Ze(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Tu(l,t))break}else if(Ir(l)&&Tu(l,t))break}}};function hb(e,t,r){const s=Ze(e,r);if(s||r_(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ze(t,i),l=Ze(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var kz=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Rn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||xa.all))},Az=(e,t,r)=>!e||!t||e===t||Eu(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Pz=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Dz=(e,t)=>!Dp(Ze(e,t)).length&&Kr(e,t),Oz=(e,t,r)=>{const s=Eu(Ze(e,r));return qt(s,"root",t[r]),qt(e,r,s),e},vm=e=>za(e);function mb(e,t,r="validate"){if(vm(e)||Array.isArray(e)&&e.every(vm)||vs(e)&&!e)return{type:r,message:vm(e)?e:"",ref:t}}var Gl=e=>Ir(e)&&!a0(e)?e:{value:e,message:""},pb=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:g,mount:w}=e._f,v=Ze(r,m);if(!w||t.has(m))return{};const _=l?l[0]:o,N=k=>{a&&_.reportValidity&&(_.setCustomValidity(vs(k)?"":k||""),_.reportValidity())},T={},S=s_(o),b=Jf(o),I=S||b,D=(g||n_(o))&&Pr(o.value)&&Pr(v)||n0(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,C=OD.bind(null,m,s,T),R=(k,L,ie,fe=ii.maxLength,se=ii.minLength)=>{const ce=k?L:ie;T[m]={type:k?fe:se,message:ce,ref:o,...C(k?fe:se,ce)}};if(i?!Array.isArray(v)||!v.length:c&&(!I&&(D||Ln(v))||vs(v)&&!v||b&&!MD(l).isValid||S&&!BD(l).isValid)){const{value:k,message:L}=vm(c)?{value:!!c,message:c}:Gl(c);if(k&&(T[m]={type:ii.required,message:L,ref:_,...C(ii.required,L)},!s))return N(L),T}if(!D&&(!Ln(f)||!Ln(h))){let k,L;const ie=Gl(h),fe=Gl(f);if(!Ln(v)&&!isNaN(v)){const se=o.valueAsNumber||v&&+v;Ln(ie.value)||(k=se>ie.value),Ln(fe.value)||(L=se<fe.value)}else{const se=o.valueAsDate||new Date(v),ce=ee=>new Date(new Date().toDateString()+" "+ee),q=o.type=="time",oe=o.type=="week";za(ie.value)&&v&&(k=q?ce(v)>ce(ie.value):oe?v>ie.value:se>new Date(ie.value)),za(fe.value)&&v&&(L=q?ce(v)<ce(fe.value):oe?v<fe.value:se<new Date(fe.value))}if((k||L)&&(R(!!k,ie.message,fe.message,ii.max,ii.min),!s))return N(T[m].message),T}if((d||u)&&!D&&(za(v)||i&&Array.isArray(v))){const k=Gl(d),L=Gl(u),ie=!Ln(k.value)&&v.length>+k.value,fe=!Ln(L.value)&&v.length<+L.value;if((ie||fe)&&(R(ie,k.message,L.message),!s))return N(T[m].message),T}if(p&&!D&&za(v)){const{value:k,message:L}=Gl(p);if(a0(k)&&!v.match(k)&&(T[m]={type:ii.pattern,message:L,ref:o,...C(ii.pattern,L)},!s))return N(L),T}if(y){if(ga(y)){const k=await y(v,r),L=mb(k,_);if(L&&(T[m]={...L,...C(ii.validate,L.message)},!s))return N(L.message),T}else if(Ir(y)){let k={};for(const L in y){if(!Rn(k)&&!s)break;const ie=mb(await y[L](v,r),_,L);ie&&(k={...ie,...C(L,ie.message)},N(ie.message),s&&(T[m]=k))}if(!Rn(k)&&(T[m]={ref:_,...k},!s))return T}}return N(!0),T};const Fz={mode:xa.onSubmit,reValidateMode:xa.onChange,shouldFocusError:!0};function Iz(e={}){let t={...Fz,...e},r={submitCount:0,isDirty:!1,isLoading:ga(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let a=Ir(t.defaultValues)||Ir(t.values)?cn(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:cn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:ab(),state:ab()},p=db(t.mode),y=db(t.reValidateMode),m=t.criteriaMode===xa.all,g=te=>he=>{clearTimeout(d),d=setTimeout(te,he)},w=async te=>{if(!t.disabled&&(u.isValid||f.isValid||te)){const he=t.resolver?Rn((await D()).errors):await R(s,!0);he!==r.isValid&&h.state.next({isValid:he})}},v=(te,he)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((te||Array.from(l.mount)).forEach(je=>{je&&(he?qt(r.validatingFields,je,he):Kr(r.validatingFields,je))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Rn(r.validatingFields)}))},_=(te,he=[],je,Ke,$e=!0,Ie=!0)=>{if(Ke&&je&&!t.disabled){if(o.action=!0,Ie&&Array.isArray(Ze(s,te))){const Xe=je(Ze(s,te),Ke.argA,Ke.argB);$e&&qt(s,te,Xe)}if(Ie&&Array.isArray(Ze(r.errors,te))){const Xe=je(Ze(r.errors,te),Ke.argA,Ke.argB);$e&&qt(r.errors,te,Xe),Dz(r.errors,te)}if((u.touchedFields||f.touchedFields)&&Ie&&Array.isArray(Ze(r.touchedFields,te))){const Xe=je(Ze(r.touchedFields,te),Ke.argA,Ke.argB);$e&&qt(r.touchedFields,te,Xe)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Zd(a,i)),h.state.next({name:te,isDirty:L(te,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qt(i,te,he)},N=(te,he)=>{qt(r.errors,te,he),h.state.next({errors:r.errors})},T=te=>{r.errors=te,h.state.next({errors:r.errors,isValid:!1})},S=(te,he,je,Ke)=>{const $e=Ze(s,te);if($e){const Ie=Ze(i,te,Pr(je)?Ze(a,te):je);Pr(Ie)||Ke&&Ke.defaultChecked||he?qt(i,te,he?Ie:cb($e._f)):se(te,Ie),o.mount&&w()}},b=(te,he,je,Ke,$e)=>{let Ie=!1,Xe=!1;const K={name:te};if(!t.disabled){if(!je||Ke){(u.isDirty||f.isDirty)&&(Xe=r.isDirty,r.isDirty=K.isDirty=L(),Ie=Xe!==K.isDirty);const de=Qi(Ze(a,te),he);Xe=!!Ze(r.dirtyFields,te),de?Kr(r.dirtyFields,te):qt(r.dirtyFields,te,!0),K.dirtyFields=r.dirtyFields,Ie=Ie||(u.dirtyFields||f.dirtyFields)&&Xe!==!de}if(je){const de=Ze(r.touchedFields,te);de||(qt(r.touchedFields,te,je),K.touchedFields=r.touchedFields,Ie=Ie||(u.touchedFields||f.touchedFields)&&de!==je)}Ie&&$e&&h.state.next(K)}return Ie?K:{}},I=(te,he,je,Ke)=>{const $e=Ze(r.errors,te),Ie=(u.isValid||f.isValid)&&vs(he)&&r.isValid!==he;if(t.delayError&&je?(c=g(()=>N(te,je)),c(t.delayError)):(clearTimeout(d),c=null,je?qt(r.errors,te,je):Kr(r.errors,te)),(je?!Qi($e,je):$e)||!Rn(Ke)||Ie){const Xe={...Ke,...Ie&&vs(he)?{isValid:he}:{},errors:r.errors,name:te};r={...r,...Xe},h.state.next(Xe)}},D=async te=>{v(te,!0);const he=await t.resolver(i,t.context,Ez(te||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(te),he},C=async te=>{const{errors:he}=await D(te);if(te)for(const je of te){const Ke=Ze(he,je);Ke?qt(r.errors,je,Ke):Kr(r.errors,je)}else r.errors=he;return he},R=async(te,he,je={valid:!0})=>{for(const Ke in te){const $e=te[Ke];if($e){const{_f:Ie,...Xe}=$e;if(Ie){const K=l.array.has(Ie.name),de=$e._f&&Tz($e._f);de&&u.validatingFields&&v([Ke],!0);const G=await pb($e,l.disabled,i,m,t.shouldUseNativeValidation&&!he,K);if(de&&u.validatingFields&&v([Ke]),G[Ie.name]&&(je.valid=!1,he))break;!he&&(Ze(G,Ie.name)?K?Oz(r.errors,G,Ie.name):qt(r.errors,Ie.name,G[Ie.name]):Kr(r.errors,Ie.name))}!Rn(Xe)&&await R(Xe,he,je)}}return je.valid},k=()=>{for(const te of l.unMount){const he=Ze(s,te);he&&(he._f.refs?he._f.refs.every(je=>!eg(je)):!eg(he._f.ref))&&le(te)}l.unMount=new Set},L=(te,he)=>!t.disabled&&(te&&he&&qt(i,te,he),!Qi(P(),a)),ie=(te,he,je)=>DD(te,l,{...o.mount?i:Pr(he)?a:za(te)?{[te]:he}:he},je,he),fe=te=>Dp(Ze(o.mount?i:a,te,t.shouldUnregister?Ze(a,te,[]):[])),se=(te,he,je={})=>{const Ke=Ze(s,te);let $e=he;if(Ke){const Ie=Ke._f;Ie&&(!Ie.disabled&&qt(i,te,LD(he,Ie)),$e=n0(Ie.ref)&&Ln(he)?"":he,FD(Ie.ref)?[...Ie.ref.options].forEach(Xe=>Xe.selected=$e.includes(Xe.value)):Ie.refs?Jf(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(Xe=>(!Xe.defaultChecked||!Xe.disabled)&&(Xe.checked=Array.isArray($e)?!!$e.find(K=>K===Xe.value):$e===Xe.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!$e):Ie.refs.forEach(Xe=>Xe.checked=Xe.value===$e):n_(Ie.ref)?Ie.ref.value="":(Ie.ref.value=$e,Ie.ref.type||h.state.next({name:te,values:cn(i)})))}(je.shouldDirty||je.shouldTouch)&&b(te,$e,je.shouldTouch,je.shouldDirty,!0),je.shouldValidate&&we(te)},ce=(te,he,je)=>{for(const Ke in he){const $e=he[Ke],Ie=`${te}.${Ke}`,Xe=Ze(s,Ie);(l.array.has(te)||Ir($e)||Xe&&!Xe._f)&&!el($e)?ce(Ie,$e,je):se(Ie,$e,je)}},q=(te,he,je={})=>{const Ke=Ze(s,te),$e=l.array.has(te),Ie=cn(he);qt(i,te,Ie),$e?(h.array.next({name:te,values:cn(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&je.shouldDirty&&h.state.next({name:te,dirtyFields:Zd(a,i),isDirty:L(te,Ie)})):Ke&&!Ke._f&&!Ln(Ie)?ce(te,Ie,je):se(te,Ie,je),fb(te,l)&&h.state.next({...r}),h.state.next({name:o.mount?te:void 0,values:cn(i)})},oe=async te=>{o.mount=!0;const he=te.target;let je=he.name,Ke=!0;const $e=Ze(s,je),Ie=Xe=>{Ke=Number.isNaN(Xe)||el(Xe)&&isNaN(Xe.getTime())||Qi(Xe,Ze(i,je,Xe))};if($e){let Xe,K;const de=he.type?cb($e._f):TD(te),G=te.type===r0.BLUR||te.type===r0.FOCUS_OUT,Ae=!Cz($e._f)&&!t.resolver&&!Ze(r.errors,je)&&!$e._f.deps||Pz(G,Ze(r.touchedFields,je),r.isSubmitted,y,p),ye=fb(je,l,G);qt(i,je,de),G?($e._f.onBlur&&$e._f.onBlur(te),c&&c(0)):$e._f.onChange&&$e._f.onChange(te);const gt=b(je,de,G),at=!Rn(gt)||ye;if(!G&&h.state.next({name:je,type:te.type,values:cn(i)}),Ae)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?G&&w():G||w()),at&&h.state.next({name:je,...ye?{}:gt});if(!G&&ye&&h.state.next({...r}),t.resolver){const{errors:et}=await D([je]);if(Ie(de),Ke){const Cr=hb(r.errors,s,je),kr=hb(et,s,Cr.name||je);Xe=kr.error,je=kr.name,K=Rn(et)}}else v([je],!0),Xe=(await pb($e,l.disabled,i,m,t.shouldUseNativeValidation))[je],v([je]),Ie(de),Ke&&(Xe?K=!1:(u.isValid||f.isValid)&&(K=await R(s,!0)));Ke&&($e._f.deps&&we($e._f.deps),I(je,K,Xe,gt))}},ee=(te,he)=>{if(Ze(r.errors,he)&&te.focus)return te.focus(),1},we=async(te,he={})=>{let je,Ke;const $e=Eu(te);if(t.resolver){const Ie=await C(Pr(te)?te:$e);je=Rn(Ie),Ke=te?!$e.some(Xe=>Ze(Ie,Xe)):je}else te?(Ke=(await Promise.all($e.map(async Ie=>{const Xe=Ze(s,Ie);return await R(Xe&&Xe._f?{[Ie]:Xe}:Xe)}))).every(Boolean),!(!Ke&&!r.isValid)&&w()):Ke=je=await R(s);return h.state.next({...!za(te)||(u.isValid||f.isValid)&&je!==r.isValid?{}:{name:te},...t.resolver||!te?{isValid:je}:{},errors:r.errors}),he.shouldFocus&&!Ke&&Tu(s,ee,te?$e:l.mount),Ke},P=te=>{const he={...o.mount?i:a};return Pr(te)?he:za(te)?Ze(he,te):te.map(je=>Ze(he,je))},F=(te,he)=>({invalid:!!Ze((he||r).errors,te),isDirty:!!Ze((he||r).dirtyFields,te),error:Ze((he||r).errors,te),isValidating:!!Ze(r.validatingFields,te),isTouched:!!Ze((he||r).touchedFields,te)}),U=te=>{te&&Eu(te).forEach(he=>Kr(r.errors,he)),h.state.next({errors:te?r.errors:{}})},j=(te,he,je)=>{const Ke=(Ze(s,te,{_f:{}})._f||{}).ref,$e=Ze(r.errors,te)||{},{ref:Ie,message:Xe,type:K,...de}=$e;qt(r.errors,te,{...de,...he,ref:Ke}),h.state.next({name:te,errors:r.errors,isValid:!1}),je&&je.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},M=(te,he)=>ga(te)?h.state.subscribe({next:je=>te(ie(void 0,he),je)}):ie(te,he,!0),J=te=>h.state.subscribe({next:he=>{Az(te.name,he.name,te.exact)&&kz(he,te.formState||u,cr,te.reRenderRoot)&&te.callback({values:{...i},...r,...he})}}).unsubscribe,_e=te=>(o.mount=!0,f={...f,...te.formState},J({...te,formState:f})),le=(te,he={})=>{for(const je of te?Eu(te):l.mount)l.mount.delete(je),l.array.delete(je),he.keepValue||(Kr(s,je),Kr(i,je)),!he.keepError&&Kr(r.errors,je),!he.keepDirty&&Kr(r.dirtyFields,je),!he.keepTouched&&Kr(r.touchedFields,je),!he.keepIsValidating&&Kr(r.validatingFields,je),!t.shouldUnregister&&!he.keepDefaultValue&&Kr(a,je);h.state.next({values:cn(i)}),h.state.next({...r,...he.keepDirty?{isDirty:L()}:{}}),!he.keepIsValid&&w()},pe=({disabled:te,name:he})=>{(vs(te)&&o.mount||te||l.disabled.has(he))&&(te?l.disabled.add(he):l.disabled.delete(he))},He=(te,he={})=>{let je=Ze(s,te);const Ke=vs(he.disabled)||vs(t.disabled);return qt(s,te,{...je||{},_f:{...je&&je._f?je._f:{ref:{name:te}},name:te,mount:!0,...he}}),l.mount.add(te),je?pe({disabled:vs(he.disabled)?he.disabled:t.disabled,name:te}):S(te,!0,he.value),{...Ke?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:Jd(he.min),max:Jd(he.max),minLength:Jd(he.minLength),maxLength:Jd(he.maxLength),pattern:Jd(he.pattern)}:{},name:te,onChange:oe,onBlur:oe,ref:$e=>{if($e){He(te,he),je=Ze(s,te);const Ie=Pr($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,Xe=bz(Ie),K=je._f.refs||[];if(Xe?K.find(de=>de===Ie):Ie===je._f.ref)return;qt(s,te,{_f:{...je._f,...Xe?{refs:[...K.filter(eg),Ie,...Array.isArray(Ze(a,te))?[{}]:[]],ref:{type:Ie.type,name:te}}:{ref:Ie}}}),S(te,!1,void 0,Ie)}else je=Ze(s,te,{}),je._f&&(je._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(CD(l.array,te)&&o.action)&&l.unMount.add(te)}}},Ye=()=>t.shouldFocusError&&Tu(s,ee,l.mount),Pt=te=>{vs(te)&&(h.state.next({disabled:te}),Tu(s,(he,je)=>{const Ke=Ze(s,je);Ke&&(he.disabled=Ke._f.disabled||te,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach($e=>{$e.disabled=Ke._f.disabled||te}))},0,!1))},pt=(te,he)=>async je=>{let Ke;je&&(je.preventDefault&&je.preventDefault(),je.persist&&je.persist());let $e=cn(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:Xe}=await D();r.errors=Ie,$e=Xe}else await R(s);if(l.disabled.size)for(const Ie of l.disabled)qt($e,Ie,void 0);if(Kr(r.errors,"root"),Rn(r.errors)){h.state.next({errors:{}});try{await te($e,je)}catch(Ie){Ke=Ie}}else he&&await he({...r.errors},je),Ye(),setTimeout(Ye);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rn(r.errors)&&!Ke,submitCount:r.submitCount+1,errors:r.errors}),Ke)throw Ke},rr=(te,he={})=>{Ze(s,te)&&(Pr(he.defaultValue)?q(te,cn(Ze(a,te))):(q(te,he.defaultValue),qt(a,te,cn(he.defaultValue))),he.keepTouched||Kr(r.touchedFields,te),he.keepDirty||(Kr(r.dirtyFields,te),r.isDirty=he.defaultValue?L(te,cn(Ze(a,te))):L()),he.keepError||(Kr(r.errors,te),u.isValid&&w()),h.state.next({...r}))},mt=(te,he={})=>{const je=te?cn(te):a,Ke=cn(je),$e=Rn(te),Ie=$e?a:Ke;if(he.keepDefaultValues||(a=je),!he.keepValues){if(he.keepDirtyValues){const Xe=new Set([...l.mount,...Object.keys(Zd(a,i))]);for(const K of Array.from(Xe))Ze(r.dirtyFields,K)?qt(Ie,K,Ze(i,K)):q(K,Ze(Ie,K))}else{if(t_&&Pr(te))for(const Xe of l.mount){const K=Ze(s,Xe);if(K&&K._f){const de=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(n0(de)){const G=de.closest("form");if(G){G.reset();break}}}}for(const Xe of l.mount)q(Xe,Ze(Ie,Xe))}i=cn(Ie),h.array.next({values:{...Ie}}),h.state.next({values:{...Ie}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:$e?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!Qi(te,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$e?{}:he.keepDirtyValues?he.keepDefaultValues&&i?Zd(a,i):r.dirtyFields:he.keepDefaultValues&&te?Zd(a,te):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(te,he)=>mt(ga(te)?te(i):te,he),nr=(te,he={})=>{const je=Ze(s,te),Ke=je&&je._f;if(Ke){const $e=Ke.refs?Ke.refs[0]:Ke.ref;$e.focus&&($e.focus(),he.shouldSelect&&ga($e.select)&&$e.select())}},cr=te=>{r={...r,...te}},br={control:{register:He,unregister:le,getFieldState:F,handleSubmit:pt,setError:j,_subscribe:J,_runSchema:D,_getWatch:ie,_getDirty:L,_setValid:w,_setFieldArray:_,_setDisabledField:pe,_setErrors:T,_getFieldArray:fe,_reset:mt,_resetDefaultValues:()=>ga(t.defaultValues)&&t.defaultValues().then(te=>{We(te,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Pt,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return a},get _names(){return l},set _names(te){l=te},get _formState(){return r},get _options(){return t},set _options(te){t={...t,...te}}},subscribe:_e,trigger:we,register:He,handleSubmit:pt,watch:M,setValue:q,getValues:P,reset:We,resetField:rr,clearErrors:U,unregister:le,setError:j,setFocus:nr,getFieldState:F};return{...br,formControl:br}}function cd(e={}){const t=wt.useRef(void 0),r=wt.useRef(void 0),[s,a]=wt.useState({isDirty:!1,isValidating:!1,isLoading:ga(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ga(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Iz(e),formState:s},e.formControl&&e.defaultValues&&!ga(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,wt.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),wt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),wt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),wt.useEffect(()=>{e.values&&!Qi(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),wt.useEffect(()=>{e.errors&&!Rn(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),wt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),wt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=PD(s,i),t.current}const xb=(e,t,r)=>{if(e&&"reportValidity"in e){const s=Ze(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},UD=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?xb(s.ref,r,e):s.refs&&s.refs.forEach(a=>xb(a,r,e))}},Rz=(e,t)=>{t.shouldUseNativeValidation&&UD(e,t);const r={};for(const s in e){const a=Ze(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Mz(t.names||Object.keys(e),s)){const o=Object.assign({},Ze(r,s));qt(o,"root",i),qt(r,s,o)}else qt(r,s,i)}return r},Mz=(e,t)=>e.some(r=>r.startsWith(t+"."));var Lz=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=OD(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},dd=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&UD({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Rz(Lz(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const De=Symbol.for("drizzle:entityKind");function fn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,De))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(De in r&&r[De]===t[De])return!0;r=Object.getPrototypeOf(r)}return!1}var Hj;Hj=De;class ud{constructor(t,r){ae(this,"name");ae(this,"keyAsName");ae(this,"primary");ae(this,"notNull");ae(this,"default");ae(this,"defaultFn");ae(this,"onUpdateFn");ae(this,"hasDefault");ae(this,"isUnique");ae(this,"uniqueName");ae(this,"uniqueType");ae(this,"dataType");ae(this,"columnType");ae(this,"enumValues");ae(this,"generated");ae(this,"generatedIdentity");ae(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}ae(ud,Hj,"Column");var Kj;Kj=De;class VD{constructor(t,r,s){ae(this,"config");ae(this,"$default",this.$defaultFn);ae(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}ae(VD,Kj,"ColumnBuilder");const Tc=Symbol.for("drizzle:Name");var Gj;Gj=De;class $D{constructor(t,r){ae(this,"reference");ae(this,"_onUpdate","no action");ae(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new zD(t,this)}}ae($D,Gj,"PgForeignKeyBuilder");var Qj;Qj=De;class zD{constructor(t,r){ae(this,"reference");ae(this,"onUpdate");ae(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[Tc],...a,s[0].table[Tc],...i];return t??`${o.join("_")}_fk`}}ae(zD,Qj,"PgForeignKey");function Bz(e,...t){return e(...t)}function Qv(e){return new HD(e)}function qD(e,t){return`${e[Tc]}_${t.join("_")}_unique`}var Yj;Yj=De;class WD{constructor(t,r){ae(this,"columns");ae(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=t}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new KD(t,this.columns,this.nullsNotDistinctConfig,this.name)}}ae(WD,Yj,"PgUniqueConstraintBuilder");var Xj;Xj=De;class HD{constructor(t){ae(this,"name");this.name=t}on(...t){return new WD(t,this.name)}}ae(HD,Xj,"PgUniqueOnConstraintBuilder");var Zj;Zj=De;class KD{constructor(t,r,s,a){ae(this,"columns");ae(this,"name");ae(this,"nullsNotDistinct",!1);this.table=t,this.columns=r,this.name=a??qD(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=s}getName(){return this.name}}ae(KD,Zj,"PgUniqueConstraint");function gb(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function GD(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=gb(e,s+1,!0);r.push(c),s=d;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,d]=GD(e,s+1);r.push(c),s=d;continue}const[o,l]=gb(e,s,!1);r.push(o),s=l}return[r,s]}function Uz(e){const[t]=GD(e,1);return t}function QD(e){return`{${e.map(t=>Array.isArray(t)?QD(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Jj,e2;class Lt extends(e2=VD,Jj=De,e2){constructor(){super(...arguments);ae(this,"foreignKeyConfigs",[])}array(r){return new XD(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>Bz((o,l)=>{const c=new $D(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}buildExtraConfigColumn(r){return new YD(r,this.config)}}ae(Lt,Jj,"PgColumnBuilder");var t2,r2;class jt extends(r2=ud,t2=De,r2){constructor(t,r){r.uniqueName||(r.uniqueName=qD(t,[r.name])),super(t,r),this.table=t}}ae(jt,t2,"PgColumn");var n2,s2;class YD extends(s2=jt,n2=De,s2){constructor(){super(...arguments);ae(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});ae(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}ae(YD,n2,"ExtraConfigColumn");var a2,i2;class XD extends(i2=Lt,a2=De,i2){constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new Yv(t,this.config,r)}}ae(XD,a2,"PgArrayBuilder");var o2,l2;const H0=class H0 extends(l2=jt,o2=De,l2){constructor(r,s,a,i){super(r,s);ae(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Uz(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:fn(this.baseColumn,H0)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:QD(a)}};ae(H0,o2,"PgArray");let Yv=H0;const vb=Symbol.for("drizzle:isPgEnum");function Vz(e){return!!e&&typeof e=="function"&&vb in e&&e[vb]===!0}var c2;c2=De;class a_{constructor(t,r,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:s,isWith:a}}}ae(a_,c2,"Subquery");const $z={startActiveSpan(e,t){return t()}},Cc=Symbol.for("drizzle:ViewBaseConfig"),tg=Symbol.for("drizzle:Schema"),yb=Symbol.for("drizzle:Columns"),_b=Symbol.for("drizzle:ExtraConfigColumns"),rg=Symbol.for("drizzle:OriginalName"),ng=Symbol.for("drizzle:BaseName"),i0=Symbol.for("drizzle:IsAlias"),wb=Symbol.for("drizzle:ExtraConfigBuilder"),ZD=Symbol.for("drizzle:IsDrizzleTable");var d2,u2,f2,h2,m2,p2,x2,g2,v2,y2,Yh;let ws=(y2=De,v2=Tc,g2=rg,x2=tg,p2=yb,m2=_b,h2=ng,f2=i0,u2=ZD,d2=wb,Yh=class{constructor(t,r,s){ae(this,v2);ae(this,g2);ae(this,x2);ae(this,p2);ae(this,m2);ae(this,h2);ae(this,f2,!1);ae(this,u2,!0);ae(this,d2);this[Tc]=this[rg]=t,this[tg]=r,this[ng]=s}},ae(Yh,y2,"Table"),ae(Yh,"Symbol",{Name:Tc,Schema:tg,OriginalName:rg,Columns:yb,ExtraConfigColumns:_b,BaseName:ng,IsAlias:i0,ExtraConfigBuilder:wb}),Yh);function JD(e){return typeof e=="object"&&e!==null&&ZD in e}function zz(e){return e!=null&&typeof e.getSQL=="function"}function qz(e){var r;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(r=s.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var _2;_2=De;class Bs{constructor(t){ae(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Jr([this])}}ae(Bs,_2,"StringChunk");var w2;w2=De;const Qo=class Qo{constructor(t){ae(this,"decoder",e3);ae(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return $z.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return qz(t.map(u=>{var f;if(fn(u,Bs))return{sql:u.value.join(""),params:[]};if(fn(u,o0))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const h=[new Bs("(")];for(const[p,y]of u.entries())h.push(y),p<u.length-1&&h.push(new Bs(", "));return h.push(new Bs(")")),this.buildQueryFromSourceParams(h,s)}if(fn(u,Qo))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:c||u.shouldInlineParams});if(fn(u,ws)){const h=u[ws.Symbol.Schema],p=u[ws.Symbol.Name];return{sql:h===void 0||u[i0]?i(p):i(h)+"."+i(p),params:[]}}if(fn(u,ud)){const h=a.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const p=u.table[ws.Symbol.Schema];return{sql:u.table[i0]||p===void 0?i(u.table[ws.Symbol.Name])+"."+i(h):i(p)+"."+i(u.table[ws.Symbol.Name])+"."+i(h),params:[]}}if(fn(u,n3)){const h=u[Cc].schema,p=u[Cc].name;return{sql:h===void 0||u[Cc].isAlias?i(p):i(h)+"."+i(p),params:[]}}if(fn(u,i_)){if(fn(u.value,c0))return{sql:o(d.value++,u),params:[u],typings:["none"]};const h=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(fn(h,Qo))return this.buildQueryFromSourceParams([h],s);if(c)return{sql:this.mapInlineParam(h,s),params:[]};let p=["none"];return l&&(p=[l(u.encoder)]),{sql:o(d.value++,h),params:[h],typings:p}}return fn(u,c0)?{sql:o(d.value++,u),params:[u],typings:["none"]}:fn(u,Qo.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:fn(u,a_)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Bs("("),u._.sql,new Bs(") "),new o0(u._.alias)],s):Vz(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:zz(u)?(f=u.shouldOmitSQLParens)!=null&&f.call(u)?this.buildQueryFromSourceParams([u.getSQL()],s):this.buildQueryFromSourceParams([new Bs("("),u.getSQL(),new Bs(")")],s):c?{sql:this.mapInlineParam(u,s),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Qo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};ae(Qo,w2,"SQL");let Jr=Qo;var N2;N2=De;class o0{constructor(t){ae(this,"brand");this.value=t}getSQL(){return new Jr([this])}}ae(o0,N2,"Name");const e3={mapFromDriverValue:e=>e},t3={mapToDriverValue:e=>e};({...e3,...t3});var b2;b2=De;class i_{constructor(t,r=t3){ae(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Jr([this])}}ae(i_,b2,"Param");function l0(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Bs(e[0]));for(const[s,a]of t.entries())r.push(a,new Bs(e[s+1]));return new Jr(r)}(e=>{function t(){return new Jr([])}e.empty=t;function r(c){return new Jr(c)}e.fromList=r;function s(c){return new Jr([new Bs(c)])}e.raw=s;function a(c,d){const u=[];for(const[f,h]of c.entries())f>0&&d!==void 0&&u.push(d),u.push(h);return new Jr(u)}e.join=a;function i(c){return new o0(c)}e.identifier=i;function o(c){return new c0(c)}e.placeholder=o;function l(c,d){return new i_(c,d)}e.param=l})(l0||(l0={}));(e=>{var r;r=De;const s=class s{constructor(i,o){ae(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};ae(s,r,"SQL.Aliased");let t=s;e.Aliased=t})(Jr||(Jr={}));var j2;j2=De;class c0{constructor(t){this.name=t}getSQL(){return new Jr([this])}}ae(c0,j2,"Placeholder");const r3=Symbol.for("drizzle:IsDrizzleView");var S2,E2,T2;T2=De,E2=Cc,S2=r3;class n3{constructor({name:t,schema:r,selectedFields:s,query:a}){ae(this,E2);ae(this,S2,!0);this[Cc]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Jr([this])}}ae(n3,T2,"View");function Wz(e){return typeof e=="object"&&e!==null&&r3 in e}ud.prototype.getSQL=function(){return new Jr([this])};ws.prototype.getSQL=function(){return new Jr([this])};a_.prototype.getSQL=function(){return new Jr([this])};function Hz(e){return e[ws.Symbol.Columns]}function Kz(e){return e[Cc].selectedFields}function ln(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var C2,k2;class eh extends(k2=Lt,C2=De,k2){generatedAlwaysAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}ae(eh,C2,"PgIntColumnBaseBuilder");var A2,P2;class s3 extends(P2=eh,A2=De,P2){constructor(t){super(t,"number","PgBigInt53")}build(t){return new a3(t,this.config)}}ae(s3,A2,"PgBigInt53Builder");var D2,O2;class a3 extends(O2=jt,D2=De,O2){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ae(a3,D2,"PgBigInt53");var F2,I2;class i3 extends(I2=eh,F2=De,I2){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new o3(t,this.config)}}ae(i3,F2,"PgBigInt64Builder");var R2,M2;class o3 extends(M2=jt,R2=De,M2){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}ae(o3,R2,"PgBigInt64");function Gz(e,t){const{name:r,config:s}=ln(e,t);return s.mode==="number"?new s3(r):new i3(r)}var L2,B2;class l3 extends(B2=Lt,L2=De,B2){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new c3(t,this.config)}}ae(l3,L2,"PgBigSerial53Builder");var U2,V2;class c3 extends(V2=jt,U2=De,V2){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ae(c3,U2,"PgBigSerial53");var $2,z2;class d3 extends(z2=Lt,$2=De,z2){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new u3(t,this.config)}}ae(d3,$2,"PgBigSerial64Builder");var q2,W2;class u3 extends(W2=jt,q2=De,W2){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}ae(u3,q2,"PgBigSerial64");function Qz(e,t){const{name:r,config:s}=ln(e,t);return s.mode==="number"?new l3(r):new d3(r)}var H2,K2;class f3 extends(K2=Lt,H2=De,K2){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new h3(t,this.config)}}ae(f3,H2,"PgBooleanBuilder");var G2,Q2;class h3 extends(Q2=jt,G2=De,Q2){getSQLType(){return"boolean"}}ae(h3,G2,"PgBoolean");function Ss(e){return new f3(e??"")}var Y2,X2;class m3 extends(X2=Lt,Y2=De,X2){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new p3(t,this.config)}}ae(m3,Y2,"PgCharBuilder");var Z2,J2;class p3 extends(J2=jt,Z2=De,J2){constructor(){super(...arguments);ae(this,"length",this.config.length);ae(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}ae(p3,Z2,"PgChar");function Yz(e,t={}){const{name:r,config:s}=ln(e,t);return new m3(r,s)}var eS,tS;class x3 extends(tS=Lt,eS=De,tS){constructor(t){super(t,"string","PgCidr")}build(t){return new g3(t,this.config)}}ae(x3,eS,"PgCidrBuilder");var rS,nS;class g3 extends(nS=jt,rS=De,nS){getSQLType(){return"cidr"}}ae(g3,rS,"PgCidr");function Xz(e){return new x3(e??"")}var sS,aS;class v3 extends(aS=Lt,sS=De,aS){constructor(t,r,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(t){return new y3(t,this.config)}}ae(v3,sS,"PgCustomColumnBuilder");var iS,oS;class y3 extends(oS=jt,iS=De,oS){constructor(r,s){super(r,s);ae(this,"sqlName");ae(this,"mapTo");ae(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}ae(y3,iS,"PgCustomColumn");function Zz(e){return(t,r)=>{const{name:s,config:a}=ln(t,r);return new v3(s,a,e)}}var lS,cS;class Dd extends(cS=Lt,lS=De,cS){defaultNow(){return this.default(l0`now()`)}}ae(Dd,lS,"PgDateColumnBaseBuilder");var dS,uS;class _3 extends(uS=Dd,dS=De,uS){constructor(t){super(t,"date","PgDate")}build(t){return new w3(t,this.config)}}ae(_3,dS,"PgDateBuilder");var fS,hS;class w3 extends(hS=jt,fS=De,hS){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}ae(w3,fS,"PgDate");var mS,pS;class N3 extends(pS=Dd,mS=De,pS){constructor(t){super(t,"string","PgDateString")}build(t){return new b3(t,this.config)}}ae(N3,mS,"PgDateStringBuilder");var xS,gS;class b3 extends(gS=jt,xS=De,gS){getSQLType(){return"date"}}ae(b3,xS,"PgDateString");function Cu(e,t){const{name:r,config:s}=ln(e,t);return(s==null?void 0:s.mode)==="date"?new _3(r):new N3(r)}var vS,yS;class j3 extends(yS=Lt,vS=De,yS){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new S3(t,this.config)}}ae(j3,vS,"PgDoublePrecisionBuilder");var _S,wS;class S3 extends(wS=jt,_S=De,wS){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}ae(S3,_S,"PgDoublePrecision");function Jz(e){return new j3(e??"")}var NS,bS;class E3 extends(bS=Lt,NS=De,bS){constructor(t){super(t,"string","PgInet")}build(t){return new T3(t,this.config)}}ae(E3,NS,"PgInetBuilder");var jS,SS;class T3 extends(SS=jt,jS=De,SS){getSQLType(){return"inet"}}ae(T3,jS,"PgInet");function eq(e){return new E3(e??"")}var ES,TS;class C3 extends(TS=eh,ES=De,TS){constructor(t){super(t,"number","PgInteger")}build(t){return new k3(t,this.config)}}ae(C3,ES,"PgIntegerBuilder");var CS,kS;class k3 extends(kS=jt,CS=De,kS){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}ae(k3,CS,"PgInteger");function O(e){return new C3(e??"")}var AS,PS;class A3 extends(PS=Lt,AS=De,PS){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new P3(t,this.config)}}ae(A3,AS,"PgIntervalBuilder");var DS,OS;class P3 extends(OS=jt,DS=De,OS){constructor(){super(...arguments);ae(this,"fields",this.config.intervalConfig.fields);ae(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}ae(P3,DS,"PgInterval");function tq(e,t={}){const{name:r,config:s}=ln(e,t);return new A3(r,s)}var FS,IS;class D3 extends(IS=Lt,FS=De,IS){constructor(t){super(t,"json","PgJson")}build(t){return new O3(t,this.config)}}ae(D3,FS,"PgJsonBuilder");var RS,MS;class O3 extends(MS=jt,RS=De,MS){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ae(O3,RS,"PgJson");function rq(e){return new D3(e??"")}var LS,BS;class F3 extends(BS=Lt,LS=De,BS){constructor(t){super(t,"json","PgJsonb")}build(t){return new I3(t,this.config)}}ae(F3,LS,"PgJsonbBuilder");var US,VS;class I3 extends(VS=jt,US=De,VS){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ae(I3,US,"PgJsonb");function nq(e){return new F3(e??"")}var $S,zS;class R3 extends(zS=Lt,$S=De,zS){constructor(t){super(t,"array","PgLine")}build(t){return new M3(t,this.config)}}ae(R3,$S,"PgLineBuilder");var qS,WS;class M3 extends(WS=jt,qS=De,WS){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}ae(M3,qS,"PgLine");var HS,KS;class L3 extends(KS=Lt,HS=De,KS){constructor(t){super(t,"json","PgLineABC")}build(t){return new B3(t,this.config)}}ae(L3,HS,"PgLineABCBuilder");var GS,QS;class B3 extends(QS=jt,GS=De,QS){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}ae(B3,GS,"PgLineABC");function sq(e,t){const{name:r,config:s}=ln(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new R3(r):new L3(r)}var YS,XS;class U3 extends(XS=Lt,YS=De,XS){constructor(t){super(t,"string","PgMacaddr")}build(t){return new V3(t,this.config)}}ae(U3,YS,"PgMacaddrBuilder");var ZS,JS;class V3 extends(JS=jt,ZS=De,JS){getSQLType(){return"macaddr"}}ae(V3,ZS,"PgMacaddr");function aq(e){return new U3(e??"")}var eE,tE;class $3 extends(tE=Lt,eE=De,tE){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new z3(t,this.config)}}ae($3,eE,"PgMacaddr8Builder");var rE,nE;class z3 extends(nE=jt,rE=De,nE){getSQLType(){return"macaddr8"}}ae(z3,rE,"PgMacaddr8");function iq(e){return new $3(e??"")}var sE,aE;class q3 extends(aE=Lt,sE=De,aE){constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new W3(t,this.config)}}ae(q3,sE,"PgNumericBuilder");var iE,oE;class W3 extends(oE=jt,iE=De,oE){constructor(r,s){super(r,s);ae(this,"precision");ae(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ae(W3,iE,"PgNumeric");function H3(e,t){const{name:r,config:s}=ln(e,t);return new q3(r,s==null?void 0:s.precision,s==null?void 0:s.scale)}const re=H3;var lE,cE;class K3 extends(cE=Lt,lE=De,cE){constructor(t){super(t,"array","PgPointTuple")}build(t){return new G3(t,this.config)}}ae(K3,lE,"PgPointTupleBuilder");var dE,uE;class G3 extends(uE=jt,dE=De,uE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}ae(G3,dE,"PgPointTuple");var fE,hE;class Q3 extends(hE=Lt,fE=De,hE){constructor(t){super(t,"json","PgPointObject")}build(t){return new Y3(t,this.config)}}ae(Q3,fE,"PgPointObjectBuilder");var mE,pE;class Y3 extends(pE=jt,mE=De,pE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}ae(Y3,mE,"PgPointObject");function oq(e,t){const{name:r,config:s}=ln(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new K3(r):new Q3(r)}function lq(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function Nb(e,t){const r=new ArrayBuffer(8),s=new DataView(r);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function X3(e){const t=lq(e);let r=0;const s=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,s===1);if(r+=4,i&536870912&&(a.getUint32(r,s===1),r+=4),(i&65535)===1){const o=Nb(t,r);r+=8;const l=Nb(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var xE,gE;class Z3 extends(gE=Lt,xE=De,gE){constructor(t){super(t,"array","PgGeometry")}build(t){return new J3(t,this.config)}}ae(Z3,xE,"PgGeometryBuilder");var vE,yE;class J3 extends(yE=jt,vE=De,yE){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return X3(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}ae(J3,vE,"PgGeometry");var _E,wE;class eO extends(wE=Lt,_E=De,wE){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new tO(t,this.config)}}ae(eO,_E,"PgGeometryObjectBuilder");var NE,bE;class tO extends(bE=jt,NE=De,bE){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=X3(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}ae(tO,NE,"PgGeometryObject");function cq(e,t){const{name:r,config:s}=ln(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new Z3(r):new eO(r)}var jE,SE;class rO extends(SE=Lt,jE=De,SE){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new nO(t,this.config)}}ae(rO,jE,"PgRealBuilder");var EE,TE;class nO extends(TE=jt,EE=De,TE){constructor(r,s){super(r,s);ae(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}ae(nO,EE,"PgReal");function dq(e){return new rO(e??"")}var CE,kE;class sO extends(kE=Lt,CE=De,kE){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new aO(t,this.config)}}ae(sO,CE,"PgSerialBuilder");var AE,PE;class aO extends(PE=jt,AE=De,PE){getSQLType(){return"serial"}}ae(aO,AE,"PgSerial");function ri(e){return new sO(e??"")}var DE,OE;class iO extends(OE=eh,DE=De,OE){constructor(t){super(t,"number","PgSmallInt")}build(t){return new oO(t,this.config)}}ae(iO,DE,"PgSmallIntBuilder");var FE,IE;class oO extends(IE=jt,FE=De,IE){constructor(){super(...arguments);ae(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}ae(oO,FE,"PgSmallInt");function uq(e){return new iO(e??"")}var RE,ME;class lO extends(ME=Lt,RE=De,ME){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new cO(t,this.config)}}ae(lO,RE,"PgSmallSerialBuilder");var LE,BE;class cO extends(BE=jt,LE=De,BE){getSQLType(){return"smallserial"}}ae(cO,LE,"PgSmallSerial");function fq(e){return new lO(e??"")}var UE,VE;class dO extends(VE=Lt,UE=De,VE){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new uO(t,this.config)}}ae(dO,UE,"PgTextBuilder");var $E,zE;class uO extends(zE=jt,$E=De,zE){constructor(){super(...arguments);ae(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}ae(uO,$E,"PgText");function E(e,t={}){const{name:r,config:s}=ln(e,t);return new dO(r,s)}var qE,WE;class fO extends(WE=Dd,qE=De,WE){constructor(t,r,s){super(t,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}build(t){return new hO(t,this.config)}}ae(fO,qE,"PgTimeBuilder");var HE,KE;class hO extends(KE=jt,HE=De,KE){constructor(r,s){super(r,s);ae(this,"withTimezone");ae(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ae(hO,HE,"PgTime");function hq(e,t={}){const{name:r,config:s}=ln(e,t);return new fO(r,s.withTimezone??!1,s.precision)}var GE,QE;class mO extends(QE=Dd,GE=De,QE){constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new pO(t,this.config)}}ae(mO,GE,"PgTimestampBuilder");var YE,XE;class pO extends(XE=jt,YE=De,XE){constructor(r,s){super(r,s);ae(this,"withTimezone");ae(this,"precision");ae(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));ae(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}ae(pO,YE,"PgTimestamp");var ZE,JE;class xO extends(JE=Dd,ZE=De,JE){constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new gO(t,this.config)}}ae(xO,ZE,"PgTimestampStringBuilder");var eT,tT;class gO extends(tT=jt,eT=De,tT){constructor(r,s){super(r,s);ae(this,"withTimezone");ae(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ae(gO,eT,"PgTimestampString");function V(e,t={}){const{name:r,config:s}=ln(e,t);return(s==null?void 0:s.mode)==="string"?new xO(r,s.withTimezone??!1,s.precision):new mO(r,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var rT,nT;class vO extends(nT=Lt,rT=De,nT){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(l0`gen_random_uuid()`)}build(t){return new yO(t,this.config)}}ae(vO,rT,"PgUUIDBuilder");var sT,aT;class yO extends(aT=jt,sT=De,aT){getSQLType(){return"uuid"}}ae(yO,sT,"PgUUID");function mq(e){return new vO(e??"")}var iT,oT;class _O extends(oT=Lt,iT=De,oT){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new wO(t,this.config)}}ae(_O,iT,"PgVarcharBuilder");var lT,cT;class wO extends(cT=jt,lT=De,cT){constructor(){super(...arguments);ae(this,"length",this.config.length);ae(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}ae(wO,lT,"PgVarchar");function Y(e,t={}){const{name:r,config:s}=ln(e,t);return new _O(r,s)}var dT,uT;class NO extends(uT=Lt,dT=De,uT){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new bO(t,this.config)}}ae(NO,dT,"PgBinaryVectorBuilder");var fT,hT;class bO extends(hT=jt,fT=De,hT){constructor(){super(...arguments);ae(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}ae(bO,fT,"PgBinaryVector");function pq(e,t){const{name:r,config:s}=ln(e,t);return new NO(r,s)}var mT,pT;class jO extends(pT=Lt,mT=De,pT){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new SO(t,this.config)}}ae(jO,mT,"PgHalfVectorBuilder");var xT,gT;class SO extends(gT=jt,xT=De,gT){constructor(){super(...arguments);ae(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}ae(SO,xT,"PgHalfVector");function xq(e,t){const{name:r,config:s}=ln(e,t);return new jO(r,s)}var vT,yT;class EO extends(yT=Lt,vT=De,yT){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new TO(t,this.config)}}ae(EO,vT,"PgSparseVectorBuilder");var _T,wT;class TO extends(wT=jt,_T=De,wT){constructor(){super(...arguments);ae(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}ae(TO,_T,"PgSparseVector");function gq(e,t){const{name:r,config:s}=ln(e,t);return new EO(r,s)}var NT,bT;class CO extends(bT=Lt,NT=De,bT){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new kO(t,this.config)}}ae(CO,NT,"PgVectorBuilder");var jT,ST;class kO extends(ST=jt,jT=De,ST){constructor(){super(...arguments);ae(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}ae(kO,jT,"PgVector");function vq(e,t){const{name:r,config:s}=ln(e,t);return new CO(r,s)}function yq(){return{bigint:Gz,bigserial:Qz,boolean:Ss,char:Yz,cidr:Xz,customType:Zz,date:Cu,doublePrecision:Jz,inet:eq,integer:O,interval:tq,json:rq,jsonb:nq,line:sq,macaddr:aq,macaddr8:iq,numeric:H3,point:oq,geometry:cq,real:dq,serial:ri,smallint:uq,smallserial:fq,text:E,time:hq,timestamp:V,uuid:mq,varchar:Y,bit:pq,halfvec:xq,sparsevec:gq,vector:vq}}const Xv=Symbol.for("drizzle:PgInlineForeignKeys"),bb=Symbol.for("drizzle:EnableRLS");var ET,TT,CT,kT,AT;class ku extends(AT=ws,kT=De,CT=Xv,TT=bb,ET=ws.Symbol.ExtraConfigBuilder,AT){constructor(){super(...arguments);ae(this,CT,[]);ae(this,TT,!1);ae(this,ET)}}ae(ku,kT,"PgTable"),ae(ku,"Symbol",Object.assign({},ws.Symbol,{InlineForeignKeys:Xv,EnableRLS:bb}));function _q(e,t,r,s,a=e){const i=new ku(e,s,a),o=typeof t=="function"?t(yq()):t,l=Object.fromEntries(Object.entries(o).map(([u,f])=>{const h=f;h.setName(u);const p=h.build(i);return i[Xv].push(...h.buildForeignKeys(p,i)),[u,p]})),c=Object.fromEntries(Object.entries(o).map(([u,f])=>{const h=f;h.setName(u);const p=h.buildExtraConfigColumn(i);return[u,p]})),d=Object.assign(i,l);return d[ws.Symbol.Columns]=l,d[ws.Symbol.ExtraConfigColumns]=c,r&&(d[ku.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:()=>(d[ku.Symbol.EnableRLS]=!0,d)})}const Fe=(e,t,r)=>_q(e,t,r,void 0);var Mt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Mt||(Mt={}));var Zv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Zv||(Zv={}));const st=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fi=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},Re=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wq=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof Cs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Cs.create=e=>new Cs(e);const fd=(e,t)=>{let r;switch(e.code){case Re.invalid_type:e.received===st.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Mt.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:r=`Unrecognized key(s) in object: ${Mt.joinValues(e.keys,", ")}`;break;case Re.invalid_union:r="Invalid input";break;case Re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Mt.joinValues(e.options)}`;break;case Re.invalid_enum_value:r=`Invalid enum value. Expected ${Mt.joinValues(e.options)}, received '${e.received}'`;break;case Re.invalid_arguments:r="Invalid function arguments";break;case Re.invalid_return_type:r="Invalid function return type";break;case Re.invalid_date:r="Invalid date";break;case Re.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Mt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Re.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Re.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Re.custom:r="Invalid input";break;case Re.invalid_intersection_types:r="Intersection results could not be merged";break;case Re.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Re.not_finite:r="Number must be finite";break;default:r=t.defaultError,Mt.assertNever(e)}return{message:r}};let AO=fd;function Nq(e){AO=e}function d0(){return AO}const u0=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},bq=[];function Je(e,t){const r=d0(),s=u0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===fd?void 0:fd].filter(a=>!!a)});e.common.issues.push(s)}class On{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return _t;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return On.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return _t;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const _t=Object.freeze({status:"aborted"}),pc=e=>({status:"dirty",value:e}),Wn=e=>({status:"valid",value:e}),Jv=e=>e.status==="aborted",ey=e=>e.status==="dirty",Nl=e=>e.status==="valid",cf=e=>typeof Promise<"u"&&e instanceof Promise;function f0(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function PO(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ut||(ut={}));var uu,fu;class Ya{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jb=(e,t)=>{if(Nl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cs(e.common.issues);return this._error=r,this._error}}};function bt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class At{get description(){return this._def.description}_getType(t){return fi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new On,ctx:{common:t.parent.common,data:t.data,parsedType:fi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(cf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fi(t)},i=this._parseSync({data:t,path:a.path,parent:a});return jb(a,i)}"~validate"(t){var r,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Nl(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((s=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Nl(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fi(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(cf(a)?a:Promise.resolve(a));return jb(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Re.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new ka({schema:this,typeName:vt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ga.create(this,this._def)}nullable(){return ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ba.create(this)}promise(){return md.create(this,this._def)}or(t){return hf.create([this,t],this._def)}and(t){return mf.create(this,t,this._def)}transform(t){return new ka({...bt(this._def),schema:this,typeName:vt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new yf({...bt(this._def),innerType:this,defaultValue:r,typeName:vt.ZodDefault})}brand(){return new o_({typeName:vt.ZodBranded,type:this,...bt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new _f({...bt(this._def),innerType:this,catchValue:r,typeName:vt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return th.create(this,t)}readonly(){return wf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jq=/^c[^\s-]{8,}$/i,Sq=/^[0-9a-z]+$/,Eq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cq=/^[a-z0-9_-]{21}$/i,kq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Aq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sg;const Oq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Iq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bq=new RegExp(`^${DO}$`);function OO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Uq(e){return new RegExp(`^${OO(e)}$`)}function FO(e){let t=`${DO}T${OO(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Vq(e,t){return!!((t==="v4"||!t)&&Oq.test(e)||(t==="v6"||!t)&&Iq.test(e))}function $q(e,t){if(!kq.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function zq(e,t){return!!((t==="v4"||!t)&&Fq.test(e)||(t==="v6"||!t)&&Rq.test(e))}class ya extends At{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const i=this._getOrReturnCtx(t);return Je(i,{code:Re.invalid_type,expected:st.string,received:i.parsedType}),_t}const s=new On;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Je(a,{code:Re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Je(a,{code:Re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Pq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"email",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")sg||(sg=new RegExp(Dq,"u")),sg.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"emoji",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Tq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"uuid",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Cq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"nanoid",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")jq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Sq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid2",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Eq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ulid",code:Re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Je(a,{validation:"url",code:Re.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"regex",code:Re.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?FO(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Bq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?Uq(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Aq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"duration",code:Re.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Vq(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ip",code:Re.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?$q(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"jwt",code:Re.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?zq(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cidr",code:Re.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Mq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64",code:Re.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?Lq.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64url",code:Re.invalid_string,message:i.message}),s.dirty()):Mt.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Re.invalid_string,...ut.errToObj(s)})}_addCheck(t){return new ya({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ut.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ut.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ut.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ut.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ut.errToObj(r)})}nonempty(t){return this.min(1,ut.errToObj(t))}trim(){return new ya({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ya({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ya({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ya.create=e=>{var t;return new ya({checks:[],typeName:vt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...bt(e)})};function qq(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Eo extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const i=this._getOrReturnCtx(t);return Je(i,{code:Re.invalid_type,expected:st.number,received:i.parsedType}),_t}let s;const a=new On;for(const i of this._def.checks)i.kind==="int"?Mt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?qq(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.not_finite,message:i.message}),a.dirty()):Mt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,s,a){return new Eo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ut.toString(a)}]})}_addCheck(t){return new Eo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Eo.create=e=>new Eo({checks:[],typeName:vt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class To extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==st.bigint)return this._getInvalidInput(t);let s;const a=new On;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Je(s,{code:Re.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Mt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Re.invalid_type,expected:st.bigint,received:r.parsedType}),_t}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,s,a){return new To({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ut.toString(a)}]})}_addCheck(t){return new To({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}To.create=e=>{var t;return new To({checks:[],typeName:vt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...bt(e)})};class df extends At{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.boolean,received:s.parsedType}),_t}return Wn(t.data)}}df.create=e=>new df({typeName:vt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class bl extends At{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const i=this._getOrReturnCtx(t);return Je(i,{code:Re.invalid_type,expected:st.date,received:i.parsedType}),_t}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Je(i,{code:Re.invalid_date}),_t}const s=new On;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Mt.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ut.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}bl.create=e=>new bl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:vt.ZodDate,...bt(e)});class h0 extends At{_parse(t){if(this._getType(t)!==st.symbol){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.symbol,received:s.parsedType}),_t}return Wn(t.data)}}h0.create=e=>new h0({typeName:vt.ZodSymbol,...bt(e)});class uf extends At{_parse(t){if(this._getType(t)!==st.undefined){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.undefined,received:s.parsedType}),_t}return Wn(t.data)}}uf.create=e=>new uf({typeName:vt.ZodUndefined,...bt(e)});class ff extends At{_parse(t){if(this._getType(t)!==st.null){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.null,received:s.parsedType}),_t}return Wn(t.data)}}ff.create=e=>new ff({typeName:vt.ZodNull,...bt(e)});class hd extends At{constructor(){super(...arguments),this._any=!0}_parse(t){return Wn(t.data)}}hd.create=e=>new hd({typeName:vt.ZodAny,...bt(e)});class dl extends At{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Wn(t.data)}}dl.create=e=>new dl({typeName:vt.ZodUnknown,...bt(e)});class Pi extends At{_parse(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Re.invalid_type,expected:st.never,received:r.parsedType}),_t}}Pi.create=e=>new Pi({typeName:vt.ZodNever,...bt(e)});class m0 extends At{_parse(t){if(this._getType(t)!==st.undefined){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.void,received:s.parsedType}),_t}return Wn(t.data)}}m0.create=e=>new m0({typeName:vt.ZodVoid,...bt(e)});class ba extends At{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==st.array)return Je(r,{code:Re.invalid_type,expected:st.array,received:r.parsedType}),_t;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Je(r,{code:o?Re.too_big:Re.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Je(r,{code:Re.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Je(r,{code:Re.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ya(r,o,r.path,l)))).then(o=>On.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ya(r,o,r.path,l)));return On.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new ba({...this._def,minLength:{value:t,message:ut.toString(r)}})}max(t,r){return new ba({...this._def,maxLength:{value:t,message:ut.toString(r)}})}length(t,r){return new ba({...this._def,exactLength:{value:t,message:ut.toString(r)}})}nonempty(t){return this.min(1,t)}}ba.create=(e,t)=>new ba({type:e,minLength:null,maxLength:null,exactLength:null,typeName:vt.ZodArray,...bt(t)});function Jl(e){if(e instanceof gr){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Ga.create(Jl(s))}return new gr({...e._def,shape:()=>t})}else return e instanceof ba?new ba({...e._def,type:Jl(e.element)}):e instanceof Ga?Ga.create(Jl(e.unwrap())):e instanceof ko?ko.create(Jl(e.unwrap())):e instanceof Xa?Xa.create(e.items.map(t=>Jl(t))):e}class gr extends At{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Mt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==st.object){const d=this._getOrReturnCtx(t);return Je(d,{code:Re.invalid_type,expected:st.object,received:d.parsedType}),_t}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pi&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ya(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Pi){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Je(a,{code:Re.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ya(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>On.mergeObjectSync(s,d)):On.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return ut.errToObj,new gr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=ut.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new gr({...this._def,unknownKeys:"strip"})}passthrough(){return new gr({...this._def,unknownKeys:"passthrough"})}extend(t){return new gr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:vt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new gr({...this._def,catchall:t})}pick(t){const r={};return Mt.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new gr({...this._def,shape:()=>r})}omit(t){const r={};return Mt.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new gr({...this._def,shape:()=>r})}deepPartial(){return Jl(this)}partial(t){const r={};return Mt.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new gr({...this._def,shape:()=>r})}required(t){const r={};return Mt.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ga;)i=i._def.innerType;r[s]=i}}),new gr({...this._def,shape:()=>r})}keyof(){return IO(Mt.objectKeys(this.shape))}}gr.create=(e,t)=>new gr({shape:()=>e,unknownKeys:"strip",catchall:Pi.create(),typeName:vt.ZodObject,...bt(t)});gr.strictCreate=(e,t)=>new gr({shape:()=>e,unknownKeys:"strict",catchall:Pi.create(),typeName:vt.ZodObject,...bt(t)});gr.lazycreate=(e,t)=>new gr({shape:e,unknownKeys:"strip",catchall:Pi.create(),typeName:vt.ZodObject,...bt(t)});class hf extends At{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Cs(l.ctx.common.issues));return Je(r,{code:Re.invalid_union,unionErrors:o}),_t}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Cs(c));return Je(r,{code:Re.invalid_union,unionErrors:l}),_t}}get options(){return this._def.options}}hf.create=(e,t)=>new hf({options:e,typeName:vt.ZodUnion,...bt(t)});const ci=e=>e instanceof xf?ci(e.schema):e instanceof ka?ci(e.innerType()):e instanceof gf?[e.value]:e instanceof Co?e.options:e instanceof vf?Mt.objectValues(e.enum):e instanceof yf?ci(e._def.innerType):e instanceof uf?[void 0]:e instanceof ff?[null]:e instanceof Ga?[void 0,...ci(e.unwrap())]:e instanceof ko?[null,...ci(e.unwrap())]:e instanceof o_||e instanceof wf?ci(e.unwrap()):e instanceof _f?ci(e._def.innerType):[];class Fp extends At{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.object)return Je(r,{code:Re.invalid_type,expected:st.object,received:r.parsedType}),_t;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),_t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=ci(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Fp({typeName:vt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...bt(s)})}}function ty(e,t){const r=fi(e),s=fi(t);if(e===t)return{valid:!0,data:e};if(r===st.object&&s===st.object){const a=Mt.objectKeys(t),i=Mt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=ty(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===st.array&&s===st.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=ty(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===st.date&&s===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class mf extends At{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(Jv(i)||Jv(o))return _t;const l=ty(i.value,o.value);return l.valid?((ey(i)||ey(o))&&r.dirty(),{status:r.value,value:l.data}):(Je(s,{code:Re.invalid_intersection_types}),_t)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}mf.create=(e,t,r)=>new mf({left:e,right:t,typeName:vt.ZodIntersection,...bt(r)});class Xa extends At{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==st.array)return Je(s,{code:Re.invalid_type,expected:st.array,received:s.parsedType}),_t;if(s.data.length<this._def.items.length)return Je(s,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_t;!this._def.rest&&s.data.length>this._def.items.length&&(Je(s,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ya(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>On.mergeArray(r,o)):On.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xa({...this._def,rest:t})}}Xa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xa({items:e,typeName:vt.ZodTuple,rest:null,...bt(t)})};class pf extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==st.object)return Je(s,{code:Re.invalid_type,expected:st.object,received:s.parsedType}),_t;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Ya(s,l,s.path,l)),value:o._parse(new Ya(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?On.mergeObjectAsync(r,a):On.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof At?new pf({keyType:t,valueType:r,typeName:vt.ZodRecord,...bt(s)}):new pf({keyType:ya.create(),valueType:t,typeName:vt.ZodRecord,...bt(r)})}}class p0 extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==st.map)return Je(s,{code:Re.invalid_type,expected:st.map,received:s.parsedType}),_t;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Ya(s,l,s.path,[d,"key"])),value:i._parse(new Ya(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return _t;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return _t;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}p0.create=(e,t,r)=>new p0({valueType:t,keyType:e,typeName:vt.ZodMap,...bt(r)});class jl extends At{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==st.set)return Je(s,{code:Re.invalid_type,expected:st.set,received:s.parsedType}),_t;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Je(s,{code:Re.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Je(s,{code:Re.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return _t;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Ya(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new jl({...this._def,minSize:{value:t,message:ut.toString(r)}})}max(t,r){return new jl({...this._def,maxSize:{value:t,message:ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}jl.create=(e,t)=>new jl({valueType:e,minSize:null,maxSize:null,typeName:vt.ZodSet,...bt(t)});class kc extends At{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.function)return Je(r,{code:Re.invalid_type,expected:st.function,received:r.parsedType}),_t;function s(l,c){return u0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,d0(),fd].filter(d=>!!d),issueData:{code:Re.invalid_arguments,argumentsError:c}})}function a(l,c){return u0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,d0(),fd].filter(d=>!!d),issueData:{code:Re.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof md){const l=this;return Wn(async function(...c){const d=new Cs([]),u=await l._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(s(c,p)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(p=>{throw d.addIssue(a(f,p)),d})})}else{const l=this;return Wn(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Cs([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new Cs([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new kc({...this._def,args:Xa.create(t).rest(dl.create())})}returns(t){return new kc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new kc({args:t||Xa.create([]).rest(dl.create()),returns:r||dl.create(),typeName:vt.ZodFunction,...bt(s)})}}class xf extends At{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xf.create=(e,t)=>new xf({getter:e,typeName:vt.ZodLazy,...bt(t)});class gf extends At{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Je(r,{received:r.data,code:Re.invalid_literal,expected:this._def.value}),_t}return{status:"valid",value:t.data}}get value(){return this._def.value}}gf.create=(e,t)=>new gf({value:e,typeName:vt.ZodLiteral,...bt(t)});function IO(e,t){return new Co({values:e,typeName:vt.ZodEnum,...bt(t)})}class Co extends At{constructor(){super(...arguments),uu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return Je(r,{expected:Mt.joinValues(s),received:r.parsedType,code:Re.invalid_type}),_t}if(f0(this,uu)||PO(this,uu,new Set(this._def.values)),!f0(this,uu).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return Je(r,{received:r.data,code:Re.invalid_enum_value,options:s}),_t}return Wn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Co.create(t,{...this._def,...r})}exclude(t,r=this._def){return Co.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}uu=new WeakMap;Co.create=IO;class vf extends At{constructor(){super(...arguments),fu.set(this,void 0)}_parse(t){const r=Mt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==st.string&&s.parsedType!==st.number){const a=Mt.objectValues(r);return Je(s,{expected:Mt.joinValues(a),received:s.parsedType,code:Re.invalid_type}),_t}if(f0(this,fu)||PO(this,fu,new Set(Mt.getValidEnumValues(this._def.values))),!f0(this,fu).has(t.data)){const a=Mt.objectValues(r);return Je(s,{received:s.data,code:Re.invalid_enum_value,options:a}),_t}return Wn(t.data)}get enum(){return this._def.values}}fu=new WeakMap;vf.create=(e,t)=>new vf({values:e,typeName:vt.ZodNativeEnum,...bt(t)});class md extends At{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.promise&&r.common.async===!1)return Je(r,{code:Re.invalid_type,expected:st.promise,received:r.parsedType}),_t;const s=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return Wn(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}md.create=(e,t)=>new md({type:e,typeName:vt.ZodPromise,...bt(t)});class ka extends At{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Je(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _t;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?_t:c.status==="dirty"||r.value==="dirty"?pc(c.value):c});{if(r.value==="aborted")return _t;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?_t:l.status==="dirty"||r.value==="dirty"?pc(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?_t:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?_t:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Nl(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Nl(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Mt.assertNever(a)}}ka.create=(e,t,r)=>new ka({schema:e,typeName:vt.ZodEffects,effect:t,...bt(r)});ka.createWithPreprocess=(e,t,r)=>new ka({schema:t,effect:{type:"preprocess",transform:e},typeName:vt.ZodEffects,...bt(r)});class Ga extends At{_parse(t){return this._getType(t)===st.undefined?Wn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ga.create=(e,t)=>new Ga({innerType:e,typeName:vt.ZodOptional,...bt(t)});class ko extends At{_parse(t){return this._getType(t)===st.null?Wn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:vt.ZodNullable,...bt(t)});class yf extends At{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===st.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:vt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...bt(t)});class _f extends At{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return cf(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cs(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cs(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}_f.create=(e,t)=>new _f({innerType:e,typeName:vt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...bt(t)});class x0 extends At{_parse(t){if(this._getType(t)!==st.nan){const s=this._getOrReturnCtx(t);return Je(s,{code:Re.invalid_type,expected:st.nan,received:s.parsedType}),_t}return{status:"valid",value:t.data}}}x0.create=e=>new x0({typeName:vt.ZodNaN,...bt(e)});const Wq=Symbol("zod_brand");class o_ extends At{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class th extends At{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?_t:i.status==="dirty"?(r.dirty(),pc(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?_t:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new th({in:t,out:r,typeName:vt.ZodPipeline})}}class wf extends At{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Nl(a)&&(a.value=Object.freeze(a.value)),a);return cf(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}wf.create=(e,t)=>new wf({innerType:e,typeName:vt.ZodReadonly,...bt(t)});function Sb(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function RO(e,t={},r){return e?hd.create().superRefine((s,a)=>{var i,o;const l=e(s);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=Sb(t,s),h=(u=(d=f.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=Sb(t,s),d=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):hd.create()}const Hq={object:gr.lazycreate};var vt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(vt||(vt={}));const Kq=(e,t={message:`Input not instance of ${e.name}`})=>RO(r=>r instanceof e,t),MO=ya.create,LO=Eo.create,Gq=x0.create,Qq=To.create,BO=df.create,Yq=bl.create,Xq=h0.create,Zq=uf.create,Jq=ff.create,eW=hd.create,tW=dl.create,rW=Pi.create,nW=m0.create,sW=ba.create,aW=gr.create,iW=gr.strictCreate,oW=hf.create,lW=Fp.create,cW=mf.create,dW=Xa.create,uW=pf.create,fW=p0.create,hW=jl.create,mW=kc.create,pW=xf.create,xW=gf.create,gW=Co.create,vW=vf.create,yW=md.create,Eb=ka.create,_W=Ga.create,wW=ko.create,NW=ka.createWithPreprocess,bW=th.create,jW=()=>MO().optional(),SW=()=>LO().optional(),EW=()=>BO().optional(),TW={string:e=>ya.create({...e,coerce:!0}),number:e=>Eo.create({...e,coerce:!0}),boolean:e=>df.create({...e,coerce:!0}),bigint:e=>To.create({...e,coerce:!0}),date:e=>bl.create({...e,coerce:!0})},CW=_t;var Qe=Object.freeze({__proto__:null,defaultErrorMap:fd,setErrorMap:Nq,getErrorMap:d0,makeIssue:u0,EMPTY_PATH:bq,addIssueToContext:Je,ParseStatus:On,INVALID:_t,DIRTY:pc,OK:Wn,isAborted:Jv,isDirty:ey,isValid:Nl,isAsync:cf,get util(){return Mt},get objectUtil(){return Zv},ZodParsedType:st,getParsedType:fi,ZodType:At,datetimeRegex:FO,ZodString:ya,ZodNumber:Eo,ZodBigInt:To,ZodBoolean:df,ZodDate:bl,ZodSymbol:h0,ZodUndefined:uf,ZodNull:ff,ZodAny:hd,ZodUnknown:dl,ZodNever:Pi,ZodVoid:m0,ZodArray:ba,ZodObject:gr,ZodUnion:hf,ZodDiscriminatedUnion:Fp,ZodIntersection:mf,ZodTuple:Xa,ZodRecord:pf,ZodMap:p0,ZodSet:jl,ZodFunction:kc,ZodLazy:xf,ZodLiteral:gf,ZodEnum:Co,ZodNativeEnum:vf,ZodPromise:md,ZodEffects:ka,ZodTransformer:ka,ZodOptional:Ga,ZodNullable:ko,ZodDefault:yf,ZodCatch:_f,ZodNaN:x0,BRAND:Wq,ZodBranded:o_,ZodPipeline:th,ZodReadonly:wf,custom:RO,Schema:At,ZodSchema:At,late:Hq,get ZodFirstPartyTypeKind(){return vt},coerce:TW,any:eW,array:sW,bigint:Qq,boolean:BO,date:Yq,discriminatedUnion:lW,effect:Eb,enum:gW,function:mW,instanceof:Kq,intersection:cW,lazy:pW,literal:xW,map:fW,nan:Gq,nativeEnum:vW,never:rW,null:Jq,nullable:wW,number:LO,object:aW,oboolean:EW,onumber:SW,optional:_W,ostring:jW,pipeline:bW,preprocess:NW,promise:yW,record:uW,set:hW,strictObject:iW,string:MO,symbol:Xq,transformer:Eb,tuple:dW,undefined:Zq,union:oW,unknown:tW,void:nW,NEVER:CW,ZodIssueCode:Re,quotelessJson:wq,ZodError:Cs});const xr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ar(e,t){return t.includes(e.columnType)}function kW(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const AW=Qe.union([Qe.string(),Qe.number(),Qe.boolean(),Qe.null()]),PW=Qe.union([AW,Qe.record(Qe.any()),Qe.array(Qe.any())]),DW=Qe.custom(e=>e instanceof Buffer);function UO(e,t){const r=(t==null?void 0:t.zodInstance)??Qe,s=(t==null?void 0:t.coerce)??{};let a;return kW(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(Ar(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Ar(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Ar(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):Ar(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Ar(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Ar(e,["PgArray"])?(a=r.array(UO(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=OW(e,r,s):e.dataType==="bigint"?a=FW(e,r,s):e.dataType==="boolean"?a=s===!0||s.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=s===!0||s.date?r.coerce.date():r.date():e.dataType==="string"?a=IW(e,r,s):e.dataType==="json"?a=PW:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=DW)),a||(a=r.any()),a}function OW(e,t,r){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;Ar(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:xr.INT8_MIN,i=s?xr.INT8_UNSIGNED_MAX:xr.INT8_MAX,o=!0):Ar(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:xr.INT16_MIN,i=s?xr.INT16_UNSIGNED_MAX:xr.INT16_MAX,o=!0):Ar(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:xr.INT24_MIN,i=s?xr.INT24_UNSIGNED_MAX:xr.INT24_MAX,o=Ar(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ar(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:xr.INT32_MIN,i=s?xr.INT32_UNSIGNED_MAX:xr.INT32_MAX,o=!0):Ar(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:xr.INT48_MIN,i=s?xr.INT48_UNSIGNED_MAX:xr.INT48_MAX):Ar(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Ar(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Ar(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function FW(e,t,r){const s=e.getSQLType().includes("unsigned"),a=s?0n:xr.INT64_MIN,i=s?xr.INT64_UNSIGNED_MAX:xr.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function IW(e,t,r){if(Ar(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;Ar(e,["PgVarchar","SQLiteText"])?s=e.length:Ar(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??xr.INT16_UNSIGNED_MAX:Ar(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=xr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=xr.INT24_UNSIGNED_MAX:e.textType==="text"?s=xr.INT16_UNSIGNED_MAX:s=xr.INT8_UNSIGNED_MAX),Ar(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),Ar(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function VO(e){return JD(e)?Hz(e):Kz(e)}function $O(e,t,r,s){const a={};for(const[i,o]of Object.entries(e)){if(!fn(o,ud)&&!fn(o,Jr)&&!fn(o,Jr.Aliased)&&typeof o=="object"){const f=JD(o)||Wz(o)?VO(o):o;a[i]=$O(f,t[i]??{},r,s);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=fn(o,ud)?o:void 0,d=c?UO(c,s):Qe.any(),u=typeof l=="function"?l(d):d;r.never(c)||(a[i]=u,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return Qe.object(a)}const RW={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},ot=(e,t)=>{const r=VO(e);return $O(r,{},RW)};Fe("file_upload_tracking",{id:ri("id").primaryKey(),file_hash:Y("file_hash",{length:64}).notNull(),original_filename:E("original_filename").notNull(),platform:Y("platform",{length:50}).notNull(),business_unit:Y("business_unit",{length:50}).notNull(),period_type:Y("period_type",{length:20}).notNull(),upload_type:Y("upload_type",{length:50}).notNull(),uploaded_at:V("uploaded_at").defaultNow(),file_size:O("file_size"),uploader_info:E("uploader_info")});const MW=Fe("sap_item_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),itemcode:Y("itemcode",{length:50}).notNull().unique(),itemname:E("itemname").notNull(),type:Y("type",{length:50}),itemgroup:Y("itemgroup",{length:100}),variety:Y("variety",{length:100}),subgroup:Y("subgroup",{length:100}),brand:Y("brand",{length:100}),uom:Y("uom",{length:20}),taxrate:re("taxrate",{precision:5,scale:2}),unitsize:Y("unitsize",{length:50}),is_litre:Ss("is_litre").default(!1),case_pack:O("case_pack")}),LW=Fe("sap_item_mst_api",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),itemcode:Y("itemcode",{length:50}).notNull().unique(),itemname:E("itemname").notNull(),type:Y("type",{length:50}),itemgroup:Y("itemgroup",{length:100}),variety:Y("variety",{length:100}),subgroup:Y("subgroup",{length:100}),brand:Y("brand",{length:100}),uom:Y("uom",{length:20}),taxrate:re("taxrate",{precision:5,scale:2}),unitsize:Y("unitsize",{length:50}),is_litre:Ss("is_litre").default(!1),case_pack:O("case_pack"),last_synced:V("last_synced").defaultNow(),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),itemcode:Y("itemcode",{length:50}).notNull().unique(),itemname:E("itemname").notNull(),itemgroup:Y("itemgroup",{length:100}),type:Y("type",{length:50}),variety:Y("variety",{length:100}),subgroup:Y("subgroup",{length:100}),brand:Y("brand",{length:100}),uom:Y("uom",{length:20}),taxrate:re("u_tax_rate",{precision:5,scale:2}),unitsize:Y("unitsize",{length:50}),is_litre:Ss("is_litre").default(!1),case_pack:O("case_pack"),basic_rate:re("basic_rate",{precision:12,scale:2}),landing_rate:re("landing_rate",{precision:12,scale:2}),mrp:re("mrp",{precision:12,scale:2}),supplier_price:re("supplier_price",{precision:12,scale:2}),last_synced:V("last_synced").defaultNow(),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});const l_=Fe("pf_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),pf_name:Y("pf_name",{length:100}).notNull().unique()}),BW=Fe("pf_item_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),pf_itemcode:Y("pf_itemcode",{length:100}).notNull(),pf_itemname:E("pf_itemname").notNull(),pf_id:O("pf_id").notNull().references(()=>l_.id),sap_id:Y("sap_id",{length:50}).notNull()},e=>({uniqueItemCode:Qv("pf_item_mst_pf_id_itemcode_unique").on(e.pf_id,e.pf_itemcode),uniqueItemName:Qv("pf_item_mst_pf_id_itemname_unique").on(e.pf_id,e.pf_itemname)})),Ip=Fe("pf_po",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:100}).notNull().unique(),platform:O("platform").notNull().references(()=>l_.id),serving_distributor:Y("serving_distributor",{length:200}),order_date:V("order_date").notNull(),expiry_date:V("expiry_date"),appointment_date:V("appointment_date"),region:Y("region",{length:50}),state:Y("state",{length:50}),city:Y("city",{length:100}),area:Y("area",{length:100}),state_id:O("state_id").references(()=>GO.id),district_id:O("district_id").references(()=>OH.id),status:Y("status",{length:20}).notNull().default("Open"),attachment:E("attachment"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),UW=Fe("pf_order_items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_id:O("po_id").notNull().references(()=>Ip.id,{onDelete:"cascade"}),item_name:E("item_name").notNull(),quantity:O("quantity").notNull(),sap_code:Y("sap_code",{length:50}),category:Y("category",{length:100}),subcategory:Y("subcategory",{length:100}),basic_rate:re("basic_rate",{precision:10,scale:2}).notNull(),gst_rate:re("gst_rate",{precision:5,scale:2}).notNull(),landing_rate:re("landing_rate",{precision:10,scale:2}).notNull(),total_litres:re("total_litres",{precision:10,scale:3}),status:Y("status",{length:50}).default("Pending"),hsn_code:Y("hsn_code",{length:20}),invoice_date:Cu("invoice_date"),invoice_litre:re("invoice_litre",{precision:14,scale:2}),invoice_amount:re("invoice_amount",{precision:14,scale:2}),invoice_qty:re("invoice_qty",{precision:14,scale:2})}),zO=Fe("distributor_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),distributor_name:Y("distributor_name",{length:200}).notNull().unique(),distributor_code:Y("distributor_code",{length:50}).unique(),contact_person:Y("contact_person",{length:100}),phone:Y("phone",{length:20}),email:Y("email",{length:100}),address:E("address"),city:Y("city",{length:100}),state:Y("state",{length:50}),region:Y("region",{length:50}),status:Y("status",{length:20}).notNull().default("Active"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),qO=Fe("distributor_po",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:100}).notNull().unique(),distributor_id:O("distributor_id").notNull().references(()=>zO.id),serving_distributor:Y("serving_distributor",{length:200}),order_date:V("order_date").notNull(),expiry_date:V("expiry_date"),appointment_date:V("appointment_date"),region:Y("region",{length:50}),state:Y("state",{length:50}),city:Y("city",{length:100}),area:Y("area",{length:100}),status:Y("status",{length:20}).notNull().default("Open"),attachment:E("attachment"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),VW=Fe("distributor_order_items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_id:O("po_id").notNull().references(()=>qO.id,{onDelete:"cascade"}),item_name:E("item_name").notNull(),quantity:O("quantity").notNull(),sap_code:Y("sap_code",{length:50}),category:Y("category",{length:100}),subcategory:Y("subcategory",{length:100}),basic_rate:re("basic_rate",{precision:10,scale:2}).notNull(),gst_rate:re("gst_rate",{precision:5,scale:2}).notNull(),landing_rate:re("landing_rate",{precision:10,scale:2}).notNull(),total_litres:re("total_litres",{precision:10,scale:3}),status:Y("status",{length:50}).default("Pending"),hsn_code:Y("hsn_code",{length:20})});ot(LW).omit({id:!0,created_at:!0,updated_at:!0,last_synced:!0});ot(MW).omit({id:!0});ot(l_).omit({id:!0});ot(BW).omit({id:!0});ot(Ip).omit({id:!0,created_at:!0,updated_at:!0});ot(UW).omit({id:!0,po_id:!0});ot(zO).omit({id:!0,created_at:!0,updated_at:!0});ot(qO).omit({id:!0,created_at:!0,updated_at:!0});ot(VW).omit({id:!0,po_id:!0});const WO=Fe("roles",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),role_name:Y("role_name",{length:50}).notNull().unique(),description:E("description"),is_admin:Ss("is_admin").default(!1),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),wr=Fe("users",{id:ri("id").primaryKey(),username:E("username").notNull().unique(),email:E("email").notNull().unique(),password:E("password").notNull(),password_hash:E("password_hash"),full_name:E("full_name"),phone:Y("phone",{length:20}),role:Y("role",{length:20}).default("user"),role_id:O("role_id").references(()=>WO.id),department:Y("department",{length:100}).default("E-Com"),is_active:Ss("is_active").default(!0),status:Y("status",{length:20}).default("active"),last_login:V("last_login"),password_changed_at:V("password_changed_at"),created_by:O("created_by").references(()=>wr.id),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),$W=Fe("log_master",{id:ri("id").primaryKey(),user_id:O("user_id").references(()=>wr.id),username:Y("username",{length:100}).notNull(),action:Y("action",{length:50}).notNull(),table_name:Y("table_name",{length:100}).notNull(),record_id:O("record_id").notNull(),field_name:Y("field_name",{length:100}),old_value:E("old_value"),new_value:E("new_value"),ip_address:Y("ip_address",{length:45}),user_agent:E("user_agent"),session_id:Y("session_id",{length:100}),timestamp:V("timestamp").defaultNow().notNull(),created_at:V("created_at").defaultNow()});ot($W).omit({id:!0,created_at:!0});ot(wr).omit({id:!0,created_at:!0,updated_at:!0,last_login:!0,password_changed_at:!0}).extend({department:Qe.enum(["E-Com","IT Six"]).default("E-Com")});const zW=Qe.object({username:Qe.string().min(3,"Username must be at least 3 characters"),password:Qe.string().min(6,"Password must be at least 6 characters")}),qW=ot(wr).partial().omit({id:!0,username:!0,password:!0,created_at:!0,updated_at:!0}),WW=Qe.object({currentPassword:Qe.string().min(1,"Current password is required"),newPassword:Qe.string().min(6,"New password must be at least 6 characters"),confirmPassword:Qe.string().min(6,"Confirm password must be at least 6 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New password and confirm password don't match",path:["confirmPassword"]}),Rp=Fe("flipkart_grocery_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:50}).notNull().unique(),supplier_name:E("supplier_name").notNull(),supplier_address:E("supplier_address"),supplier_contact:Y("supplier_contact",{length:20}),supplier_email:Y("supplier_email",{length:100}),supplier_gstin:Y("supplier_gstin",{length:20}),billed_to_address:E("billed_to_address"),billed_to_gstin:Y("billed_to_gstin",{length:20}),shipped_to_address:E("shipped_to_address"),shipped_to_gstin:Y("shipped_to_gstin",{length:20}),nature_of_supply:Y("nature_of_supply",{length:50}),nature_of_transaction:Y("nature_of_transaction",{length:50}),po_expiry_date:V("po_expiry_date"),category:Y("category",{length:100}),order_date:V("order_date").notNull(),mode_of_payment:Y("mode_of_payment",{length:50}),contract_ref_id:Y("contract_ref_id",{length:100}),contract_version:Y("contract_version",{length:10}),credit_term:Y("credit_term",{length:100}),total_quantity:O("total_quantity"),total_taxable_value:re("total_taxable_value",{precision:12,scale:2}),total_tax_amount:re("total_tax_amount",{precision:12,scale:2}),total_amount:re("total_amount",{precision:12,scale:2}),status:Y("status",{length:20}).notNull().default("Open"),distributor:Y("distributor",{length:200}),area:Y("area",{length:100}),city:Y("city",{length:100}),region:Y("region",{length:100}),state:Y("state",{length:100}),dispatch_from:Y("dispatch_from",{length:100}),created_by:Y("created_by",{length:100}),uploaded_by:Y("uploaded_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),HW=Fe("flipkart_grocery_po_lines",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),header_id:O("header_id").notNull().references(()=>Rp.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),hsn_code:Y("hsn_code",{length:20}),fsn_isbn:Y("fsn_isbn",{length:50}),quantity:O("quantity").notNull(),pending_quantity:O("pending_quantity"),uom:Y("uom",{length:20}),title:E("title").notNull(),brand:Y("brand",{length:100}),type:Y("type",{length:100}),ean:Y("ean",{length:20}),vertical:Y("vertical",{length:100}),required_by_date:V("required_by_date"),supplier_mrp:re("supplier_mrp",{precision:10,scale:2}),supplier_price:re("supplier_price",{precision:10,scale:2}),taxable_value:re("taxable_value",{precision:10,scale:2}),igst_rate:re("igst_rate",{precision:5,scale:2}),igst_amount_per_unit:re("igst_amount_per_unit",{precision:10,scale:2}),sgst_rate:re("sgst_rate",{precision:5,scale:2}),sgst_amount_per_unit:re("sgst_amount_per_unit",{precision:10,scale:2}),cgst_rate:re("cgst_rate",{precision:5,scale:2}),cgst_amount_per_unit:re("cgst_amount_per_unit",{precision:10,scale:2}),cess_rate:re("cess_rate",{precision:5,scale:2}),cess_amount_per_unit:re("cess_amount_per_unit",{precision:10,scale:2}),tax_amount:re("tax_amount",{precision:10,scale:2}),total_amount:re("total_amount",{precision:10,scale:2}),status:Y("status",{length:50}).default("Pending"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(Rp).omit({id:!0,created_at:!0,updated_at:!0});ot(HW).omit({id:!0,header_id:!0,created_at:!0,updated_at:!0});const Mp=Fe("zepto_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:50}).notNull(),status:Y("status",{length:20}).default("Open"),total_quantity:O("total_quantity").default(0),total_cost_value:re("total_cost_value",{precision:15,scale:2}).default("0"),total_tax_amount:re("total_tax_amount",{precision:15,scale:2}).default("0"),total_amount:re("total_amount",{precision:15,scale:2}).default("0"),unique_brands:E("unique_brands").array(),created_by:Y("created_by",{length:100}),uploaded_by:Y("uploaded_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),KW=Fe("zepto_po_lines",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_header_id:O("po_header_id").references(()=>Mp.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),po_number:Y("po_number",{length:50}),sku:E("sku"),brand:Y("brand",{length:100}),sku_id:Y("sku_id",{length:100}),sap_id:Y("sap_id",{length:50}),hsn_code:Y("hsn_code",{length:20}),ean_no:Y("ean_no",{length:50}),po_qty:O("po_qty").default(0),asn_qty:O("asn_qty").default(0),grn_qty:O("grn_qty").default(0),remaining_qty:O("remaining_qty").default(0),cost_price:re("cost_price",{precision:10,scale:2}),cgst:re("cgst",{precision:10,scale:2}),sgst:re("sgst",{precision:10,scale:2}),igst:re("igst",{precision:10,scale:2}),cess:re("cess",{precision:10,scale:2}),mrp:re("mrp",{precision:10,scale:2}),total_value:re("total_value",{precision:15,scale:2}),status:Y("status",{length:20}).default("Pending"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow()});ot(Mp).omit({id:!0,created_at:!0,updated_at:!0});ot(KW).omit({id:!0,po_header_id:!0,created_at:!0});const Lp=Fe("city_mall_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:50}).notNull(),status:Y("status",{length:20}).default("Open"),total_quantity:O("total_quantity").default(0),total_base_amount:re("total_base_amount",{precision:15,scale:2}).default("0"),total_igst_amount:re("total_igst_amount",{precision:15,scale:2}).default("0"),total_cess_amount:re("total_cess_amount",{precision:15,scale:2}).default("0"),total_amount:re("total_amount",{precision:15,scale:2}).default("0"),unique_hsn_codes:E("unique_hsn_codes").array(),created_by:Y("created_by",{length:100}),uploaded_by:Y("uploaded_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),GW=Fe("city_mall_po_lines",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_header_id:O("po_header_id").references(()=>Lp.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),article_id:Y("article_id",{length:50}),article_name:E("article_name"),hsn_code:Y("hsn_code",{length:20}),mrp:re("mrp",{precision:10,scale:2}),base_cost_price:re("base_cost_price",{precision:10,scale:2}),quantity:O("quantity").default(0),base_amount:re("base_amount",{precision:15,scale:2}),igst_percent:re("igst_percent",{precision:5,scale:2}),cess_percent:re("cess_percent",{precision:5,scale:2}),igst_amount:re("igst_amount",{precision:10,scale:2}),cess_amount:re("cess_amount",{precision:10,scale:2}),total_amount:re("total_amount",{precision:15,scale:2}),status:Y("status",{length:20}).default("Pending"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow()});ot(Lp).omit({id:!0,created_at:!0,updated_at:!0});ot(GW).omit({id:!0,po_header_id:!0,created_at:!0});const Bp=Fe("blinkit_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:50}).notNull(),status:Y("status",{length:20}).default("Open"),total_quantity:O("total_quantity").default(0),total_items:O("total_items").default(0),total_basic_cost:re("total_basic_cost",{precision:15,scale:2}).default("0"),total_tax_amount:re("total_tax_amount",{precision:15,scale:2}).default("0"),total_landing_rate:re("total_landing_rate",{precision:15,scale:2}).default("0"),cart_discount:re("cart_discount",{precision:15,scale:2}).default("0"),net_amount:re("net_amount",{precision:15,scale:2}).default("0"),unique_hsn_codes:E("unique_hsn_codes").array(),created_by:Y("created_by",{length:100}),uploaded_by:Y("uploaded_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),QW=Fe("blinkit_po_lines",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_header_id:O("po_header_id").references(()=>Bp.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),item_code:Y("item_code",{length:50}),hsn_code:Y("hsn_code",{length:20}),product_upc:Y("product_upc",{length:50}),product_description:E("product_description"),grammage:Y("grammage",{length:50}),basic_cost_price:re("basic_cost_price",{precision:10,scale:2}),cgst_percent:re("cgst_percent",{precision:5,scale:2}),sgst_percent:re("sgst_percent",{precision:5,scale:2}),igst_percent:re("igst_percent",{precision:5,scale:2}),cess_percent:re("cess_percent",{precision:5,scale:2}),additional_cess:re("additional_cess",{precision:10,scale:2}),tax_amount:re("tax_amount",{precision:10,scale:2}),landing_rate:re("landing_rate",{precision:10,scale:2}),quantity:O("quantity").default(0),mrp:re("mrp",{precision:10,scale:2}),margin_percent:re("margin_percent",{precision:5,scale:2}),total_amount:re("total_amount",{precision:15,scale:2}),status:Y("status",{length:20}).default("Active"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow()});ot(Bp).omit({id:!0,created_at:!0,updated_at:!0});ot(QW).omit({id:!0,po_header_id:!0,created_at:!0});const Up=Fe("swiggy_pos",{id:ri("id").primaryKey(),po_number:Y("po_number",{length:100}).notNull().unique(),po_date:V("po_date"),po_release_date:V("po_release_date"),expected_delivery_date:V("expected_delivery_date"),po_expiry_date:V("po_expiry_date"),vendor_name:Y("vendor_name",{length:255}),payment_terms:Y("payment_terms",{length:100}),total_items:O("total_items").default(0),total_quantity:O("total_quantity").default(0),total_taxable_value:re("total_taxable_value",{precision:15,scale:2}),total_tax_amount:re("total_tax_amount",{precision:15,scale:2}),grand_total:re("grand_total",{precision:15,scale:2}),unique_hsn_codes:Y("unique_hsn_codes").array(),status:Y("status",{length:50}).default("pending"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),YW=Fe("swiggy_po_lines",{id:ri("id").primaryKey(),po_id:O("po_id").references(()=>Up.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),item_code:Y("item_code",{length:100}).notNull(),item_description:E("item_description"),hsn_code:Y("hsn_code",{length:20}),quantity:O("quantity").notNull(),mrp:re("mrp",{precision:10,scale:2}),unit_base_cost:re("unit_base_cost",{precision:10,scale:3}),taxable_value:re("taxable_value",{precision:12,scale:5}),cgst_rate:re("cgst_rate",{precision:5,scale:2}),cgst_amount:re("cgst_amount",{precision:10,scale:5}),sgst_rate:re("sgst_rate",{precision:5,scale:2}),sgst_amount:re("sgst_amount",{precision:10,scale:5}),igst_rate:re("igst_rate",{precision:5,scale:2}),igst_amount:re("igst_amount",{precision:10,scale:5}),cess_rate:re("cess_rate",{precision:5,scale:2}),cess_amount:re("cess_amount",{precision:10,scale:5}),additional_cess:re("additional_cess",{precision:10,scale:5}),total_tax_amount:re("total_tax_amount",{precision:10,scale:5}),line_total:re("line_total",{precision:12,scale:5}),created_at:V("created_at").defaultNow()});ot(Up).omit({id:!0,created_at:!0,updated_at:!0});ot(YW).omit({id:!0,po_id:!0,created_at:!0});const Vp=Fe("bigbasket_po_header",{id:ri("id").primaryKey(),po_number:Y("po_number",{length:100}).notNull().unique(),po_date:V("po_date"),po_expiry_date:V("po_expiry_date"),warehouse_address:E("warehouse_address"),delivery_address:E("delivery_address"),supplier_name:Y("supplier_name",{length:255}),supplier_address:E("supplier_address"),supplier_gstin:Y("supplier_gstin",{length:50}),dc_address:E("dc_address"),dc_gstin:Y("dc_gstin",{length:50}),total_items:O("total_items").default(0),total_quantity:O("total_quantity").default(0),total_basic_cost:re("total_basic_cost",{precision:15,scale:2}),total_gst_amount:re("total_gst_amount",{precision:15,scale:2}),total_cess_amount:re("total_cess_amount",{precision:15,scale:2}),grand_total:re("grand_total",{precision:15,scale:2}),status:Y("status",{length:50}).default("pending"),created_by:Y("created_by",{length:100}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),XW=Fe("bigbasket_po_lines",{id:ri("id").primaryKey(),po_id:O("po_id").references(()=>Vp.id,{onDelete:"cascade"}),s_no:O("s_no").notNull(),hsn_code:Y("hsn_code",{length:20}),sku_code:Y("sku_code",{length:100}).notNull(),description:E("description"),ean_upc_code:Y("ean_upc_code",{length:50}),case_quantity:O("case_quantity"),quantity:O("quantity").notNull(),basic_cost:re("basic_cost",{precision:10,scale:2}),sgst_percent:re("sgst_percent",{precision:5,scale:2}),sgst_amount:re("sgst_amount",{precision:10,scale:2}),cgst_percent:re("cgst_percent",{precision:5,scale:2}),cgst_amount:re("cgst_amount",{precision:10,scale:2}),igst_percent:re("igst_percent",{precision:5,scale:2}),igst_amount:re("igst_amount",{precision:10,scale:2}),gst_percent:re("gst_percent",{precision:5,scale:2}),gst_amount:re("gst_amount",{precision:10,scale:2}),cess_percent:re("cess_percent",{precision:5,scale:2}),cess_value:re("cess_value",{precision:10,scale:2}),state_cess_percent:re("state_cess_percent",{precision:5,scale:2}),state_cess:re("state_cess",{precision:10,scale:2}),landing_cost:re("landing_cost",{precision:10,scale:2}),mrp:re("mrp",{precision:10,scale:2}),total_value:re("total_value",{precision:12,scale:2}),created_at:V("created_at").defaultNow()});ot(Vp).omit({id:!0,created_at:!0,updated_at:!0});ot(XW).omit({id:!0,po_id:!0,created_at:!0});const $p=Fe("zomato_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:100}).notNull().unique(),po_date:V("po_date"),expected_delivery_date:V("expected_delivery_date"),account_number:Y("account_number",{length:50}),vendor_id:Y("vendor_id",{length:50}),bill_from_name:E("bill_from_name"),bill_from_address:E("bill_from_address"),bill_from_gstin:Y("bill_from_gstin",{length:20}),bill_from_phone:Y("bill_from_phone",{length:20}),bill_to_name:E("bill_to_name"),bill_to_address:E("bill_to_address"),bill_to_gstin:Y("bill_to_gstin",{length:20}),ship_from_name:E("ship_from_name"),ship_from_address:E("ship_from_address"),ship_from_gstin:Y("ship_from_gstin",{length:20}),ship_to_name:E("ship_to_name"),ship_to_address:E("ship_to_address"),ship_to_gstin:Y("ship_to_gstin",{length:20}),total_items:O("total_items").default(0),total_quantity:re("total_quantity",{precision:15,scale:2}).default("0"),grand_total:re("grand_total",{precision:15,scale:2}).default("0"),total_tax_amount:re("total_tax_amount",{precision:15,scale:2}).default("0"),uploaded_by:Y("uploaded_by",{length:100}).default("admin"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),ZW=Fe("zomato_po_items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_header_id:O("po_header_id").notNull().references(()=>$p.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),product_number:Y("product_number",{length:100}),product_name:E("product_name"),hsn_code:Y("hsn_code",{length:20}),quantity_ordered:re("quantity_ordered",{precision:15,scale:2}),price_per_unit:re("price_per_unit",{precision:15,scale:2}),uom:Y("uom",{length:50}),gst_rate:re("gst_rate",{precision:5,scale:4}),total_tax_amount:re("total_tax_amount",{precision:15,scale:2}),line_total:re("line_total",{precision:15,scale:2}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot($p).omit({id:!0,created_at:!0,updated_at:!0});ot(ZW).omit({id:!0,po_header_id:!0,created_at:!0,updated_at:!0});const zp=Fe("dealshare_po_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_number:Y("po_number",{length:100}).notNull().unique(),po_created_date:V("po_created_date"),po_delivery_date:V("po_delivery_date"),po_expiry_date:V("po_expiry_date"),shipped_by:E("shipped_by"),shipped_by_address:E("shipped_by_address"),shipped_by_gstin:Y("shipped_by_gstin",{length:20}),shipped_by_phone:Y("shipped_by_phone",{length:20}),vendor_code:Y("vendor_code",{length:50}),shipped_to:E("shipped_to"),shipped_to_address:E("shipped_to_address"),shipped_to_gstin:Y("shipped_to_gstin",{length:20}),bill_to:E("bill_to"),bill_to_address:E("bill_to_address"),bill_to_gstin:Y("bill_to_gstin",{length:20}),comments:E("comments"),total_items:O("total_items").default(0),total_quantity:re("total_quantity",{precision:15,scale:2}).default("0"),total_gross_amount:re("total_gross_amount",{precision:15,scale:2}).default("0"),uploaded_by:Y("uploaded_by",{length:100}).default("admin"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),JW=Fe("dealshare_po_items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_header_id:O("po_header_id").notNull().references(()=>zp.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),sku:Y("sku",{length:100}),product_name:E("product_name"),hsn_code:Y("hsn_code",{length:20}),quantity:O("quantity"),mrp_tax_inclusive:re("mrp_tax_inclusive",{precision:10,scale:2}),buying_price:re("buying_price",{precision:10,scale:2}),gst_percent:re("gst_percent",{precision:5,scale:2}),cess_percent:re("cess_percent",{precision:5,scale:2}),gross_amount:re("gross_amount",{precision:12,scale:2}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(zp).omit({id:!0,created_at:!0,updated_at:!0});ot(JW).omit({id:!0,po_header_id:!0,created_at:!0,updated_at:!0});const HO=Fe("secondary_sales_header",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),platform:Y("platform",{length:50}).notNull(),business_unit:Y("business_unit",{length:50}).notNull(),period_start:V("period_start"),period_end:V("period_end"),report_generated_date:V("report_generated_date"),total_items:O("total_items").default(0),total_quantity:re("total_quantity",{precision:15,scale:2}).default("0"),total_sales_amount:re("total_sales_amount",{precision:15,scale:2}).default("0"),total_commission:re("total_commission",{precision:15,scale:2}).default("0"),currency:Y("currency",{length:10}).default("INR"),status:Y("status",{length:20}).default("Active"),uploaded_by:Y("uploaded_by",{length:100}).default("admin"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),eH=Fe("secondary_sales_items",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),header_id:O("header_id").notNull().references(()=>HO.id,{onDelete:"cascade"}),line_number:O("line_number").notNull(),product_sku:Y("product_sku",{length:100}),product_name:E("product_name"),product_asin:Y("product_asin",{length:50}),category:Y("category",{length:100}),brand:Y("brand",{length:100}),quantity_sold:O("quantity_sold"),unit_price:re("unit_price",{precision:10,scale:2}),total_sales:re("total_sales",{precision:12,scale:2}),commission_rate:re("commission_rate",{precision:5,scale:2}),commission_amount:re("commission_amount",{precision:10,scale:2}),shipping_fee:re("shipping_fee",{precision:10,scale:2}),promotion_discount:re("promotion_discount",{precision:10,scale:2}),net_amount:re("net_amount",{precision:12,scale:2}),transaction_date:V("transaction_date"),order_id:Y("order_id",{length:100}),customer_location:Y("customer_location",{length:100}),fulfillment_method:Y("fulfillment_method",{length:50}),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("zepto_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Mp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("zepto_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Mp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("flipkart_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Rp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("flipkart_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Rp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("blinkit_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Bp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("blinkit_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Bp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("swiggy_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Up.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("swiggy_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Up.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("bigbasket_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Vp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("bigbasket_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Vp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("zomato_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>$p.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("zomato_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>$p.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("dealshare_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>zp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("dealshare_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>zp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("citymall_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Lp.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("citymall_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Lp.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("platform_po_attachments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Ip.id,{onDelete:"cascade"}),fileName:E("file_name").notNull(),filePath:E("file_path").notNull(),fileType:E("file_type"),fileSize:O("file_size"),uploadedBy:O("uploaded_by").references(()=>wr.id),uploadedAt:V("uploaded_at").defaultNow(),description:E("description"),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});Fe("platform_po_comments",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),poId:O("po_id").notNull().references(()=>Ip.id,{onDelete:"cascade"}),comment:E("comment").notNull(),createdBy:O("created_by").references(()=>wr.id),createdAt:V("created_at").defaultNow(),updatedAt:V("updated_at").defaultNow()});ot(HO).omit({id:!0,created_at:!0,updated_at:!0});ot(eH).omit({id:!0,header_id:!0,created_at:!0,updated_at:!0});const tH=Fe("SC_AM_JW_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),asin:Y("asin",{length:50}).notNull(),product_title:E("product_title").notNull(),brand:Y("brand",{length:100}),ordered_revenue:re("ordered_revenue",{precision:15,scale:2}),ordered_units:O("ordered_units"),shipped_revenue:re("shipped_revenue",{precision:15,scale:2}),shipped_cogs:re("shipped_cogs",{precision:15,scale:2}),shipped_units:O("shipped_units"),customer_returns:O("customer_returns"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),rH=Fe("SC_AM_JW_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),asin:Y("asin",{length:50}).notNull(),product_title:E("product_title").notNull(),brand:Y("brand",{length:100}),ordered_revenue:re("ordered_revenue",{precision:15,scale:2}),ordered_units:O("ordered_units"),shipped_revenue:re("shipped_revenue",{precision:15,scale:2}),shipped_cogs:re("shipped_cogs",{precision:15,scale:2}),shipped_units:O("shipped_units"),customer_returns:O("customer_returns"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),nH=Fe("SC_AM_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),asin:Y("asin",{length:50}).notNull(),product_title:E("product_title").notNull(),brand:Y("brand",{length:100}),ordered_revenue:re("ordered_revenue",{precision:15,scale:2}),ordered_units:O("ordered_units"),shipped_revenue:re("shipped_revenue",{precision:15,scale:2}),shipped_cogs:re("shipped_cogs",{precision:15,scale:2}),shipped_units:O("shipped_units"),customer_returns:O("customer_returns"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),sH=Fe("SC_AM_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),asin:Y("asin",{length:50}).notNull(),product_title:E("product_title").notNull(),brand:Y("brand",{length:100}),ordered_revenue:re("ordered_revenue",{precision:15,scale:2}),ordered_units:O("ordered_units"),shipped_revenue:re("shipped_revenue",{precision:15,scale:2}),shipped_cogs:re("shipped_cogs",{precision:15,scale:2}),shipped_units:O("shipped_units"),customer_returns:O("customer_returns"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(tH).omit({id:!0,created_at:!0,updated_at:!0});ot(rH).omit({id:!0,created_at:!0,updated_at:!0});ot(nH).omit({id:!0,created_at:!0,updated_at:!0});ot(sH).omit({id:!0,created_at:!0,updated_at:!0});const aH=Fe("SC_Zepto_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),date:V("date").notNull(),sku_number:E("sku_number"),sku_name:E("sku_name"),ean:E("ean"),sku_category:E("sku_category"),sku_sub_category:E("sku_sub_category"),brand_name:E("brand_name"),manufacturer_name:E("manufacturer_name"),manufacturer_id:E("manufacturer_id"),city:E("city"),sales_qty_units:O("sales_qty_units"),mrp:re("mrp",{precision:10,scale:2}),gmv:re("gmv",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),iH=Fe("SC_Zepto_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),date:V("date").notNull(),sku_number:E("sku_number"),sku_name:E("sku_name"),ean:E("ean"),sku_category:E("sku_category"),sku_sub_category:E("sku_sub_category"),brand_name:E("brand_name"),manufacturer_name:E("manufacturer_name"),manufacturer_id:E("manufacturer_id"),city:E("city"),sales_qty_units:O("sales_qty_units"),mrp:re("mrp",{precision:10,scale:2}),gmv:re("gmv",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),oH=Fe("SC_Blinkit_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),item_id:E("item_id"),item_name:E("item_name"),manufacturer_id:E("manufacturer_id"),manufacturer_name:E("manufacturer_name"),city_id:E("city_id"),city_name:E("city_name"),category:E("category"),date:V("date").notNull(),qty_sold:re("qty_sold",{precision:10,scale:2}),mrp:re("mrp",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),lH=Fe("SC_Blinkit_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),item_id:E("item_id"),item_name:E("item_name"),manufacturer_id:E("manufacturer_id"),manufacturer_name:E("manufacturer_name"),city_id:E("city_id"),city_name:E("city_name"),category:E("category"),date:V("date").notNull(),qty_sold:re("qty_sold",{precision:10,scale:2}),mrp:re("mrp",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),cH=Fe("SC_Swiggy_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),brand:E("brand"),ordered_date:V("ordered_date").notNull(),city:E("city"),area_name:E("area_name"),store_id:E("store_id"),l1_category:E("l1_category"),l2_category:E("l2_category"),l3_category:E("l3_category"),product_name:E("product_name"),variant:E("variant"),item_code:E("item_code"),combo:E("combo"),combo_item_code:E("combo_item_code"),combo_units_sold:re("combo_units_sold",{precision:10,scale:2}),base_mrp:re("base_mrp",{precision:10,scale:2}),units_sold:re("units_sold",{precision:10,scale:2}),gmv:re("gmv",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),dH=Fe("SC_Swiggy_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),brand:E("brand"),ordered_date:V("ordered_date").notNull(),city:E("city"),area_name:E("area_name"),store_id:E("store_id"),l1_category:E("l1_category"),l2_category:E("l2_category"),l3_category:E("l3_category"),product_name:E("product_name"),variant:E("variant"),item_code:E("item_code"),combo:E("combo"),combo_item_code:E("combo_item_code"),combo_units_sold:re("combo_units_sold",{precision:10,scale:2}),base_mrp:re("base_mrp",{precision:10,scale:2}),units_sold:re("units_sold",{precision:10,scale:2}),gmv:re("gmv",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(aH).omit({id:!0,created_at:!0,updated_at:!0});ot(oH).omit({id:!0,created_at:!0,updated_at:!0});ot(cH).omit({id:!0,created_at:!0,updated_at:!0});ot(iH).omit({id:!0,created_at:!0,updated_at:!0});ot(lH).omit({id:!0,created_at:!0,updated_at:!0});ot(dH).omit({id:!0,created_at:!0,updated_at:!0});const uH=Fe("SC_FlipKart_JM_2Month",{id:ri("id").primaryKey(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),business_unit:E("business_unit").notNull(),tenant_id:E("tenant_id"),retailer_id:E("retailer_id"),retailer_name:E("retailer_name"),fsn:E("fsn"),category:E("category"),vertical:E("vertical"),brand:E("brand"),product_title:E("product_title"),ean:E("ean"),style_code:E("style_code"),isbn:E("isbn"),publisher:E("publisher"),hsn:E("hsn"),model_id:E("model_id"),last_calculated_at:E("last_calculated_at"),sale_date:V("sale_date"),sale_quantity:O("sale_quantity"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("SC_FlipKart_CHIRAG_2Month",{id:ri("id").primaryKey(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),business_unit:E("business_unit").notNull(),tenant_id:E("tenant_id"),retailer_id:E("retailer_id"),retailer_name:E("retailer_name"),fsn:E("fsn"),category:E("category"),vertical:E("vertical"),brand:E("brand"),product_title:E("product_title"),ean:E("ean"),style_code:E("style_code"),isbn:E("isbn"),publisher:E("publisher"),hsn:E("hsn"),model_id:E("model_id"),last_calculated_at:E("last_calculated_at"),sale_date:V("sale_date"),sale_quantity:O("sale_quantity"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(uH).omit({id:!0,created_at:!0,updated_at:!0});const fH=Fe("SC_JioMartSale_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),shipment_number:E("shipment_number"),fulfillment_type:E("fulfillment_type"),shipment_created_at:V("shipment_created_at"),shipment_status:E("shipment_status"),fulfiller_name:E("fulfiller_name"),accepted_at:V("accepted_at"),product_title:E("product_title"),ean:E("ean"),sku:E("sku"),qty:O("qty"),mrp:re("mrp",{precision:10,scale:2}),promotion_amt:re("promotion_amt",{precision:10,scale:2}),shipping_charge:re("shipping_charge",{precision:10,scale:2}),item_total:re("item_total",{precision:10,scale:2}),payment_method_used:E("payment_method_used"),tracking_code:E("tracking_code"),shipping_agent_code:E("shipping_agent_code"),invoice_id:E("invoice_id"),acceptance_tat_date_time:V("acceptance_tat_date_time"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),hH=Fe("SC_JioMartSale_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),shipment_number:E("shipment_number"),fulfillment_type:E("fulfillment_type"),shipment_created_at:V("shipment_created_at"),shipment_status:E("shipment_status"),fulfiller_name:E("fulfiller_name"),accepted_at:V("accepted_at"),product_title:E("product_title"),ean:E("ean"),sku:E("sku"),qty:O("qty"),mrp:re("mrp",{precision:10,scale:2}),promotion_amt:re("promotion_amt",{precision:10,scale:2}),shipping_charge:re("shipping_charge",{precision:10,scale:2}),item_total:re("item_total",{precision:10,scale:2}),payment_method_used:E("payment_method_used"),tracking_code:E("tracking_code"),shipping_agent_code:E("shipping_agent_code"),invoice_id:E("invoice_id"),acceptance_tat_date_time:V("acceptance_tat_date_time"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(fH).omit({id:!0,created_at:!0,updated_at:!0});ot(hH).omit({id:!0,created_at:!0,updated_at:!0});const mH=Fe("SC_JioMartCancel_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),shipment_number:E("shipment_number"),ean:E("ean"),sku:E("sku"),product:E("product"),invoice_id:E("invoice_id"),invoice_amount:re("invoice_amount",{precision:10,scale:2}),quantity:O("quantity"),amount:re("amount",{precision:10,scale:2}),status:E("status"),reason:E("reason"),payment_method:E("payment_method"),fulfiller_name:E("fulfiller_name"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),pH=Fe("SC_JioMartCancel_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),shipment_number:E("shipment_number"),ean:E("ean"),sku:E("sku"),product:E("product"),invoice_id:E("invoice_id"),invoice_amount:re("invoice_amount",{precision:10,scale:2}),quantity:O("quantity"),amount:re("amount",{precision:10,scale:2}),status:E("status"),reason:E("reason"),payment_method:E("payment_method"),fulfiller_name:E("fulfiller_name"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(mH).omit({id:!0,created_at:!0,updated_at:!0});ot(pH).omit({id:!0,created_at:!0,updated_at:!0});const xH=Fe("SC_BigBasket_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),date_range:E("date_range"),source_city_name:E("source_city_name"),brand_name:E("brand_name"),top_slug:E("top_slug"),mid_slug:E("mid_slug"),leaf_slug:E("leaf_slug"),source_sku_id:E("source_sku_id"),sku_description:E("sku_description"),sku_weight:E("sku_weight"),total_quantity:re("total_quantity",{precision:10,scale:2}),total_mrp:re("total_mrp",{precision:10,scale:2}),total_sales:re("total_sales",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),gH=Fe("SC_BigBasket_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),date_range:E("date_range"),source_city_name:E("source_city_name"),brand_name:E("brand_name"),top_slug:E("top_slug"),mid_slug:E("mid_slug"),leaf_slug:E("leaf_slug"),source_sku_id:E("source_sku_id"),sku_description:E("sku_description"),sku_weight:E("sku_weight"),total_quantity:re("total_quantity",{precision:10,scale:2}),total_mrp:re("total_mrp",{precision:10,scale:2}),total_sales:re("total_sales",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(xH).omit({id:!0,created_at:!0,updated_at:!0});ot(gH).omit({id:!0,created_at:!0,updated_at:!0});const vH=Fe("INV_JioMart_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),rfc_id:E("rfc_id"),rfc_name:E("rfc_name"),sku_id:E("sku_id").notNull(),title:E("title"),category:E("category"),product_status:E("product_status"),last_updated_at:V("last_updated_at"),total_sellable_inv:O("total_sellable_inv"),total_unsellable_inv:O("total_unsellable_inv"),fc_dmg_inv:O("fc_dmg_inv"),lsp_dmg_inv:O("lsp_dmg_inv"),cust_dmg_inv:O("cust_dmg_inv"),recvd_dmg:O("recvd_dmg"),expired_inv:O("expired_inv"),other_unsellable_inv:O("other_unsellable_inv"),mtd_fwd_intransit:O("mtd_fwd_intransit"),mtd_delvd_cust:O("mtd_delvd_cust"),mtd_ret_intransit:O("mtd_ret_intransit"),mtd_order_count:O("mtd_order_count"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),yH=Fe("INV_JioMart_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),rfc_id:E("rfc_id"),rfc_name:E("rfc_name"),sku_id:E("sku_id").notNull(),title:E("title"),category:E("category"),product_status:E("product_status"),last_updated_at:V("last_updated_at"),total_sellable_inv:O("total_sellable_inv"),total_unsellable_inv:O("total_unsellable_inv"),fc_dmg_inv:O("fc_dmg_inv"),lsp_dmg_inv:O("lsp_dmg_inv"),cust_dmg_inv:O("cust_dmg_inv"),recvd_dmg:O("recvd_dmg"),expired_inv:O("expired_inv"),other_unsellable_inv:O("other_unsellable_inv"),mtd_fwd_intransit:O("mtd_fwd_intransit"),mtd_delvd_cust:O("mtd_delvd_cust"),mtd_ret_intransit:O("mtd_ret_intransit"),mtd_order_count:O("mtd_order_count"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(vH).omit({id:!0,created_at:!0,updated_at:!0});ot(yH).omit({id:!0,created_at:!0,updated_at:!0});const _H=Fe("INV_Blinkit_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),sku_id:E("sku_id").notNull(),product_name:E("product_name"),category:E("category"),subcategory:E("subcategory"),brand:E("brand"),size:E("size"),unit:E("unit"),stock_on_hand:O("stock_on_hand"),reserved_quantity:O("reserved_quantity"),available_quantity:O("available_quantity"),inbound_quantity:O("inbound_quantity"),outbound_quantity:O("outbound_quantity"),damaged_quantity:O("damaged_quantity"),expired_quantity:O("expired_quantity"),last_updated_at:V("last_updated_at"),warehouse_location:E("warehouse_location"),supplier_name:E("supplier_name"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("INV_Blinkit_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),sku_id:E("sku_id").notNull(),product_name:E("product_name"),category:E("category"),subcategory:E("subcategory"),brand:E("brand"),size:E("size"),unit:E("unit"),stock_on_hand:O("stock_on_hand"),reserved_quantity:O("reserved_quantity"),available_quantity:O("available_quantity"),inbound_quantity:O("inbound_quantity"),outbound_quantity:O("outbound_quantity"),damaged_quantity:O("damaged_quantity"),expired_quantity:O("expired_quantity"),last_updated_at:V("last_updated_at"),warehouse_location:E("warehouse_location"),supplier_name:E("supplier_name"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});const wH=Fe("INV_FlipKart_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),warehouseId:Y("warehouseId",{length:100}),sku:Y("sku",{length:200}),title:E("title"),listingId:Y("listingId",{length:100}),fsn:Y("fsn",{length:100}),brand:Y("brand",{length:100}),flipkartSellingPrice:re("flipkartSellingPrice",{precision:10,scale:2}),liveOnWebsite:O("liveOnWebsite"),sales7D:O("sales7D"),sales14D:O("sales14D"),sales30D:O("sales30D"),sales60D:O("sales60D"),sales90D:O("sales90D"),b2bScheduled:O("b2bScheduled"),transfersScheduled:O("transfersScheduled"),b2bShipped:O("b2bShipped"),transfersShipped:O("transfersShipped"),b2bReceiving:O("b2bReceiving"),transfersReceiving:O("transfersReceiving"),reservedForOrdersAndRecalls:O("reservedForOrdersAndRecalls"),reservedForInternalProcessing:O("reservedForInternalProcessing"),returnsProcessing:O("returnsProcessing"),ordersToDispatch:O("ordersToDispatch"),recallsToDispatch:O("recallsToDispatch"),damaged:O("damaged"),qcReject:O("qcReject"),catalogReject:O("catalogReject"),returnsReject:O("returnsReject"),sellerReturnReject:O("sellerReturnReject"),miscellaneous:O("miscellaneous"),lengthCm:re("lengthCm",{precision:8,scale:6}),breadthCm:re("breadthCm",{precision:8,scale:6}),heightCm:re("heightCm",{precision:8,scale:6}),weightKg:re("weightKg",{precision:8,scale:3}),fulfilmentType:E("fulfilmentType"),fAssuredBadge:Y("fAssuredBadge",{length:10}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),NH=Fe("INV_FlipKart_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),warehouseId:Y("warehouseId",{length:100}),sku:Y("sku",{length:200}),title:E("title"),listingId:Y("listingId",{length:100}),fsn:Y("fsn",{length:100}),brand:Y("brand",{length:100}),flipkartSellingPrice:re("flipkartSellingPrice",{precision:10,scale:2}),liveOnWebsite:O("liveOnWebsite"),sales7D:O("sales7D"),sales14D:O("sales14D"),sales30D:O("sales30D"),sales60D:O("sales60D"),sales90D:O("sales90D"),b2bScheduled:O("b2bScheduled"),transfersScheduled:O("transfersScheduled"),b2bShipped:O("b2bShipped"),transfersShipped:O("transfersShipped"),b2bReceiving:O("b2bReceiving"),transfersReceiving:O("transfersReceiving"),reservedForOrdersAndRecalls:O("reservedForOrdersAndRecalls"),reservedForInternalProcessing:O("reservedForInternalProcessing"),returnsProcessing:O("returnsProcessing"),ordersToDispatch:O("ordersToDispatch"),recallsToDispatch:O("recallsToDispatch"),damaged:O("damaged"),qcReject:O("qcReject"),catalogReject:O("catalogReject"),returnsReject:O("returnsReject"),sellerReturnReject:O("sellerReturnReject"),miscellaneous:O("miscellaneous"),lengthCm:re("lengthCm",{precision:8,scale:6}),breadthCm:re("breadthCm",{precision:8,scale:6}),heightCm:re("heightCm",{precision:8,scale:6}),weightKg:re("weightKg",{precision:8,scale:3}),fulfilmentType:E("fulfilmentType"),fAssuredBadge:Y("fAssuredBadge",{length:10}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),bH=Fe("INV_Amazon_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),asin:E("asin").notNull(),product_name:E("product_name"),sku:E("sku"),fnsku:E("fnsku"),category:E("category"),brand:E("brand"),size:E("size"),unit:E("unit"),warehouse_location:E("warehouse_location"),condition:E("condition"),fulfillment_channel:E("fulfillment_channel"),units_available:O("units_available"),reserved_quantity:O("reserved_quantity"),inbound_quantity:O("inbound_quantity"),researching_quantity:O("researching_quantity"),unfulfillable_quantity:O("unfulfillable_quantity"),supplier_name:E("supplier_name"),cost_per_unit:re("cost_per_unit",{precision:10,scale:2}),total_value:re("total_value",{precision:10,scale:2}),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("INV_Amazon_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),asin:E("asin").notNull(),product_name:E("product_name"),sku:E("sku"),fnsku:E("fnsku"),category:E("category"),brand:E("brand"),size:E("size"),unit:E("unit"),warehouse_location:E("warehouse_location"),condition:E("condition"),fulfillment_channel:E("fulfillment_channel"),units_available:O("units_available"),reserved_quantity:O("reserved_quantity"),inbound_quantity:O("inbound_quantity"),researching_quantity:O("researching_quantity"),unfulfillable_quantity:O("unfulfillable_quantity"),supplier_name:E("supplier_name"),cost_per_unit:re("cost_per_unit",{precision:10,scale:2}),total_value:re("total_value",{precision:10,scale:2}),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("INV_Amazon_JW_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),asin:E("asin").notNull(),product_name:E("product_name"),sku:E("sku"),fnsku:E("fnsku"),category:E("category"),brand:E("brand"),size:E("size"),unit:E("unit"),warehouse_location:E("warehouse_location"),condition:E("condition"),fulfillment_channel:E("fulfillment_channel"),units_available:O("units_available"),reserved_quantity:O("reserved_quantity"),inbound_quantity:O("inbound_quantity"),researching_quantity:O("researching_quantity"),unfulfillable_quantity:O("unfulfillable_quantity"),supplier_name:E("supplier_name"),cost_per_unit:re("cost_per_unit",{precision:10,scale:2}),total_value:re("total_value",{precision:10,scale:2}),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("INV_Amazon_JW_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),asin:E("asin").notNull(),product_name:E("product_name"),sku:E("sku"),fnsku:E("fnsku"),category:E("category"),brand:E("brand"),size:E("size"),unit:E("unit"),warehouse_location:E("warehouse_location"),condition:E("condition"),fulfillment_channel:E("fulfillment_channel"),units_available:O("units_available"),reserved_quantity:O("reserved_quantity"),inbound_quantity:O("inbound_quantity"),researching_quantity:O("researching_quantity"),unfulfillable_quantity:O("unfulfillable_quantity"),supplier_name:E("supplier_name"),cost_per_unit:re("cost_per_unit",{precision:10,scale:2}),total_value:re("total_value",{precision:10,scale:2}),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(_H).omit({id:!0,created_at:!0,updated_at:!0});ot(bH).omit({id:!0,created_at:!0,updated_at:!0});const jH=Fe("INV_Swiggy_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),storage_type:E("storage_type"),facility_name:E("facility_name"),city:E("city"),sku_code:E("sku_code"),sku_description:E("sku_description"),l1_category:E("l1_category"),l2_category:E("l2_category"),shelf_life_days:O("shelf_life_days"),business_category:E("business_category"),days_on_hand:O("days_on_hand"),potential_gmv_loss:re("potential_gmv_loss",{precision:10,scale:2}),open_pos:E("open_pos"),open_po_quantity:O("open_po_quantity"),warehouse_qty_available:O("warehouse_qty_available"),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),SH=Fe("INV_Swiggy_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),storage_type:E("storage_type"),facility_name:E("facility_name"),city:E("city"),sku_code:E("sku_code"),sku_description:E("sku_description"),l1_category:E("l1_category"),l2_category:E("l2_category"),shelf_life_days:O("shelf_life_days"),business_category:E("business_category"),days_on_hand:O("days_on_hand"),potential_gmv_loss:re("potential_gmv_loss",{precision:10,scale:2}),open_pos:E("open_pos"),open_po_quantity:O("open_po_quantity"),warehouse_qty_available:O("warehouse_qty_available"),last_updated_at:V("last_updated_at"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(jH).omit({id:!0,created_at:!0,updated_at:!0});ot(SH).omit({id:!0,created_at:!0,updated_at:!0});ot(wH).omit({id:!0,created_at:!0,updated_at:!0});ot(NH).omit({id:!0,created_at:!0,updated_at:!0});const EH=Fe("INV_Zepto_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),city:Y("city",{length:100}),sku_name:E("sku_name"),sku_code:Y("sku_code",{length:200}),ean:Y("ean",{length:50}),sku_category:Y("sku_category",{length:100}),sku_sub_category:Y("sku_sub_category",{length:100}),brand_name:Y("brand_name",{length:100}),manufacturer_name:Y("manufacturer_name",{length:200}),manufacturer_id:Y("manufacturer_id",{length:100}),units:O("units"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),TH=Fe("INV_Zepto_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),city:Y("city",{length:100}),sku_name:E("sku_name"),sku_code:Y("sku_code",{length:200}),ean:Y("ean",{length:50}),sku_category:Y("sku_category",{length:100}),sku_sub_category:Y("sku_sub_category",{length:100}),brand_name:Y("brand_name",{length:100}),manufacturer_name:Y("manufacturer_name",{length:200}),manufacturer_id:Y("manufacturer_id",{length:100}),units:O("units"),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(EH).omit({id:!0,created_at:!0,updated_at:!0});ot(TH).omit({id:!0,created_at:!0,updated_at:!0});const CH=Fe("INV_BigBasket_JM_Daily",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),report_date:V("report_date").notNull(),city:E("city"),sku_id:E("sku_id"),brand_name:E("brand_name"),sku_name:E("sku_name"),sku_weight:E("sku_weight"),sku_pack_type:E("sku_pack_type"),sku_description:E("sku_description"),top_category_name:E("top_category_name"),mid_category_name:E("mid_category_name"),leaf_category_name:E("leaf_category_name"),soh:re("soh",{precision:10,scale:2}),soh_value:re("soh_value",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),kH=Fe("INV_BigBasket_JM_Range",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),period_start:V("period_start").notNull(),period_end:V("period_end").notNull(),city:E("city"),sku_id:E("sku_id"),brand_name:E("brand_name"),sku_name:E("sku_name"),sku_weight:E("sku_weight"),sku_pack_type:E("sku_pack_type"),sku_description:E("sku_description"),top_category_name:E("top_category_name"),mid_category_name:E("mid_category_name"),leaf_category_name:E("leaf_category_name"),soh:re("soh",{precision:10,scale:2}),soh_value:re("soh_value",{precision:10,scale:2}),attachment_path:E("attachment_path"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(CH).omit({id:!0,created_at:!0,updated_at:!0});ot(kH).omit({id:!0,created_at:!0,updated_at:!0});const AH=Fe("po_master",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),platform_id:O("platform_id").notNull(),vendor_po_number:Y("vendor_po_number",{length:256}),distributor_id:O("distributor_id").notNull(),series:Y("series",{length:250}).notNull(),company_id:O("company_id").notNull(),po_date:V("po_date").notNull(),delivery_date:V("delivery_date"),create_on:V("create_on").notNull().defaultNow(),updated_on:V("updated_on").notNull().defaultNow(),status_id:O("status_id").notNull(),dispatch_date:V("dispatch_date"),created_by:Y("created_by",{length:150}),dispatch_from:Y("dispatch_from",{length:256}),state_id:O("state_id"),district_id:O("district_id"),region:E("region"),area:E("area"),ware_house:Y("ware_house",{length:50}),invoice_date:V("invoice_date"),appointment_date:V("appointment_date"),expiry_date:V("expiry_date")}),PH=Fe("po_lines",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),po_id:O("po_id").notNull(),platform_product_code_id:O("platform_product_code_id").notNull(),quantity:re("quantity",{precision:12,scale:2}).notNull(),basic_amount:re("basic_amount",{precision:14,scale:2}).notNull(),tax:re("tax",{precision:14,scale:2}),landing_amount:re("landing_amount",{precision:14,scale:2}),total_amount:re("total_amount",{precision:14,scale:2}).notNull(),uom:Y("uom",{length:50}),total_liter:re("total_liter",{precision:14,scale:2}),boxes:O("boxes"),remark:E("remark"),invoice_date:Cu("invoice_date"),invoice_litre:re("invoice_litre",{precision:14,scale:2}),invoice_amount:re("invoice_amount",{precision:14,scale:2}),invoice_qty:re("invoice_qty",{precision:14,scale:2}),dispatch_date:Cu("dispatch_date"),delivery_date:Cu("delivery_date"),status:O("status"),delete:Ss("delete").default(!1),deleted:Ss("deleted").default(!1)});ot(AH).omit({id:!0,create_on:!0,updated_on:!0});ot(PH).omit({id:!0,po_id:!0,delete:!0,deleted:!0});const KO=Fe("states_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),state_name:Y("state_name",{length:100}).notNull().unique(),state_code:Y("state_code",{length:10}).unique(),region:Y("region",{length:50}),status:Y("status",{length:20}).notNull().default("Active"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()}),DH=Fe("districts_mst",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),district_name:Y("district_name",{length:100}).notNull(),state_id:O("state_id").notNull().references(()=>KO.id),district_code:Y("district_code",{length:10}),status:Y("status",{length:20}).notNull().default("Active"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("statuses",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),status_name:Y("status_name",{length:50}).notNull().unique(),description:E("description"),is_active:Ss("is_active").default(!0),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});Fe("status_item",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),status_name:Y("status_name",{length:50}).notNull().unique(),description:E("description"),requires_invoice_fields:Ss("requires_invoice_fields").default(!1),requires_dispatch_date:Ss("requires_dispatch_date").default(!1),requires_delivery_date:Ss("requires_delivery_date").default(!1),is_active:Ss("is_active").default(!0),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});const GO=Fe("states",{id:O("id").primaryKey(),statename:E("statename").notNull(),region_id:O("region_id").references(()=>QO.id)}),OH=Fe("districts",{id:O("id").primaryKey(),district:E("district").notNull(),state_id:O("state_id").notNull().references(()=>GO.id)});Fe("distributors",{id:O("id").primaryKey(),name:E("name").notNull()});const QO=Fe("regions",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),region_name:Y("region_name",{length:100}).notNull().unique(),region_code:Y("region_code",{length:10}),status:Y("status",{length:20}).notNull().default("Active"),created_at:V("created_at").defaultNow(),updated_at:V("updated_at").defaultNow()});ot(QO).omit({id:!0,created_at:!0,updated_at:!0});ot(KO).omit({id:!0,created_at:!0,updated_at:!0});ot(DH).omit({id:!0,created_at:!0,updated_at:!0});const YO=Fe("permissions",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),permission_name:Y("permission_name",{length:100}).notNull().unique(),category:Y("category",{length:50}).notNull(),description:E("description"),created_at:V("created_at").defaultNow()}),FH=Fe("role_permissions",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),role_id:O("role_id").notNull().references(()=>WO.id,{onDelete:"cascade"}),permission_id:O("permission_id").notNull().references(()=>YO.id,{onDelete:"cascade"}),granted_at:V("granted_at").defaultNow()},e=>[Qv().on(e.role_id,e.permission_id)]),IH=Fe("user_sessions",{id:O("id").primaryKey().generatedByDefaultAsIdentity(),user_id:O("user_id").notNull().references(()=>wr.id,{onDelete:"cascade"}),session_token:Y("session_token",{length:255}).notNull().unique(),expires_at:V("expires_at").notNull(),created_at:V("created_at").defaultNow(),ip_address:Y("ip_address",{length:45}),user_agent:E("user_agent")});ot(YO).omit({id:!0,created_at:!0});ot(FH).omit({id:!0,granted_at:!0});ot(IH).omit({id:!0,created_at:!0});var RH="Label",XO=x.forwardRef((e,t)=>n.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XO.displayName=RH;var ZO=XO;const MH=Sd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=x.forwardRef(({className:e,...t},r)=>n.jsx(ZO,{ref:r,className:Te(MH(),e),...t}));Se.displayName=ZO.displayName;const g0=yz,JO=x.createContext({}),fa=({...e})=>n.jsx(JO.Provider,{value:{name:e.name},children:n.jsx(gm,{...e})}),qp=()=>{const e=x.useContext(JO),t=x.useContext(eF),{getFieldState:r,formState:s}=Op(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},eF=x.createContext({}),Vs=x.forwardRef(({className:e,...t},r)=>{const s=x.useId();return n.jsx(eF.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:Te("space-y-2",e),...t})})});Vs.displayName="FormItem";const $s=x.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=qp();return n.jsx(Se,{ref:r,className:Te(s&&"text-destructive",e),htmlFor:a,...t})});$s.displayName="FormLabel";const zs=x.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=qp();return n.jsx(_k,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});zs.displayName="FormControl";const LH=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=qp();return n.jsx("p",{ref:r,id:s,className:Te("text-sm text-muted-foreground",e),...t})});LH.displayName="FormDescription";const qs=x.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=qp(),o=a?String((a==null?void 0:a.message)??""):t;return o?n.jsx("p",{ref:s,id:i,className:Te("text-sm font-medium text-destructive",e),...r,children:o}):null});qs.displayName="FormMessage";function BH(){const{user:e,loginMutation:t}=Wf(),[r,s]=x.useState(!1),a=cd({resolver:dd(zW),defaultValues:{username:"",password:""}});if(e)return n.jsx(sk,{to:"/"});const i=o=>{t==null||t.mutate(o)};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:n.jsx(Km,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Jivo E-Com"}),n.jsx("p",{className:"text-gray-600",children:"E-commerce Purchase Order Management"})]}),n.jsxs(ve,{className:"shadow-2xl border-0",children:[n.jsxs(Oe,{className:"space-y-1 pb-4",children:[n.jsx(Me,{className:"text-2xl text-center text-gray-900",children:"Welcome Back"}),n.jsx(kt,{className:"text-center",children:"Sign in to your account to continue"})]}),n.jsx(be,{children:n.jsx(g0,{...a,children:n.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[n.jsx(fa,{control:a.control,name:"username",render:({field:o})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Username"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(yl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ke,{placeholder:"Enter your username",className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",...o})]})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:a.control,name:"password",render:({field:o})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Password"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:r?"text":"password",placeholder:"Enter your password",className:"h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 pr-10",...o}),n.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 py-2 hover:bg-transparent",onClick:()=>s(!r),children:r?n.jsx(fm,{className:"h-4 w-4 text-gray-400"}):n.jsx(on,{className:"h-4 w-4 text-gray-400"})})]})}),n.jsx(qs,{})]})}),n.jsx(ue,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg",disabled:t==null?void 0:t.isPending,children:t!=null&&t.isPending?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]})})})]}),n.jsxs("div",{className:"text-center mt-8",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Secure e-commerce management platform"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Contact your administrator for account creation"})]})]})})}var c_="Tabs",[UH,Nie]=Xn(c_,[kp]),tF=kp(),[VH,d_]=UH(c_),rF=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Yf(l),[f,h]=No({prop:s,onChange:a,defaultProp:i});return n.jsx(VH,{scope:r,baseId:yn(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:n.jsx(ct.div,{dir:u,"data-orientation":o,...d,ref:t})})});rF.displayName=c_;var nF="TabsList",sF=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=d_(nF,r),o=tF(r);return n.jsx(kP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ct.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});sF.displayName=nF;var aF="TabsTrigger",iF=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=d_(aF,r),l=tF(r),c=cF(o.baseId,s),d=dF(o.baseId,s),u=s===o.value;return n.jsx(AP,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ct.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ue(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Ue(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});iF.displayName=aF;var oF="TabsContent",lF=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=d_(oF,r),c=cF(l.baseId,s),d=dF(l.baseId,s),u=s===l.value,f=x.useRef(u);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(bn,{present:a||u,children:({present:h})=>n.jsx(ct.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});lF.displayName=oF;function cF(e,t){return`${e}-trigger-${t}`}function dF(e,t){return`${e}-content-${t}`}var $H=rF,uF=sF,fF=iF,hF=lF;const u_=$H,Wp=x.forwardRef(({className:e,...t},r)=>n.jsx(uF,{ref:r,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Wp.displayName=uF.displayName;const Sl=x.forwardRef(({className:e,...t},r)=>n.jsx(fF,{ref:r,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Sl.displayName=fF.displayName;const El=x.forwardRef(({className:e,...t},r)=>n.jsx(hF,{ref:r,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));El.displayName=hF.displayName;function zH(){const{user:e,updateProfileMutation:t,changePasswordMutation:r,logoutMutation:s}=Wf(),[,a]=Fs(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),f=cd({resolver:dd(qW),defaultValues:{email:(e==null?void 0:e.email)||"",full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",department:(e==null?void 0:e.department)||""}}),h=cd({resolver:dd(WW),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),p=m=>{t.mutate(m)},y=m=>{r.mutate(m,{onSuccess:()=>{h.reset()}})};return e?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ue,{variant:"outline",size:"icon",onClick:()=>a("/"),className:"rounded-full border-gray-200",children:n.jsx($t,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Profile"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]})]}),n.jsx(ue,{variant:"outline",onClick:()=>s.mutate(),className:"hidden sm:flex border-red-200 text-red-600 hover:bg-red-50",children:"Sign Out"})]}),n.jsx(ve,{className:"mb-6 shadow-xl border-0",children:n.jsx(be,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(aB,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.full_name||e.username}),n.jsx("p",{className:"text-gray-600",children:e.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsxs(rt,{variant:"secondary",className:"text-xs",children:[n.jsx(Km,{className:"w-3 h-3 mr-1"}),e.role]}),e.department&&n.jsxs(rt,{variant:"outline",className:"text-xs",children:[n.jsx(Fv,{className:"w-3 h-3 mr-1"}),e.department]}),n.jsx(rt,{variant:e.is_active?"default":"destructive",className:"text-xs",children:e.is_active?"Active":"Inactive"})]}),e.last_login&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last login: ",new Date(e.last_login).toLocaleDateString()]})]}),n.jsx(ue,{variant:"outline",onClick:()=>s.mutate(),className:"sm:hidden border-red-200 text-red-600 hover:bg-red-50",size:"sm",children:"Sign Out"})]})})}),n.jsxs(ve,{className:"shadow-xl border-0",children:[n.jsxs(Oe,{children:[n.jsx(Me,{className:"text-lg",children:"Account Settings"}),n.jsx(kt,{children:"Update your personal information and security settings"})]}),n.jsx(be,{children:n.jsxs(u_,{defaultValue:"profile",className:"w-full",children:[n.jsxs(Wp,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsx(Sl,{value:"profile",children:"Profile Info"}),n.jsx(Sl,{value:"security",children:"Security"})]}),n.jsx(El,{value:"profile",className:"space-y-6",children:n.jsx(g0,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(fa,{control:f.control,name:"email",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Email Address"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(hB,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ke,{type:"email",placeholder:"Enter your email",className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",...m})]})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:f.control,name:"full_name",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Full Name"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(yl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ke,{placeholder:"Enter your full name",className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",...m})]})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:f.control,name:"phone",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(xB,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ke,{placeholder:"Enter your phone number",className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",...m})]})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:f.control,name:"department",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Department"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Fv,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ke,{placeholder:"Enter your department",className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",...m})]})}),n.jsx(qs,{})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ue,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 h-12",disabled:t.isPending,children:t.isPending?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Update Profile"})})]})})}),n.jsxs(El,{value:"security",className:"space-y-6",children:[n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fB,{className:"w-5 h-5 text-yellow-600 mr-2"}),n.jsx("p",{className:"text-sm text-yellow-800",children:"For security purposes, you'll need to enter your current password to change it."})]})}),n.jsx(g0,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-4",children:[n.jsx(fa,{control:h.control,name:"currentPassword",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Current Password"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:i?"text":"password",placeholder:"Enter your current password",className:"h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 pr-10",...m}),n.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),children:i?n.jsx(fm,{className:"h-4 w-4 text-gray-400"}):n.jsx(on,{className:"h-4 w-4 text-gray-400"})})]})}),n.jsx(qs,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(fa,{control:h.control,name:"newPassword",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"New Password"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:l?"text":"password",placeholder:"Enter new password",className:"h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 pr-10",...m}),n.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 py-2 hover:bg-transparent",onClick:()=>c(!l),children:l?n.jsx(fm,{className:"h-4 w-4 text-gray-400"}):n.jsx(on,{className:"h-4 w-4 text-gray-400"})})]})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:h.control,name:"confirmPassword",render:({field:m})=>n.jsxs(Vs,{children:[n.jsx($s,{className:"text-sm font-medium",children:"Confirm New Password"}),n.jsx(zs,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:d?"text":"password",placeholder:"Confirm new password",className:"h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 pr-10",...m}),n.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 py-2 hover:bg-transparent",onClick:()=>u(!d),children:d?n.jsx(fm,{className:"h-4 w-4 text-gray-400"}):n.jsx(on,{className:"h-4 w-4 text-gray-400"})})]})}),n.jsx(qs,{})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ue,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12",disabled:r.isPending,children:r.isPending?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Changing..."]}):"Change Password"})})]})})]})]})})]})]})}):null}function qH(){return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your e-commerce operations"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),n.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[n.jsx(eB,{size:20}),n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Welcome to PO Manager"})}),n.jsxs(be,{children:[n.jsx("p",{className:"text-gray-600",children:"Your e-commerce purchase order management system is ready. Use the sidebar to navigate to different modules."}),n.jsx("div",{className:"mt-4",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Currently available: Platform PO module for creating and managing purchase orders."})})]})]})})})]})}function ry(e,[t,r]){return Math.min(r,Math.max(t,e))}function WH(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var HH=[" ","Enter","ArrowUp","ArrowDown"],KH=[" ","Enter"],rh="Select",[Hp,Kp,GH]=dp(rh),[Od,bie]=Xn(rh,[GH,Lo]),Gp=Lo(),[QH,Bo]=Od(rh),[YH,XH]=Od(rh),mF=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:y}=e,m=Gp(t),[g,w]=x.useState(null),[v,_]=x.useState(null),[N,T]=x.useState(!1),S=Yf(d),[b=!1,I]=No({prop:s,defaultProp:a,onChange:i}),[D,C]=No({prop:o,defaultProp:l,onChange:c}),R=x.useRef(null),k=g?y||!!g.closest("form"):!0,[L,ie]=x.useState(new Set),fe=Array.from(L).map(se=>se.props.value).join(";");return n.jsx(R1,{...m,children:n.jsxs(QH,{required:p,scope:t,trigger:g,onTriggerChange:w,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:yn(),value:D,onValueChange:C,open:b,onOpenChange:I,dir:S,triggerPointerDownPosRef:R,disabled:h,children:[n.jsx(Hp.Provider,{scope:t,children:n.jsx(YH,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(se=>{ie(ce=>new Set(ce).add(se))},[]),onNativeOptionRemove:x.useCallback(se=>{ie(ce=>{const q=new Set(ce);return q.delete(se),q})},[]),children:r})}),k?n.jsxs(BF,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:D,onChange:se=>C(se.target.value),disabled:h,form:y,children:[D===void 0?n.jsx("option",{value:""}):null,Array.from(L)]},fe):null]})})};mF.displayName=rh;var pF="SelectTrigger",xF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Gp(r),o=Bo(pF,r),l=o.disabled||s,c=Et(t,o.onTriggerChange),d=Kp(r),u=x.useRef("touch"),[f,h,p]=UF(m=>{const g=d().filter(_=>!_.disabled),w=g.find(_=>_.value===o.value),v=VF(g,m,w);v!==void 0&&o.onValueChange(v.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return n.jsx(qf,{asChild:!0,...i,children:n.jsx(ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":LF(o.value)?"":void 0,...a,ref:c,onClick:Ue(a.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:Ue(a.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ue(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&HH.includes(m.key)&&(y(),m.preventDefault())})})})});xF.displayName=pF;var gF="SelectValue",vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Bo(gF,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Et(t,c.onValueNodeChange);return qr(()=>{d(u)},[d,u]),n.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:LF(c.value)?n.jsx(n.Fragment,{children:o}):i})});vF.displayName=gF;var ZH="SelectIcon",yF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ct.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});yF.displayName=ZH;var JH="SelectPortal",_F=e=>n.jsx(jd,{asChild:!0,...e});_F.displayName=JH;var Tl="SelectContent",wF=x.forwardRef((e,t)=>{const r=Bo(Tl,e.__scopeSelect),[s,a]=x.useState();if(qr(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Il.createPortal(n.jsx(NF,{scope:e.__scopeSelect,children:n.jsx(Hp.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(bF,{...e,ref:t})});wF.displayName=Tl;var la=10,[NF,Uo]=Od(Tl),eK="SelectContentImpl",tK=wo("SelectContent.RemoveScroll"),bF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...w}=e,v=Bo(Tl,r),[_,N]=x.useState(null),[T,S]=x.useState(null),b=Et(t,J=>N(J)),[I,D]=x.useState(null),[C,R]=x.useState(null),k=Kp(r),[L,ie]=x.useState(!1),fe=x.useRef(!1);x.useEffect(()=>{if(_)return Sp(_)},[_]),bp();const se=x.useCallback(J=>{const[_e,...le]=k().map(Ye=>Ye.ref.current),[pe]=le.slice(-1),He=document.activeElement;for(const Ye of J)if(Ye===He||(Ye==null||Ye.scrollIntoView({block:"nearest"}),Ye===_e&&T&&(T.scrollTop=0),Ye===pe&&T&&(T.scrollTop=T.scrollHeight),Ye==null||Ye.focus(),document.activeElement!==He))return},[k,T]),ce=x.useCallback(()=>se([I,_]),[se,I,_]);x.useEffect(()=>{L&&ce()},[L,ce]);const{onOpenChange:q,triggerPointerDownPosRef:oe}=v;x.useEffect(()=>{if(_){let J={x:0,y:0};const _e=pe=>{var He,Ye;J={x:Math.abs(Math.round(pe.pageX)-(((He=oe.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Ye=oe.current)==null?void 0:Ye.y)??0))}},le=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():_.contains(pe.target)||q(!1),document.removeEventListener("pointermove",_e),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",le,{capture:!0})}}},[_,q,oe]),x.useEffect(()=>{const J=()=>q(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[q]);const[ee,we]=UF(J=>{const _e=k().filter(He=>!He.disabled),le=_e.find(He=>He.ref.current===document.activeElement),pe=VF(_e,J,le);pe&&setTimeout(()=>pe.ref.current.focus())}),P=x.useCallback((J,_e,le)=>{const pe=!fe.current&&!le;(v.value!==void 0&&v.value===_e||pe)&&(D(J),pe&&(fe.current=!0))},[v.value]),F=x.useCallback(()=>_==null?void 0:_.focus(),[_]),U=x.useCallback((J,_e,le)=>{const pe=!fe.current&&!le;(v.value!==void 0&&v.value===_e||pe)&&R(J)},[v.value]),j=s==="popper"?ny:jF,M=j===ny?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return n.jsx(NF,{scope:r,content:_,viewport:T,onViewportChange:S,itemRefCallback:P,selectedItem:I,onItemLeave:F,itemTextRefCallback:U,focusSelectedItem:ce,selectedItemText:C,position:s,isPositioned:L,searchRef:ee,children:n.jsx(Kf,{as:tK,allowPinchZoom:!0,children:n.jsx(Hf,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ue(a,J=>{var _e;(_e=v.trigger)==null||_e.focus({preventScroll:!0}),J.preventDefault()}),children:n.jsx(Rl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(j,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...w,...M,onPlaced:()=>ie(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ue(w.onKeyDown,J=>{const _e=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!_e&&J.key.length===1&&we(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=k().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const He=J.target,Ye=pe.indexOf(He);pe=pe.slice(Ye+1)}setTimeout(()=>se(pe)),J.preventDefault()}})})})})})})});bF.displayName=eK;var rK="SelectItemAlignedPosition",jF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Bo(Tl,r),o=Uo(Tl,r),[l,c]=x.useState(null),[d,u]=x.useState(null),f=Et(t,b=>u(b)),h=Kp(r),p=x.useRef(!1),y=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:w,focusSelectedItem:v}=o,_=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&m&&g&&w){const b=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),C=w.getBoundingClientRect();if(i.dir!=="rtl"){const He=C.left-I.left,Ye=D.left-He,Pt=b.left-Ye,pt=b.width+Pt,rr=Math.max(pt,I.width),mt=window.innerWidth-la,We=ry(Ye,[la,Math.max(la,mt-rr)]);l.style.minWidth=pt+"px",l.style.left=We+"px"}else{const He=I.right-C.right,Ye=window.innerWidth-D.right-He,Pt=window.innerWidth-b.right-Ye,pt=b.width+Pt,rr=Math.max(pt,I.width),mt=window.innerWidth-la,We=ry(Ye,[la,Math.max(la,mt-rr)]);l.style.minWidth=pt+"px",l.style.right=We+"px"}const R=h(),k=window.innerHeight-la*2,L=m.scrollHeight,ie=window.getComputedStyle(d),fe=parseInt(ie.borderTopWidth,10),se=parseInt(ie.paddingTop,10),ce=parseInt(ie.borderBottomWidth,10),q=parseInt(ie.paddingBottom,10),oe=fe+se+L+q+ce,ee=Math.min(g.offsetHeight*5,oe),we=window.getComputedStyle(m),P=parseInt(we.paddingTop,10),F=parseInt(we.paddingBottom,10),U=b.top+b.height/2-la,j=k-U,M=g.offsetHeight/2,J=g.offsetTop+M,_e=fe+se+J,le=oe-_e;if(_e<=U){const He=R.length>0&&g===R[R.length-1].ref.current;l.style.bottom="0px";const Ye=d.clientHeight-m.offsetTop-m.offsetHeight,Pt=Math.max(j,M+(He?F:0)+Ye+ce),pt=_e+Pt;l.style.height=pt+"px"}else{const He=R.length>0&&g===R[0].ref.current;l.style.top="0px";const Pt=Math.max(U,fe+m.offsetTop+(He?P:0)+M)+le;l.style.height=Pt+"px",m.scrollTop=_e-U+m.offsetTop}l.style.margin=`${la}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,m,g,w,i.dir,s]);qr(()=>_(),[_]);const[N,T]=x.useState();qr(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const S=x.useCallback(b=>{b&&y.current===!0&&(_(),v==null||v(),y.current=!1)},[_,v]);return n.jsx(sK,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(ct.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});jF.displayName=rK;var nK="SelectPopperPosition",ny=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=la,...i}=e,o=Gp(r);return n.jsx(yp,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ny.displayName=nK;var[sK,f_]=Od(Tl,{}),sy="SelectViewport",SF=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Uo(sy,r),o=f_(sy,r),l=Et(t,i.onViewportChange),c=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Hp.Slot,{scope:r,children:n.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ue(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-la*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),w=Math.max(m,g);if(w<y){const v=w+p,_=Math.min(y,v),N=v-_;f.style.height=_+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});SF.displayName=sy;var EF="SelectGroup",[aK,iK]=Od(EF),oK=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=yn();return n.jsx(aK,{scope:r,id:a,children:n.jsx(ct.div,{role:"group","aria-labelledby":a,...s,ref:t})})});oK.displayName=EF;var TF="SelectLabel",CF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=iK(TF,r);return n.jsx(ct.div,{id:a.id,...s,ref:t})});CF.displayName=TF;var v0="SelectItem",[lK,kF]=Od(v0),AF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Bo(v0,r),c=Uo(v0,r),d=l.value===s,[u,f]=x.useState(i??""),[h,p]=x.useState(!1),y=Et(t,v=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,v,s,a)}),m=yn(),g=x.useRef("touch"),w=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(lK,{scope:r,value:s,disabled:a,textId:m,isSelected:d,onItemTextChange:x.useCallback(v=>{f(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(Hp.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ct.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ue(o.onFocus,()=>p(!0)),onBlur:Ue(o.onBlur,()=>p(!1)),onClick:Ue(o.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:Ue(o.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:Ue(o.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:Ue(o.onPointerMove,v=>{var _;g.current=v.pointerType,a?(_=c.onItemLeave)==null||_.call(c):g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Ue(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(KH.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});AF.displayName=v0;var hu="SelectItemText",PF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Bo(hu,r),l=Uo(hu,r),c=kF(hu,r),d=XH(hu,r),[u,f]=x.useState(null),h=Et(t,w=>f(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=x.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=d;return qr(()=>(m(y),()=>g(y)),[m,g,y]),n.jsxs(n.Fragment,{children:[n.jsx(ct.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Il.createPortal(i.children,o.valueNode):null]})});PF.displayName=hu;var DF="SelectItemIndicator",OF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return kF(DF,r).isSelected?n.jsx(ct.span,{"aria-hidden":!0,...s,ref:t}):null});OF.displayName=DF;var ay="SelectScrollUpButton",FF=x.forwardRef((e,t)=>{const r=Uo(ay,e.__scopeSelect),s=f_(ay,e.__scopeSelect),[a,i]=x.useState(!1),o=Et(t,s.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(RF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FF.displayName=ay;var iy="SelectScrollDownButton",IF=x.forwardRef((e,t)=>{const r=Uo(iy,e.__scopeSelect),s=f_(iy,e.__scopeSelect),[a,i]=x.useState(!1),o=Et(t,s.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(RF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});IF.displayName=iy;var RF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Uo("SelectScrollButton",r),o=x.useRef(null),l=Kp(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),qr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ct.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ue(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ue(a.onPointerLeave,()=>{c()})})}),cK="SelectSeparator",MF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ct.div,{"aria-hidden":!0,...s,ref:t})});MF.displayName=cK;var oy="SelectArrow",dK=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Gp(r),i=Bo(oy,r),o=Uo(oy,r);return i.open&&o.position==="popper"?n.jsx(_p,{...a,...s,ref:t}):null});dK.displayName=oy;function LF(e){return e===""||e===void 0}var BF=x.forwardRef((e,t)=>{const{value:r,...s}=e,a=x.useRef(null),i=Et(t,a),o=WH(r);return x.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Vf,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});BF.displayName="BubbleSelect";function UF(e){const t=hr(e),r=x.useRef(""),s=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function VF(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=uK(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function uK(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var fK=mF,$F=xF,hK=vF,mK=yF,pK=_F,zF=wF,xK=SF,qF=CF,WF=AF,gK=PF,vK=OF,HF=FF,KF=IF,GF=MF;const Ur=fK,Vr=hK,Or=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs($F,{ref:s,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(mK,{asChild:!0,children:n.jsx(Ci,{className:"h-4 w-4 opacity-50"})})]}));Or.displayName=$F.displayName;const QF=x.forwardRef(({className:e,...t},r)=>n.jsx(HF,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(sB,{className:"h-4 w-4"})}));QF.displayName=HF.displayName;const YF=x.forwardRef(({className:e,...t},r)=>n.jsx(KF,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ci,{className:"h-4 w-4"})}));YF.displayName=KF.displayName;const Fr=x.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(pK,{children:n.jsxs(zF,{ref:a,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(QF,{}),n.jsx(xK,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(YF,{})]})}));Fr.displayName=zF.displayName;const yK=x.forwardRef(({className:e,...t},r)=>n.jsx(qF,{ref:r,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yK.displayName=qF.displayName;const ft=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(WF,{ref:s,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(vK,{children:n.jsx(ad,{className:"h-4 w-4"})})}),n.jsx(gK,{children:t})]}));ft.displayName=WF.displayName;const _K=x.forwardRef(({className:e,...t},r)=>n.jsx(GF,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));_K.displayName=GF.displayName;const Ac=x.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ac.displayName="Textarea";function XF(e,t){const[r,s]=x.useState(e);return x.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function ZF({value:e,onChange:t,placeholder:r="Type item name or code to search...",className:s}){const[a,i]=x.useState(!1),[o,l]=x.useState(e),[c,d]=x.useState(""),[u,f]=x.useState(-1),[h,p]=x.useState(!1),y=x.useRef(null),m=x.useRef([]),g=XF(c,300),{data:w,isLoading:v,error:_,refetch:N}=Dt({queryKey:["pf-items",g],queryFn:async()=>{if(!g||g.length<2)return[];try{const R=new AbortController,k=setTimeout(()=>R.abort(),1e4),L=await fetch(`/api/pf-items?search=${encodeURIComponent(g)}`,{credentials:"include",signal:R.signal});if(clearTimeout(k),!L.ok)throw L.status===429?new Error("Too many requests. Please wait a moment."):new Error(`Search failed (${L.status}): ${L.statusText}`);const ie=await L.json();return Array.isArray(ie)?ie:[]}catch(R){throw R.name==="AbortError"?new Error("Search timed out. Please try again."):R}},enabled:g.length>=2&&!h&&a,staleTime:3*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:(R,k)=>R<2&&!k.message.includes("4"),retryDelay:R=>Math.min(1e3*2**R,3e3)}),T=Array.isArray(w)?w:[],S=R=>{if(!R)return R;const k=R.match(/^([A-Z]+)(\d+)$/);if(k){const L=k[1],fe=parseInt(k[2]).toString().slice(-6).padStart(6,"0");return`${L}${fe}`}return R},b=(R,k)=>{if(!k||k.length<2)return R;const L=k.toLowerCase().split(/\s+/);let ie=R;return L.forEach(fe=>{if(fe.length>1){const se=new RegExp(`(${fe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");ie=ie.replace(se,'<mark class="bg-yellow-200 text-yellow-900 px-0.5 rounded">$1</mark>')}}),ie};x.useEffect(()=>{l(e)},[e]);const I=async R=>{p(!0),l(R.ItemName),f(-1),i(!1),t(R.ItemName,R),p(!1)},D=R=>{l(R),d(R),f(-1),i(R.length>=1),t(R)},C=R=>{if(a)switch(R.key){case"ArrowDown":R.preventDefault(),f(k=>k<T.length-1?k+1:k);break;case"ArrowUp":R.preventDefault(),f(k=>k>0?k-1:-1);break;case"Enter":R.preventDefault(),u>=0&&u<T.length&&I(T[u]);break;case"Escape":R.preventDefault(),i(!1),f(-1);break}};return n.jsxs("div",{className:"relative",children:[n.jsx(ke,{ref:y,value:o,onChange:R=>D(R.target.value),placeholder:r,className:Te("pr-10",s),onFocus:()=>i(o.length>=1),onKeyDown:C,autoComplete:"off",spellCheck:"false"}),n.jsx("div",{className:"absolute right-0 top-0 h-full flex items-center pr-3",children:h||v?n.jsx($n,{className:"h-4 w-4 text-blue-500 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 text-gray-400"})}),a&&n.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[n.jsx("div",{className:"p-3 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:v?"Searching platform items...":_?"Search error":T.length>0?`${T.length} platform item${T.length===1?"":"s"} found`:c.length>=2?"No items found":"Start typing to search items"}),c.length>=2&&n.jsx("span",{className:"text-xs text-gray-400",children:c.length<2?"Min 2 chars":" navigate,  select"})]})}),v&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx($n,{className:"h-5 w-5 animate-spin text-blue-500 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Searching platform items..."})]}),_&&n.jsx("div",{className:"p-6 text-center",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx(Qr,{className:"h-5 w-5 text-red-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-red-800",children:"Search Error"})]}),n.jsx("p",{className:"text-sm text-red-700 mb-3",children:_.message||"Failed to search platform items. Please try again."}),n.jsx("button",{onClick:()=>N(),className:"text-sm bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 transition-colors duration-200",children:"Try Again"})]})}),!v&&!_&&T.length===0&&c.length>=2&&n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(vn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("div",{className:"text-sm font-medium",children:"No items found"}),n.jsx("div",{className:"text-xs mt-1",children:"Try different search terms"})]}),T.length>0&&n.jsx("div",{className:"py-2",children:T.map((R,k)=>{const L=k===u,ie=o===R.ItemName;return n.jsx("div",{ref:fe=>{fe&&(m.current[k]=fe)},className:Te("px-4 py-3 cursor-pointer border-l-2 transition-all duration-150",L?"bg-blue-50 border-l-blue-500 text-blue-900":ie?"bg-green-50 border-l-green-500 text-green-900":"border-l-transparent hover:bg-gray-50"),onClick:()=>I(R),onMouseEnter:()=>f(k),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:Te("font-medium truncate",L?"text-blue-700":"text-gray-900"),dangerouslySetInnerHTML:{__html:b(R.ItemName,g)}}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:n.jsxs("div",{children:["Code: ",b(R.ItemCode,g)," | SAP: ",S(R.sap_id)]})})]}),n.jsxs("div",{className:"flex items-center ml-2",children:[ie&&n.jsx(ad,{className:"h-4 w-4 text-green-600"}),L&&!ie&&n.jsx(Ci,{className:"h-4 w-4 text-blue-600 rotate-[-90deg]"})]})]})},`item-${k}`)})}),T.length>0&&n.jsx("div",{className:"p-2 border-t border-gray-100 bg-gray-50 text-xs text-gray-500 text-center",children:"Use arrow keys to navigate  Enter to select  Esc to close"})]})]})}var JF="AlertDialog",[wK,jie]=Xn(JF,[GA]),Ri=GA(),eI=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ri(t);return n.jsx($1,{...s,...r,modal:!0})};eI.displayName=JF;var NK="AlertDialogTrigger",bK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ri(r);return n.jsx(dP,{...a,...s,ref:t})});bK.displayName=NK;var jK="AlertDialogPortal",tI=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ri(t);return n.jsx(Ep,{...s,...r})};tI.displayName=jK;var SK="AlertDialogOverlay",rI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ri(r);return n.jsx(Ad,{...a,...s,ref:t})});rI.displayName=SK;var Pc="AlertDialogContent",[EK,TK]=wK(Pc),CK=Nk("AlertDialogContent"),nI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Ri(r),o=x.useRef(null),l=Et(t,o),c=x.useRef(null);return n.jsx(TV,{contentName:Pc,titleName:sI,docsSlug:"alert-dialog",children:n.jsx(EK,{scope:r,cancelRef:c,children:n.jsxs(Pd,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ue(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(CK,{children:s}),n.jsx(AK,{contentRef:o})]})})})});nI.displayName=Pc;var sI="AlertDialogTitle",aI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ri(r);return n.jsx(Gf,{...a,...s,ref:t})});aI.displayName=sI;var iI="AlertDialogDescription",oI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ri(r);return n.jsx(Qf,{...a,...s,ref:t})});oI.displayName=iI;var kK="AlertDialogAction",lI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ri(r);return n.jsx(Tp,{...a,...s,ref:t})});lI.displayName=kK;var cI="AlertDialogCancel",dI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=TK(cI,r),i=Ri(r),o=Et(t,a);return n.jsx(Tp,{...i,...s,ref:o})});dI.displayName=cI;var AK=({contentRef:e})=>{const t=`\`${Pc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pc}\` by passing a \`${iI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},PK=eI,DK=tI,uI=rI,fI=nI,hI=lI,mI=dI,pI=aI,xI=oI;const ly=PK,OK=DK,gI=x.forwardRef(({className:e,...t},r)=>n.jsx(uI,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));gI.displayName=uI.displayName;const y0=x.forwardRef(({className:e,...t},r)=>n.jsxs(OK,{children:[n.jsx(gI,{}),n.jsx(fI,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));y0.displayName=fI.displayName;const _0=({className:e,...t})=>n.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});_0.displayName="AlertDialogHeader";const w0=({className:e,...t})=>n.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});w0.displayName="AlertDialogFooter";const N0=x.forwardRef(({className:e,...t},r)=>n.jsx(pI,{ref:r,className:Te("text-lg font-semibold",e),...t}));N0.displayName=pI.displayName;const b0=x.forwardRef(({className:e,...t},r)=>n.jsx(xI,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));b0.displayName=xI.displayName;const j0=x.forwardRef(({className:e,...t},r)=>n.jsx(hI,{ref:r,className:Te(nf(),e),...t}));j0.displayName=hI.displayName;const S0=x.forwardRef(({className:e,...t},r)=>n.jsx(mI,{ref:r,className:Te(nf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));S0.displayName=mI.displayName;var h_="Progress",m_=100,[FK,Sie]=Xn(h_),[IK,RK]=FK(h_),vI=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=MK,...o}=e;(a||a===0)&&!Tb(a)&&console.error(LK(`${a}`,"Progress"));const l=Tb(a)?a:m_;s!==null&&!Cb(s,l)&&console.error(BK(`${s}`,"Progress"));const c=Cb(s,l)?s:null,d=E0(c)?i(c,l):void 0;return n.jsx(IK,{scope:r,value:c,max:l,children:n.jsx(ct.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":E0(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":wI(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});vI.displayName=h_;var yI="ProgressIndicator",_I=x.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=RK(yI,r);return n.jsx(ct.div,{"data-state":wI(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});_I.displayName=yI;function MK(e,t){return`${Math.round(e/t*100)}%`}function wI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function E0(e){return typeof e=="number"}function Tb(e){return E0(e)&&!isNaN(e)&&e>0}function Cb(e,t){return E0(e)&&!isNaN(e)&&e<=t&&e>=0}function LK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${m_}\`.`}function BK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${m_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NI=vI,UK=_I;const bI=x.forwardRef(({className:e,value:t,...r},s)=>n.jsx(NI,{ref:s,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(UK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));bI.displayName=NI.displayName;const VK=Qe.object({company:Qe.enum(["JIVO MART","JIVO WELLNESS"],{errorMap:()=>({message:"Please select a company"})}),platform:Qe.string().min(1,"Platform selection is required"),vendor_po_no:Qe.string().min(3,"PO number must be at least 3 characters").max(50,"PO number cannot exceed 50 characters").regex(/^[A-Z0-9\-_]+$/i,"PO number can only contain letters, numbers, hyphens, and underscores").refine(e=>!/\.(csv|xlsx|xls|txt|pdf)$|^(test|demo|sample|temp)[\w_]*$/i.test(e),"PO number should not look like a filename. Use professional format like 'PO-YYYYMMDD-XXXX'"),distributor:Qe.string().optional(),dispatch_from:Qe.string().optional(),area:Qe.string().optional(),region:Qe.string().min(1,"Region selection is required"),state:Qe.string().min(1,"State selection is required"),city:Qe.string().min(1,"City selection is required"),po_date:Qe.string().min(1,"PO date is required").refine(e=>{const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t>=r},"PO date cannot be in the past"),expiry_date:Qe.string().min(1,"Expiry date is required"),appointment_date:Qe.string().optional(),comments:Qe.string().max(1e3,"Comments cannot exceed 1000 characters").optional(),attachment:Qe.any().optional()}).superRefine((e,t)=>{if(e.expiry_date&&e.po_date){const r=new Date(e.expiry_date),s=new Date(e.po_date);r<s&&t.addIssue({code:"custom",message:"Expiry date must be on or after PO date",path:["expiry_date"]})}if(e.appointment_date&&e.po_date){const r=new Date(e.appointment_date),s=new Date(e.po_date);r<s&&t.addIssue({code:"custom",message:"Appointment date cannot be before PO date",path:["appointment_date"]})}});function jI({onSuccess:e,editMode:t=!1,editPoId:r}={}){var Xe;const[s,a]=x.useState("JIVO MART");x.useEffect(()=>{const K=G=>{console.error(" Uncaught error in ModernPOForm:",G.error)},de=G=>{console.error(" Unhandled promise rejection in ModernPOForm:",G.reason)};return window.addEventListener("error",K),window.addEventListener("unhandledrejection",de),()=>{window.removeEventListener("error",K),window.removeEventListener("unhandledrejection",de)}},[]);const[i,o]=x.useState([]),[l,c]=x.useState(null),[d,u]=x.useState(""),[f,h]=x.useState({isSubmitting:!1,isResetting:!1,isInitialPopulation:!1}),[p,y]=x.useState(!1),[m,g]=x.useState(!1),[w,v]=x.useState(0),{toast:_}=Mr(),N=Wr(),T=x.useRef(null),S=cd({resolver:dd(VK),defaultValues:{company:"JIVO MART",po_date:new Date().toISOString().split("T")[0]},mode:"onChange"}),b=S.watch("platform"),{data:I=[]}=Dt({queryKey:["/api/platforms"]}),D=S.watch("region"),C=S.watch("state"),R=S.watch("distributor"),{data:k=[]}=Dt({queryKey:["/api/regions"],staleTime:5*60*1e3}),L=x.useMemo(()=>{var K;return(K=k.find(de=>de.region_name===D))==null?void 0:K.id},[k,D]),{data:ie=[]}=Dt({queryKey:[`/api/states/by-region/${L||0}`],enabled:!!L,staleTime:5*60*1e3}),{data:fe=[],isLoading:se,error:ce,isSuccess:q}=Dt({queryKey:["/api/states"],staleTime:0,refetchOnMount:!0}),oe=x.useMemo(()=>{var de,G;const K=(de=ie.find(Ae=>Ae.state_name===C))==null?void 0:de.id;return K||(fe&&Array.isArray(fe)?(G=fe.find(Ae=>Ae&&Ae.statename===C))==null?void 0:G.id:void 0)},[ie,C,fe]),{data:ee=[]}=Dt({queryKey:[`/api/districts/by-state/${oe||0}`],enabled:!!oe,staleTime:5*60*1e3});console.log("States React Query status:",{data:fe,length:fe.length,isLoading:se,error:ce,isSuccess:q}),q&&fe.length>0?console.log(" States loaded successfully:",fe.map(K=>K.statename).join(", ")):se?console.log(" Loading states..."):ce?console.log(" Error loading states:",ce):console.log(" States array is empty but no error or loading state");const{data:we=[]}=Dt({queryKey:[`/api/districts/${oe||0}`],enabled:!0,staleTime:oe?0:1/0,refetchOnWindowFocus:!1}),{data:P=[]}=Dt({queryKey:["/api/distributors"]}),{data:F=[]}=Dt({queryKey:["/api/dispatch-locations"]}),{data:U=[]}=Dt({queryKey:["/api/status-items"]}),{data:j,isLoading:M,error:J,refetch:_e}=Dt({queryKey:[`/api/pos/${r||"new"}`],enabled:!!(t&&r&&!isNaN(parseInt(String(r)))),retry:2,retryDelay:K=>Math.min(1e3*2**K,3e3),refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:0,gcTime:0});wt.useEffect(()=>{var K;t&&r&&console.log(" Edit mode activated:",{editMode:t,editPoId:r,isLoading:M,hasError:!!J,hasData:!!j,errorMessage:J==null?void 0:J.message,dataKeys:j?Object.keys(j):null}),J&&console.error(" Failed to fetch PO for editing:",{error:J,message:J==null?void 0:J.message,stack:J==null?void 0:J.stack,editPoId:r,queryKey:`/api/pos/${r||"new"}`}),j&&t&&console.log(" Edit data loaded successfully:",{poId:j.id,poNumber:j.po_number||j.vendor_po_number,platform:j.platform,orderItemsCount:((K=j.orderItems)==null?void 0:K.length)||0,keys:Object.keys(j)})},[J,j,t,r,M]);const le=x.useMemo(()=>{var K,de,G;try{if(!t||!r||!j)return null;const Ae=j;return console.log(" EditPO data received:",Ae),console.log(" EditPO keys:",Object.keys(Ae)),console.log(" City value from API:",Ae.city),console.log(" State value from API:",Ae.state),console.log(" Order items from API (order_items):",Ae.order_items),console.log(" Order items from API (orderItems):",Ae.orderItems),console.log(" Order items array check:",Array.isArray(Ae.orderItems),"Length:",(K=Ae.orderItems)==null?void 0:K.length),Ae.order_items&&Ae.order_items.length>0&&console.log(" First item from order_items:",Ae.order_items[0]),Ae.orderItems&&Ae.orderItems.length>0?console.log(" First item from orderItems:",Ae.orderItems[0]):console.log(" No order items found in editPO.orderItems"),{formData:{company:Ae.company||"JIVO MART",platform:((G=(de=Ae.platform)==null?void 0:de.id)==null?void 0:G.toString())||"",vendor_po_no:Ae.po_number||"",distributor:Ae.serving_distributor||"",dispatch_from:Ae.dispatch_from||"",area:Ae.area||"",region:Ae.region||"",state:Ae.state&&Ae.state.trim()!==""?Ae.state:"",city:Ae.city&&Ae.city.trim()!==""?Ae.city:"",po_date:Ae.order_date?new Date(Ae.order_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiry_date:Ae.expiry_date?new Date(Ae.expiry_date).toISOString().split("T")[0]:"",appointment_date:Ae.appointment_date?new Date(Ae.appointment_date).toISOString().split("T")[0]:"",comments:Ae.comments||""},lineItems:Ae.orderItems&&Ae.orderItems.length>0?Ae.orderItems.map((ye,gt)=>({tempId:`existing-${gt}`,item_name:ye.item_name||"",platform_code:typeof ye.platform_code=="number"||!isNaN(Number(ye.platform_code))?"":ye.platform_code||"",sap_code:typeof ye.sap_code=="number"||!isNaN(Number(ye.sap_code))?"":ye.sap_code||"",uom:ye.uom||"PCS",quantity:ye.quantity||1,basic_amount:parseFloat(ye.basic_rate||"0"),tax_percent:(()=>{let at=0;return ye.tax_percent!==void 0&&ye.tax_percent!==null?(at=parseFloat(ye.tax_percent.toString()),console.log(" Edit Mode - Using corrected tax_percent from API:",at+"% for item",ye.item_name)):ye.gst_rate&&(at=parseFloat(ye.gst_rate),console.log(" Edit Mode - Fallback to gst_rate:",at+"% for item",ye.item_name)),at})(),landing_amount:parseFloat(ye.landing_rate||"0"),total_amount:parseFloat(ye.landing_rate||"0")*(ye.quantity||1),boxes:ye.boxes||null,unit_size_ltrs:ye.unit_size_ltrs||null,loose_qty:ye.loose_qty||null,total_ltrs:ye.total_ltrs||null,invoice_date:ye.invoice_date||"",invoice_litre:parseFloat(ye.invoice_litre||"0"),invoice_amount:parseFloat(ye.invoice_amount||"0"),invoice_qty:parseFloat(ye.invoice_qty||"0"),dispatched_date:ye.dispatch_date||"",delivery_date:ye.delivery_date||"",hsn_code:ye.hsn_code||"",status:ye.status||"PENDING",isValid:!0,errors:[]})):[]}}catch(Ae){return console.error(" Error processing edit PO data:",Ae),null}},[t,j]);x.useEffect(()=>{try{if(le){console.log(" Resetting form with data:",le.formData),console.log(" City value being set:",le.formData.city),h(K=>({...K,isInitialPopulation:!0}));try{S.reset(le.formData)}catch(K){console.error(" Error resetting form:",K),_({title:"Form Reset Error",description:"There was an issue loading the form data. Please try refreshing the page.",variant:"destructive"});return}le.lineItems&&le.lineItems.length>0&&o(le.lineItems),setTimeout(()=>{try{le.formData.city&&S.setValue("city",le.formData.city),h(K=>({...K,isInitialPopulation:!1})),console.log(" City value after form reset:",S.getValues("city"))}catch(K){console.error(" Error setting city value:",K)}},500)}}catch(K){console.error(" Critical error in populated data useEffect:",K),_({title:"Data Loading Error",description:"Failed to load PO data for editing. Please refresh and try again.",variant:"destructive"})}},[le,S,_]),x.useEffect(()=>{try{if(t&&le&&le.lineItems&&le.lineItems.length>0){const K=setTimeout(()=>{try{Ye(le.lineItems)}catch(de){console.error(" Error auto-populating missing codes:",de)}},1e3);return()=>clearTimeout(K)}}catch(K){console.error(" Error in auto-populate effect:",K)}},[t,le]);const pe=x.useCallback(K=>{var G;const de=[];return(G=K.item_name)!=null&&G.trim()||de.push("Item name is required"),(!K.quantity||K.quantity<=0)&&de.push("Quantity must be greater than 0"),(!K.basic_amount||K.basic_amount<=0)&&de.push("Basic amount must be greater than 0"),(K.tax_percent<0||K.tax_percent>100)&&de.push("Tax percent must be between 0 and 100"),{isValid:de.length===0,errors:de}},[t]),He=x.useCallback((K=!1)=>{if(!K&&(S.formState.isDirty||i.length>0)){g(!0);return}h(de=>({...de,isResetting:!0})),setTimeout(()=>{S.reset({company:s,po_date:new Date().toISOString().split("T")[0]}),o([]),c(null),u(""),v(0),_({title:"Form Reset",description:"All fields have been cleared and reset to defaults",duration:2e3}),h(de=>({...de,isResetting:!1})),g(!1)},300)},[S,s,i.length,_]);x.useEffect(()=>{b&&d&&b!==d&&i.length>0&&(o([]),_({title:"Items Cleared",description:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qr,{className:"h-4 w-4 mr-1 text-yellow-600"}),"All items removed due to platform change"]}),duration:3e3})),b==="6"||String(b)==="6"?S.getValues("distributor")!=="RK WORLD"&&(S.setValue("distributor","RK WORLD",{shouldValidate:!0,shouldDirty:!0}),_({title:"Distributor Auto-Selected",description:"RK WORLD selected for Amazon orders",duration:3e3})):S.getValues("distributor")==="RK WORLD"&&d==="6"&&S.setValue("distributor",""),b&&u(b)},[b,S,_,i.length,d]);const Ye=async K=>{for(const de of K)if(de.item_name&&(!de.platform_code||!de.sap_code))try{const G=await fetch(`/api/pf-items?search=${encodeURIComponent(de.item_name)}`);if(G.ok){const Ae=await G.json(),ye=Ae&&Array.isArray(Ae)?Ae.find(gt=>{if(!gt||!gt.ItemName||!de.item_name||typeof gt.ItemName!="string"||typeof de.item_name!="string"||gt.ItemName.trim()===""||de.item_name.trim()==="")return!1;try{return gt.ItemName.toLowerCase()===de.item_name.toLowerCase()}catch(at){return console.error("Error in toLowerCase comparison:",at,{pfItem:gt.ItemName,itemName:de.item_name}),!1}}):void 0;if(ye){const gt={};de.platform_code||(gt.platform_code=ye.ItemCode||""),de.sap_code||(gt.sap_code=ye.actual_itemcode||ye.sap_id||"");let at=parseFloat(ye.taxrate||ye.u_tax_rate||"0");if(ye.ItemName&&typeof ye.ItemName=="string"&&ye.ItemName.trim()!=="")try{ye.ItemName.toLowerCase().includes("mustard")&&at<1?(at=5,console.log(" Fixed tax rate for mustard oil from",ye.taxrate,"to",at)):ye.ItemName.toLowerCase().includes("oil")&&at<1&&(at=5,console.log(" Fixed tax rate for oil product from",ye.taxrate,"to",at))}catch(et){console.error("Error in tax rate correction:",et,{ItemName:ye.ItemName})}gt.tax_percent=at,Nr(de.tempId,gt),console.log(" Auto-populated codes for:",de.item_name,gt)}}}catch(G){console.error("Failed to auto-populate codes for:",de.item_name,G)}},Pt=(K,de,G)=>{const Ae={item_name:de};if(G){console.log(" DEBUGGING pfItem data:",JSON.stringify(G,null,2)),Ae.platform_code=G.ItemCode||G.pf_itemcode||"",Ae.sap_code=G.actual_itemcode||G.sap_id||"",Ae.uom="PCS",Ae.unit_size_ltrs=1;let ye=parseFloat(G.taxrate||"0");if(G.ItemName&&typeof G.ItemName=="string"&&G.ItemName.trim()!=="")try{G.ItemName.toLowerCase().includes("mustard")&&ye<1?(ye=5,console.log(" Fixed tax rate for mustard oil from",G.taxrate,"to",ye)):G.ItemName.toLowerCase().includes("oil")&&ye<1&&(ye=5,console.log(" Fixed tax rate for oil product from",G.taxrate,"to",ye))}catch(gt){console.error("Error in tax rate correction:",gt,{ItemName:G.ItemName})}Ae.tax_percent=ye,Ae.boxes=1,Ae.basic_amount=0,console.log(" Item selected:",de),console.log(" Platform Code (ItemCode):",G.ItemCode),console.log(" Platform Code (pf_itemcode):",G.pf_itemcode),console.log(" SAP Code (actual_itemcode):",G.actual_itemcode),console.log(" SAP ID:",G.sap_id),console.log(" Tax Rate:",G.taxrate),console.log(" Final updates:",Ae)}Nr(K,Ae)},pt=zt({mutationFn:async K=>{const de=Date.now();if(f.lastSubmissionTime&&de-f.lastSubmissionTime<2e3)throw new Error("Please wait before submitting again");h(G=>({...G,isSubmitting:!0,lastSubmissionTime:de}));try{return t&&r?await kn("PUT",`/api/pos/${r}`,K):await kn("POST","/api/pos",K)}catch(G){throw h(Ae=>({...Ae,isSubmitting:!1})),G}},onSuccess:()=>{h(de=>({...de,isSubmitting:!1})),_({title:t?"Purchase Order Updated Successfully!":"Purchase Order Created Successfully!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Ks,{className:"h-4 w-4 mr-1"}),"PO has been ",t?"updated":"saved"," to the system"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[i.length," items  Total: ",br.grandTotal]})]}),duration:5e3});const K=[N.invalidateQueries({queryKey:["/api/pos"]}),N.invalidateQueries({queryKey:["/api/blinkit-pos"]}),N.invalidateQueries({queryKey:["/api/zepto-pos"]}),N.invalidateQueries({queryKey:["/api/city-mall-pos"]}),N.invalidateQueries({queryKey:["/api/flipkart-grocery-pos"]})];t&&r&&K.push(N.invalidateQueries({queryKey:[`/api/pos/${r}`]})),Promise.all(K).then(()=>{t||He(!0),e&&setTimeout(()=>{e()},1e3)})},onError:K=>{var G,Ae;h(ye=>({...ye,isSubmitting:!1}));const de=((Ae=(G=K==null?void 0:K.response)==null?void 0:G.data)==null?void 0:Ae.message)||(K==null?void 0:K.message)||"Failed to create purchase order";_({title:t?"Failed to Update Purchase Order":"Failed to Create Purchase Order",description:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-orange-600",children:[n.jsx(Qd,{className:"h-4 w-4 mr-1"}),de]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Please check your connection and try again. If the problem persists, contact support."})]}),variant:"destructive",duration:6e3})},retry:(K,de)=>K<2&&((de==null?void 0:de.code)==="NETWORK_ERROR"||(de==null?void 0:de.status)>=500),retryDelay:K=>Math.min(1e3*2**K,5e3)}),rr=()=>k.length>0?k.map(K=>K.region_name):["NORTH INDIA","SOUTH INDIA","WEST INDIA","EAST INDIA","CENTRAL INDIA"];x.useEffect(()=>{D&&!f.isInitialPopulation&&!t&&(S.setValue("state",""),S.setValue("city",""))},[D,S,f.isInitialPopulation,t]),x.useEffect(()=>{C&&!f.isInitialPopulation&&!t&&S.setValue("city","")},[C,S,f.isInitialPopulation,t]),x.useEffect(()=>{if(R&&R!=="none"){const K=S.getValues("dispatch_from");K&&K!=="none"&&S.setValue("dispatch_from","none")}},[R,S]);const mt=()=>{if(D&&ie.length>0){const de=ie.map(G=>G.state_name);return console.log("getAvailableStates (cascading):",de),de}const K=fe.map(de=>de.statename);return console.log("getAvailableStates (legacy):",K),K},We=()=>{if(ee.length>0){const de=ee.map(G=>G.district_name);return console.log("getAvailableCities (cascading):",de),de}const K=we.map(de=>de.district);return console.log("getAvailableCities (legacy):",K),K},nr=x.useCallback(()=>{if(!b){_({title:"Platform Required",description:"Please select a platform before adding items",variant:"destructive",duration:3e3});return}const K={tempId:`item_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,item_name:"",platform_code:"",sap_code:"",uom:"PCS",quantity:1,boxes:0,unit_size_ltrs:0,loose_qty:0,basic_amount:0,tax_percent:0,landing_amount:0,total_amount:0,total_ltrs:0,status:"PENDING",isValid:!1,errors:["Item name is required","Basic amount must be greater than 0"]};o(de=>{const G=[...de,K];return _({title:"Item Added",description:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xs,{className:"h-4 w-4 mr-1 text-green-600"}),"Item #",G.length," added to purchase order"]}),duration:2e3}),G})},[b,_]),cr=x.useCallback(K=>{o(de=>{const G=de.findIndex(ye=>ye.tempId===K);if(G===-1)return de;const Ae=de.filter(ye=>ye.tempId!==K);return _({title:"Item Removed",description:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vi,{className:"h-4 w-4 mr-1 text-orange-600"}),"Item #",G+1," removed from order"]}),duration:2e3}),Ae})},[_]),Nr=x.useCallback((K,de)=>{try{o(G=>G.map(Ae=>{if(Ae.tempId===K){const ye={...Ae,...de};if(("quantity"in de||"basic_amount"in de||"tax_percent"in de)&&!("status"in de)){const gt=Math.max(0,ye.basic_amount||0),at=Math.max(0,ye.quantity||0),et=ye.tax_percent||0,Cr=gt*(et/100);ye.landing_amount=gt+Cr,ye.total_amount=ye.landing_amount*at}if(("boxes"in de||"unit_size_ltrs"in de)&&!("status"in de)){const gt=Math.max(0,ye.boxes||0),at=Math.max(0,ye.unit_size_ltrs||0);ye.total_ltrs=gt*at}return ye.isValid=!0,ye.errors=[],ye}return Ae}))}catch(G){console.error("Error updating line item:",G)}},[]),br=x.useMemo(()=>{const K=i.reduce((Ae,ye)=>{const gt=ye.basic_amount||0,at=ye.quantity||0;return Ae+gt*at},0),de=i.reduce((Ae,ye)=>{const gt=ye.basic_amount||0,at=ye.quantity||0,et=ye.tax_percent||0,Cr=gt*(et/100);return Ae+Cr*at},0),G=K+de;return{totalBasic:K.toFixed(2),totalTax:de.toFixed(2),grandTotal:G.toFixed(2)}},[i]),te=K=>{var G;const de=(G=K.target.files)==null?void 0:G[0];de&&(c(de),_({title:"File attached",description:`${de.name} has been attached to the PO`}))},he=x.useCallback(K=>{const de=[];i.length===0&&de.push("Please add at least one item to the purchase order");const G=i&&Array.isArray(i)?i.filter(ye=>pe(ye).isValid):[];G.length===0&&i&&i.length>0&&de.push("Please complete at least one valid order item");const Ae=i&&Array.isArray(i)?i.filter(ye=>!pe(ye).isValid):[];return Ae.length>0&&de.push(`${Ae.length} item${Ae.length===1?"":"s"} ${Ae.length===1?"has":"have"} validation errors`),t&&i.forEach((ye,gt)=>{if(ye.status){const at=ye.status.toUpperCase(),et=`Item ${gt+1} (${ye.item_name})`;at==="INVOICED"?(ye.invoice_date||de.push(`${et}: Invoice date is required when status is INVOICED`),(!ye.invoice_qty||ye.invoice_qty<=0)&&de.push(`${et}: Invoice quantity is required when status is INVOICED`),(!ye.invoice_litre||ye.invoice_litre<=0)&&de.push(`${et}: Invoice litre is required when status is INVOICED`),(!ye.invoice_amount||ye.invoice_amount<=0)&&de.push(`${et}: Invoice amount is required when status is INVOICED`)):at==="DISPATCHED"?(ye.invoice_date||de.push(`${et}: Invoice date is required when status is DISPATCHED`),(!ye.invoice_qty||ye.invoice_qty<=0)&&de.push(`${et}: Invoice quantity is required when status is DISPATCHED`),(!ye.invoice_litre||ye.invoice_litre<=0)&&de.push(`${et}: Invoice litre is required when status is DISPATCHED`),(!ye.invoice_amount||ye.invoice_amount<=0)&&de.push(`${et}: Invoice amount is required when status is DISPATCHED`),ye.dispatched_date||de.push(`${et}: Dispatch date is required when status is DISPATCHED`)):at==="DELIVERED"&&(ye.invoice_date||de.push(`${et}: Invoice date is required when status is DELIVERED`),(!ye.invoice_qty||ye.invoice_qty<=0)&&de.push(`${et}: Invoice quantity is required when status is DELIVERED`),(!ye.invoice_litre||ye.invoice_litre<=0)&&de.push(`${et}: Invoice litre is required when status is DELIVERED`),(!ye.invoice_amount||ye.invoice_amount<=0)&&de.push(`${et}: Invoice amount is required when status is DELIVERED`),ye.dispatched_date||de.push(`${et}: Dispatch date is required when status is DELIVERED`),ye.delivery_date||de.push(`${et}: Delivery date is required when status is DELIVERED`))}}),{isValid:de.length===0,errors:de,validItems:G}},[i,pe,t]),je=x.useCallback(K=>{const de=he(K);if(!de.isValid){_({title:"Form Validation Failed",description:n.jsx("div",{className:"space-y-1",children:de.errors.map((G,Ae)=>n.jsxs("div",{className:"flex items-center text-orange-600",children:[n.jsx(Qd,{className:"h-3 w-3 mr-1 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:G})]},Ae))}),variant:"destructive",duration:6e3});return}y(!0)},[he,_]),Ke=x.useCallback(K=>{const de=he(K);if(!de.isValid)return;const G=new FormData;l&&G.append("attachment",l);const Ae=fe&&Array.isArray(fe)?fe.find(et=>et&&et.statename===K.state):void 0,ye=we&&Array.isArray(we)?we.find(et=>et&&et.district===K.city):void 0;console.log(" Debug PO submission:"),console.log("Selected state:",K.state),console.log("Found state record:",Ae),console.log("Selected city:",K.city),console.log("Found district record:",ye),console.log("Available states:",fe.length),console.log("Available districts:",we.length);const gt={po_number:K.vendor_po_no,company:s,platform_id:parseInt(K.platform),serving_distributor:K.distributor==="none"?void 0:K.distributor,dispatch_from:K.dispatch_from==="none"?void 0:K.dispatch_from,po_date:K.po_date,expiry_date:K.expiry_date||void 0,appointment_date:K.appointment_date||void 0,region:K.region,state:K.state,city:K.city,area:K.area,state_id:(Ae==null?void 0:Ae.id)||null,district_id:(ye==null?void 0:ye.id)||null,status:"OPEN",comments:K.comments,attachment:l==null?void 0:l.name};console.log(" Sending masterData:",gt);const at=de.validItems.map(et=>{var Cr,kr,dr,sa;return{item_name:et.item_name,platform_code:et.platform_code||null,sap_code:et.sap_code||null,uom:et.uom||"PCS",quantity:et.quantity,boxes:et.boxes||null,unit_size_ltrs:et.unit_size_ltrs||null,loose_qty:et.loose_qty||null,basic_amount:et.basic_amount.toString(),tax_percent:(console.log(" Sending tax_percent to server - Original value:",et.tax_percent,"String value:",et.tax_percent.toString()),et.tax_percent.toString()),landing_amount:(et.landing_amount||0).toString(),total_amount:et.total_amount.toString(),total_ltrs:((Cr=et.total_ltrs)==null?void 0:Cr.toString())||null,invoice_date:et.invoice_date||null,invoice_litre:((kr=et.invoice_litre)==null?void 0:kr.toString())||null,invoice_amount:((dr=et.invoice_amount)==null?void 0:dr.toString())||null,invoice_qty:((sa=et.invoice_qty)==null?void 0:sa.toString())||null,dispatched_date:et.dispatched_date||null,delivery_date:et.delivery_date||null,hsn_code:null,status:et.status||"PENDING"}});y(!1),pt.mutate({master:gt,lines:at})},[he,l,s,pt]);wt.useEffect(()=>{if(t&&J){console.log(" Edit query error:",J,"for PO ID:",r);const K=setTimeout(()=>{e&&(console.log(" Auto-redirecting to list due to edit load failure"),e())},2e3);return()=>clearTimeout(K)}},[t,J,r,e]);const $e=t&&M,Ie=t&&J;return $e?n.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6 min-h-screen bg-gradient-to-br from-blue-50/30 via-white to-purple-50/20",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(ve,{className:"shadow-lg border border-blue-100",children:n.jsx(Oe,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"})]}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 animate-pulse"})]})})}),n.jsxs(ve,{className:"shadow-lg border border-blue-100",children:[n.jsx(Oe,{className:"pb-4",children:n.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 animate-pulse"})}),n.jsx(be,{children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]})})]}),n.jsxs(ve,{className:"shadow-lg border border-blue-100",children:[n.jsx(Oe,{className:"pb-4",children:n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 animate-pulse"})}),n.jsx(be,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((K,de)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]},de))})})]}),n.jsxs(ve,{className:"shadow-lg border border-blue-100",children:[n.jsx(Oe,{className:"pb-4",children:n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 animate-pulse"})}),n.jsx(be,{children:n.jsx("div",{className:"space-y-4",children:[...Array(2)].map((K,de)=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 p-4 border rounded-lg",children:[...Array(6)].map((G,Ae)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 animate-pulse"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]},Ae))},de))})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx($n,{className:"h-6 w-6 animate-spin text-blue-600"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Loading purchase order details..."})]})})]})}):Ie?n.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6 min-h-screen bg-gradient-to-br from-blue-50/30 via-white to-purple-50/20",children:n.jsx(ve,{className:"shadow-lg border border-orange-200",children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center py-8",children:[n.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:n.jsx(Qd,{className:"h-12 w-12 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Purchase Order"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["Could not find the purchase order with ID: ",r]}),n.jsx("p",{className:"text-sm text-gray-500",children:"The purchase order may still be processing or there may be a temporary issue. Please try refreshing the page or go back to the list."}),J&&n.jsxs("details",{className:"mt-4 text-left",children:[n.jsx("summary",{className:"text-sm text-gray-400 cursor-pointer hover:text-gray-600",children:"Show technical details"}),n.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded text-xs text-gray-600 font-mono",children:[n.jsxs("div",{children:["Error: ",J.message]}),n.jsxs("div",{children:["Query: /api/pos/",r]}),n.jsxs("div",{children:["Status: ",(J==null?void 0:J.status)||"Unknown"]})]})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(ue,{variant:"outline",onClick:()=>_e(),className:"text-orange-600 hover:text-orange-800 border-orange-300 hover:bg-orange-50",children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Retry Loading"]}),n.jsxs(ue,{variant:"outline",onClick:()=>window.history.back(),className:"text-gray-600 hover:text-gray-800",children:[n.jsx($t,{className:"h-4 w-4 mr-2"}),"Go Back"]}),n.jsx(ue,{onClick:()=>window.location.href="/platform-po",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"View All POs"})]})]})})})}):n.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6 min-h-screen bg-gradient-to-br from-blue-50/30 via-white to-purple-50/20",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-6 transition-all duration-300 hover:shadow-xl",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-3 rounded-xl shadow-lg",children:n.jsx(Ls,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 tracking-tight",children:"E-commerce Purchase Orders"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage platform purchase orders with ease"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($x,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Form Progress"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bI,{value:w,className:"w-20 h-2"}),n.jsxs("span",{className:"text-sm font-semibold text-blue-600 min-w-[3rem]",children:[Math.round(w),"%"]})]})]}),n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Active Company"}),n.jsx(rt,{variant:"secondary",className:"bg-blue-100 text-blue-800 font-semibold px-3 py-1",children:s})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[f.isSubmitting&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 border border-blue-200 rounded-full",children:[n.jsx($n,{className:"h-4 w-4 animate-spin text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-700 animate-pulse",children:t?"Updating PO...":"Creating PO..."})]}),f.isResetting&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-purple-50 border border-purple-200 rounded-full",children:[n.jsx(pa,{className:"h-4 w-4 animate-spin text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-700 animate-pulse",children:"Resetting form..."})]})]})]})]})}),n.jsxs(ve,{className:"shadow-lg border-blue-100 transition-all duration-300 hover:shadow-xl",children:[n.jsx(Oe,{className:"pb-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-lg border-b",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(tB,{className:"h-5 w-5 text-blue-600"}),n.jsx(Me,{className:"text-lg font-semibold text-gray-800",children:"Company Selection"}),!f.isResetting&&n.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>He(),className:"ml-auto text-gray-500 hover:text-orange-600 hover:bg-gray-100 transition-all duration-200",title:"Reset form",children:n.jsx(pa,{className:"h-4 w-4"})})]})}),n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs(ue,{type:"button",variant:s==="JIVO MART"?"default":"outline",onClick:()=>{a("JIVO MART"),S.setValue("company","JIVO MART")},disabled:f.isSubmitting||f.isResetting,className:Te("h-12 font-semibold transition-all duration-300 transform hover:scale-105",s==="JIVO MART"?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg":"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700"),children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"JIVO MART"]}),n.jsxs(ue,{type:"button",variant:s==="JIVO WELLNESS"?"default":"outline",onClick:()=>{a("JIVO WELLNESS"),S.setValue("company","JIVO WELLNESS")},disabled:f.isSubmitting||f.isResetting,className:Te("h-12 font-semibold transition-all duration-300 transform hover:scale-105",s==="JIVO WELLNESS"?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg":"hover:bg-purple-50 hover:border-purple-300 hover:text-purple-700"),children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"JIVO WELLNESS"]})]})})]}),n.jsxs(ve,{className:"shadow-xl border-blue-100 transition-all duration-300 hover:shadow-2xl overflow-hidden",children:[n.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 border-b border-blue-200",children:n.jsxs(Me,{className:"text-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xn,{className:"h-6 w-6 text-blue-600"}),n.jsx("span",{className:"font-bold text-gray-800",children:"Purchase Order Management"}),i.length>0&&n.jsxs(rt,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[i.length," item",i.length===1?"":"s"]})]}),n.jsx("div",{className:"flex items-center space-x-2"})]})}),n.jsx(be,{className:"pt-8",children:n.jsxs("form",{ref:T,onSubmit:S.handleSubmit(je),className:"space-y-8",role:"form","aria-label":"Purchase Order Form",noValidate:!0,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-3 relative",children:[n.jsxs(Se,{htmlFor:"platform",className:"text-sm font-semibold text-gray-800 flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 mr-1 text-blue-600"}),"PLATFORM *"]}),n.jsx(gm,{name:"platform",control:S.control,render:({field:K,fieldState:de})=>n.jsxs("div",{children:[n.jsxs(Ur,{value:K.value,onValueChange:K.onChange,disabled:f.isSubmitting||f.isResetting,children:[n.jsx(Or,{className:Te("h-12 bg-white border-2 transition-all duration-200 text-base",de.error?"border-orange-300 focus:border-orange-400 focus:ring-orange-100":"border-gray-300 hover:border-blue-400 focus:border-blue-500 focus:ring-blue-200",K.value&&!de.error&&"border-green-300 bg-green-50/30"),children:n.jsx(Vr,{placeholder:"Select your e-commerce platform"})}),n.jsx(Fr,{className:"max-h-60",children:I.map(G=>n.jsx(ft,{value:G.id.toString(),className:"py-3 px-4 hover:bg-blue-50",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ht,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-medium",children:G.pf_name})]})},G.id))})]}),de.error&&n.jsxs("p",{id:"platform-error",className:"mt-1 text-sm text-orange-600 flex items-center",role:"alert","aria-live":"polite",children:[n.jsx(Qr,{className:"h-3 w-3 mr-1","aria-hidden":"true"}),de.error.message]})]})})]}),n.jsxs("div",{className:"space-y-3 relative",children:[n.jsxs(Se,{htmlFor:"vendor_po_no",className:"text-sm font-semibold text-gray-800 flex items-center",children:[n.jsx(xn,{className:"h-4 w-4 mr-1 text-blue-600"}),"VENDOR PO NUMBER *"]}),n.jsx(gm,{name:"vendor_po_no",control:S.control,render:({field:K,fieldState:de})=>n.jsxs("div",{className:"relative",children:[n.jsx(ke,{...K,id:"vendor_po_no",placeholder:b?"e.g., BLI-20250821-1234":"Select platform first",className:Te("h-12 transition-all duration-200 text-base pl-4 pr-12 border-2",b?de.error?"border-orange-300 focus:border-orange-400 focus:ring-orange-100 bg-orange-50/30":K.value&&!de.error?"border-green-300 focus:border-green-500 focus:ring-green-200 bg-green-50/30":"bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-200 hover:border-blue-400":"bg-gray-100 border-gray-200 cursor-not-allowed text-gray-500"),disabled:!b||f.isSubmitting||f.isResetting,"aria-label":"Enter vendor purchase order number","aria-describedby":de.error?"po-number-error":"po-number-hint"}),K.value&&!de.error&&n.jsx(Ks,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),de.error&&n.jsx(Qr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-orange-500"}),n.jsx("p",{id:"po-number-hint",className:"mt-1 text-xs text-gray-500",children:b?"Enter PO number manually":"Select a platform first"}),de.error&&n.jsxs("p",{id:"po-number-error",className:"mt-1 text-sm text-orange-600 flex items-center",role:"alert","aria-live":"polite",children:[n.jsx(Qr,{className:"h-3 w-3 mr-1","aria-hidden":"true"}),de.error.message]})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"distributor",className:"text-xs font-medium text-gray-700",children:"DISTRIBUTOR"}),n.jsxs(Ur,{value:S.watch("distributor"),onValueChange:K=>S.setValue("distributor",K),disabled:!b,children:[n.jsx(Or,{className:Te("h-10",b?"bg-white":"bg-gray-100"),children:n.jsx(Vr,{placeholder:b?"SELECT DISTRIBUTOR":"SELECT PLATFORM FIRST"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"none",children:"-- No Distributor --"}),P.map(K=>n.jsx(ft,{value:K.distributor_name,children:K.distributor_name},K.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Se,{htmlFor:"dispatch_from",className:"text-xs font-medium text-gray-700 flex items-center",children:["DISPATCH FROM",R&&R!=="none"&&n.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Locked - Distributor Selected"})]}),n.jsxs(Ur,{value:S.watch("dispatch_from"),onValueChange:K=>S.setValue("dispatch_from",K),disabled:!b||!!(R&&R!=="none"),children:[n.jsx(Or,{className:Te("h-10",!b||R&&R!=="none"?"bg-gray-100 cursor-not-allowed":"bg-white"),children:n.jsx(Vr,{placeholder:b?R&&R!=="none"?"LOCKED - REMOVE DISTRIBUTOR TO EDIT":"SELECT DISPATCH FROM":"SELECT PLATFORM FIRST"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"none",children:"-- No Dispatch Location --"}),F.map(K=>n.jsx(ft,{value:K.name,children:K.name},K.id))]})]}),R&&R!=="none"&&n.jsxs("p",{className:"text-xs text-amber-600 flex items-center mt-1",children:[n.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Dispatch From is locked when a distributor is selected. Remove distributor to edit."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"area",className:"text-xs font-medium text-gray-700",children:"AREA"}),n.jsx(ke,{id:"area",...S.register("area"),placeholder:b?"Enter area name":"SELECT PLATFORM FIRST",className:"h-10",disabled:!b})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"region",className:"text-xs font-medium text-gray-700",children:"REGION *"}),n.jsxs(Ur,{value:S.watch("region"),onValueChange:K=>S.setValue("region",K),disabled:!b,children:[n.jsx(Or,{className:Te("h-10",b?"bg-white":"bg-gray-100"),children:n.jsx(Vr,{placeholder:b?"SELECT REGION":"SELECT PLATFORM FIRST"})}),n.jsx(Fr,{children:rr().map(K=>n.jsx(ft,{value:K,children:K},K))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"state",className:"text-xs font-medium text-gray-700",children:"STATE *"}),n.jsxs(Ur,{value:S.watch("state"),onValueChange:K=>S.setValue("state",K),disabled:!b,children:[n.jsx(Or,{className:Te("h-10",b?"bg-white":"bg-gray-100"),children:n.jsx(Vr,{placeholder:b?"SELECT STATE":"SELECT PLATFORM FIRST"})}),n.jsx(Fr,{children:mt().map(K=>n.jsx(ft,{value:K,children:K},K))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"city",className:"text-xs font-medium text-gray-700",children:"CITY *"}),n.jsxs(Ur,{value:S.watch("city"),onValueChange:K=>S.setValue("city",K),disabled:!C||!b,children:[n.jsx(Or,{className:Te("h-10",b?"bg-white":"bg-gray-100"),children:n.jsx(Vr,{placeholder:b?C?"SELECT CITY":"SELECT STATE FIRST":"SELECT PLATFORM FIRST"})}),n.jsxs(Fr,{children:[S.watch("city")&&!We().includes(S.watch("city"))&&n.jsx(ft,{value:S.watch("city"),children:S.watch("city")},S.watch("city")),We().map(K=>n.jsx(ft,{value:K,children:K},K))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"po_date",className:"text-xs font-medium text-gray-700",children:"PO DATE *"}),n.jsx(ke,{id:"po_date",type:"date",...S.register("po_date"),className:Te("h-10",b?"bg-white":"bg-gray-100 cursor-not-allowed"),disabled:!b})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"expiry_date",className:"text-xs font-medium text-gray-700",children:"EXPIRY DATE *"}),n.jsx(gm,{name:"expiry_date",control:S.control,render:({field:K,fieldState:de})=>n.jsxs("div",{children:[n.jsx(ke,{id:"expiry_date",type:"date",placeholder:"DD/MM/YYYY",...K,className:Te("h-10",b?de.error?"border-orange-300 focus:border-orange-400 focus:ring-orange-100 bg-orange-50/30":K.value&&!de.error?"border-green-300 focus:border-green-500 focus:ring-green-200 bg-green-50/30":"bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-200 hover:border-blue-400":"bg-gray-100 cursor-not-allowed text-gray-500"),disabled:!b}),de.error&&n.jsxs("p",{className:"mt-1 text-sm text-orange-600 flex items-center",role:"alert","aria-live":"polite",children:[n.jsx(Qr,{className:"h-3 w-3 mr-1","aria-hidden":"true"}),de.error.message]})]})})]}),t&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"appointment_date",className:"text-xs font-medium text-gray-700",children:"APPOINTMENT DATE"}),n.jsx(ke,{id:"appointment_date",type:"date",placeholder:"DD/MM/YYYY",...S.register("appointment_date"),className:Te("h-10",b?"bg-white":"bg-gray-100 cursor-not-allowed"),disabled:!b})]})]}),n.jsxs("div",{className:"border-2 border-blue-100 rounded-xl p-6 bg-gradient-to-br from-blue-50/50 via-white to-purple-50/30 shadow-lg transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(ht,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Purchase Order Items"}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[i.length>0&&n.jsxs(rt,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[i.length," item",i.length===1?"":"s"]}),i&&Array.isArray(i)&&i.some(K=>K.isValid===!1)&&n.jsxs(rt,{variant:"destructive",className:"bg-orange-100 text-orange-700",children:[i.filter(K=>K.isValid===!1).length," invalid"]}),i.length>0&&n.jsxs("span",{className:"text-sm text-gray-600",children:["Total: ",br.grandTotal]})]})]})]}),n.jsxs(ue,{type:"button",onClick:nr,variant:b?"default":"outline",size:"lg",className:Te("transition-all duration-300 transform hover:scale-105 font-semibold",b?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg text-white":"text-gray-400 border-gray-300 opacity-50 cursor-not-allowed bg-gray-100"),disabled:!b||f.isSubmitting||f.isResetting,title:b?"Add new item to purchase order":"Please select a platform first",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),i.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:n.jsx(ht,{className:"h-12 w-12 text-gray-400"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Items Added Yet"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:b?'Click "Add New Item" to start building your purchase order with items from the selected platform.':"Please select a platform first, then add items to create your purchase order."}),b&&n.jsxs(ue,{type:"button",onClick:nr,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Your First Item"]})]}):n.jsx("div",{className:"space-y-8",children:i.map((K,de)=>{var Ae,ye,gt;const G=K.isValid!==!1;return n.jsxs("div",{className:Te("relative bg-white rounded-2xl border-2 shadow-sm p-8 transition-all duration-300 hover:shadow-lg hover:scale-[1.01] animate-in slide-in-from-top-2",G?"border-green-300 hover:border-green-400 bg-gradient-to-br from-green-50/30 via-white to-emerald-50/20":"border-orange-300 hover:border-orange-400 bg-gradient-to-br from-orange-50/30 via-white to-yellow-50/20"),children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 pb-4 border-b border-gray-200/60 space-y-3 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:Te("flex items-center space-x-3 px-4 py-2.5 rounded-full text-sm font-bold shadow-sm border",G?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200":"bg-gradient-to-r from-orange-100 to-yellow-100 text-orange-800 border-orange-200"),children:[G?n.jsx(Ks,{className:"h-4 w-4"}):n.jsx(Qd,{className:"h-4 w-4"}),n.jsxs("span",{children:["Item #",de+1]})]}),K.item_name&&n.jsx(rt,{variant:"outline",className:"max-w-xs truncate bg-blue-50/70 text-blue-800 border-blue-200 font-semibold",children:K.item_name})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(ue,{type:"button",onClick:()=>cr(K.tempId),variant:"destructive",size:"sm",disabled:f.isSubmitting||f.isResetting,className:"bg-gray-500 hover:bg-gray-600 transition-all duration-300 transform hover:scale-105 font-semibold",children:[n.jsx(vi,{className:"h-4 w-4 mr-1"}),"Remove"]})})]}),n.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-blue-50/50 to-indigo-50/30 rounded-xl border-l-4 border-blue-500",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center mb-4",children:[n.jsx(vn,{className:"h-4 w-4 mr-2 text-blue-600"}),"Item Name *"]}),n.jsx(ZF,{value:K.item_name,onChange:(at,et)=>Pt(K.tempId,at,et),placeholder:"Type item name or code (e.g. 'rice' or 'FG0000216')",className:Te("h-14 bg-white border-2 text-base transition-all duration-300 rounded-xl shadow-sm",K.item_name?"border-green-400 focus-within:border-green-500 focus-within:ring-4 focus-within:ring-green-100/50 bg-green-50/50":"border-gray-300 focus-within:border-blue-500 focus-within:ring-4 focus-within:ring-blue-100/50 hover:border-blue-400")})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 p-4 bg-gray-50/50 rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(ht,{className:"h-3 w-3 mr-1 text-gray-500"}),"Platform Code"]}),n.jsx(ke,{value:K.platform_code||"",readOnly:!0,className:"h-11 bg-gray-50 border-2 border-gray-200 text-gray-900 text-sm rounded-lg cursor-not-allowed",placeholder:"Auto-filled from item selection",title:"This field is auto-filled when you select an item"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(xn,{className:"h-3 w-3 mr-1 text-gray-500"}),"SAP Code"]}),n.jsx(ke,{value:K.sap_code||"",readOnly:!0,className:"h-11 bg-gray-50 border-2 border-gray-200 text-gray-900 text-sm rounded-lg cursor-not-allowed",placeholder:"Auto-filled from item selection",title:"This field is auto-filled when you select an item"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(ht,{className:"h-3 w-3 mr-1 text-gray-500"}),"Unit of Measure"]}),n.jsx(ke,{value:K.uom||"PCS",readOnly:!0,className:"h-11 bg-gray-50 border-gray-200 text-gray-600 cursor-not-allowed text-sm font-semibold rounded-lg text-center",title:"Auto-filled from item selection"})]}),n.jsxs("div",{className:"relative space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx($x,{className:"h-4 w-4 mr-1 text-blue-600"}),"Quantity *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:"number",min:"1",value:K.quantity||"",onChange:at=>{const et=at.target.value===""?0:parseInt(at.target.value)||0;Nr(K.tempId,{quantity:Math.max(1,et)})},className:Te("h-12 bg-white border-2 transition-all duration-200 text-base pl-4 pr-12 rounded-lg shadow-sm",!K.quantity||K.quantity<=0?"border-orange-300 focus:border-orange-400 focus:ring-orange-100 bg-orange-50/30":"border-blue-300 hover:border-blue-400 focus:border-blue-500 focus:ring-blue-200"),placeholder:"Enter quantity",disabled:f.isSubmitting||f.isResetting,required:!0}),K.quantity>0?n.jsx(Ks,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}):n.jsx(Qr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-orange-500"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(ht,{className:"h-3 w-3 mr-1 text-gray-500"}),"Boxes"]}),n.jsx(ke,{type:"number",value:K.boxes||"",readOnly:!0,className:"h-11 bg-gray-50 border-gray-200 text-gray-600 cursor-not-allowed text-sm font-semibold rounded-lg text-center",title:"Auto-filled from item selection"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(ht,{className:"h-3 w-3 mr-1 text-gray-500"}),"Unit Size (Litres)"]}),n.jsx(ke,{type:"number",step:"0.01",value:K.unit_size_ltrs||"",readOnly:!0,className:"h-11 bg-gray-50 border-gray-200 text-gray-600 cursor-not-allowed text-sm font-semibold rounded-lg text-center",title:"Auto-filled from item selection"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(ht,{className:"h-3 w-3 mr-1 text-gray-500"}),"Loose Quantity"]}),n.jsx(ke,{type:"number",value:K.loose_qty||"",readOnly:!0,className:"h-11 bg-gray-50 border-gray-200 text-gray-600 cursor-not-allowed text-sm font-semibold rounded-lg text-center",title:"Auto-filled from item selection"})]}),n.jsxs("div",{className:"relative space-y-3",children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(dB,{className:"h-4 w-4 mr-1 text-blue-600"}),"Basic Amount *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:"number",step:"0.01",min:"0.01",value:K.basic_amount||"",onChange:at=>{const et=at.target.value===""?0:parseFloat(at.target.value)||0;Nr(K.tempId,{basic_amount:Math.max(.01,et)})},className:Te("h-12 bg-white border-2 transition-all duration-200 text-base pl-8 pr-12 rounded-lg shadow-sm",!K.basic_amount||K.basic_amount<=0?"border-orange-300 focus:border-orange-400 focus:ring-orange-100 bg-orange-50/30":"border-blue-300 hover:border-blue-400 focus:border-blue-500 focus:ring-blue-200"),placeholder:"0.00",disabled:f.isSubmitting||f.isResetting,required:!0}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold",children:""}),K.basic_amount>0?n.jsx(Ks,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}):n.jsx(Qr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-orange-500"})]})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"ITEM STATUS"}),n.jsx("div",{className:"relative",children:n.jsxs("select",{value:K.status||"PENDING",onChange:at=>{const et=at.target.value;K!=null&&K.tempId&&o(Cr=>Cr.map(kr=>kr.tempId===K.tempId?{...kr,status:et||"PENDING"}:kr))},disabled:f.isSubmitting||f.isResetting,className:Te("flex h-10 mt-2 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer"),style:{backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.75rem center",backgroundRepeat:"no-repeat",backgroundSize:"16px 12px",paddingRight:"2.5rem"},children:[n.jsx("option",{value:"",children:"Select status"}),U&&U.length>0?U.filter(at=>at&&at.status_name).map(at=>n.jsx("option",{value:at.status_name,children:at.status_name},at.id||at.status_name)):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"PENDING",children:"PENDING"}),n.jsx("option",{value:"INVOICED",children:"INVOICED"}),n.jsx("option",{value:"DISPATCHED",children:"DISPATCHED"}),n.jsx("option",{value:"DELIVERED",children:"DELIVERED"}),n.jsx("option",{value:"STOCK_ISSUE",children:"STOCK ISSUE"}),n.jsx("option",{value:"PRICE_DIFF",children:"PRICE DIFF"}),n.jsx("option",{value:"MOV_ISSUE",children:"MOV ISSUE"}),n.jsx("option",{value:"CANCELLED",children:"CANCELLED"}),n.jsx("option",{value:"EXPIRED",children:"EXPIRED"}),n.jsx("option",{value:"HOLD",children:"HOLD"}),n.jsx("option",{value:"CN",children:"CN"}),n.jsx("option",{value:"RTV",children:"RTV"})]})]})})]}),n.jsxs("div",{children:[n.jsxs(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide flex items-center",children:[n.jsx("span",{className:"text-green-600 mr-1",children:""}),"TAX (%)",K.tax_percent>0&&n.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full font-semibold",children:[K.tax_percent,"% Applied"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:"number",step:"0.01",value:K.tax_percent,readOnly:!0,className:`h-12 mt-2 border-2 font-semibold ${K.tax_percent>0?"bg-green-50 border-green-300 text-green-700":"bg-gray-100 border-gray-200 text-gray-600"} cursor-not-allowed`,title:"This field is auto-filled from item selection"}),K.tax_percent>0&&n.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-green-600",children:n.jsx("span",{className:"text-lg",children:""})})]})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"LANDING AMOUNT"}),n.jsx(ke,{type:"number",step:"0.01",value:((Ae=K.landing_amount)==null?void 0:Ae.toFixed(2))||"0.00",readOnly:!0,className:"h-12 mt-2 bg-gray-100 border-gray-200 text-gray-600"})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"TOTAL AMOUNT"}),n.jsx(ke,{type:"number",step:"0.01",value:((ye=K.total_amount)==null?void 0:ye.toFixed(2))||"0.00",readOnly:!0,className:"h-12 mt-2 bg-gray-100 border-gray-200 text-gray-600"})]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"TOTAL LTRS"}),n.jsx(ke,{type:"number",step:"0.01",value:((gt=K.total_ltrs)==null?void 0:gt.toFixed(2))||"0.00",readOnly:!0,className:"h-12 mt-2 bg-gray-100 border-gray-200 text-gray-600"})]})}),(()=>{const at=U&&U.length>0?U.find(dr=>dr&&dr.status_name&&dr.status_name===(K==null?void 0:K.status)):null,et=(at==null?void 0:at.requires_invoice_fields)||!1,Cr=(at==null?void 0:at.requires_dispatch_date)||!1,kr=(at==null?void 0:at.requires_delivery_date)||!1;return!et&&!Cr&&!kr?null:n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsxs("h4",{className:"text-sm font-semibold text-yellow-800 mb-4 flex items-center",children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),et&&Cr&&kr&&"INVOICE & DELIVERY DETAILS",et&&Cr&&!kr&&"INVOICE & DISPATCH DETAILS",et&&!Cr&&"INVOICE DETAILS",Cr&&!et&&kr&&"DISPATCH & DELIVERY DETAILS",Cr&&!et&&!kr&&"DISPATCH DETAILS",kr&&!et&&!Cr&&"DELIVERY DETAILS"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"INVOICE DATE"}),n.jsx(ke,{type:"date",value:K.invoice_date||"",onChange:dr=>Nr(K.tempId,{invoice_date:dr.target.value}),className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500",disabled:f.isSubmitting||f.isResetting})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"INVOICE QTY"}),n.jsx(ke,{type:"number",step:"0.01",min:"0",value:K.invoice_qty||"",onChange:dr=>{const sa=dr.target.value===""?0:parseFloat(dr.target.value)||0;Nr(K.tempId,{invoice_qty:Math.max(0,sa)})},className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500",placeholder:"0.00",disabled:f.isSubmitting||f.isResetting})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"INVOICE LITRE"}),n.jsx(ke,{type:"number",step:"0.01",min:"0",value:K.invoice_litre||"",onChange:dr=>{const sa=dr.target.value===""?0:parseFloat(dr.target.value)||0;Nr(K.tempId,{invoice_litre:Math.max(0,sa)})},className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500",placeholder:"0.00",disabled:f.isSubmitting||f.isResetting})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"INVOICE AMOUNT"}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{type:"number",step:"0.01",min:"0",value:K.invoice_amount||"",onChange:dr=>{const sa=dr.target.value===""?0:parseFloat(dr.target.value)||0;Nr(K.tempId,{invoice_amount:Math.max(0,sa)})},className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500 pl-8",placeholder:"0.00",disabled:f.isSubmitting||f.isResetting}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold",children:""})]})]}),(Cr||kr)&&n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"DISPATCH DATE"}),n.jsx(ke,{type:"date",value:K.dispatched_date||"",onChange:dr=>Nr(K.tempId,{dispatched_date:dr.target.value}),className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500",disabled:f.isSubmitting||f.isResetting})]}),kr&&n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 uppercase tracking-wide",children:"DELIVERY DATE"}),n.jsx(ke,{type:"date",value:K.delivery_date||"",onChange:dr=>Nr(K.tempId,{delivery_date:dr.target.value}),className:"h-12 mt-2 bg-white border-yellow-300 focus:border-yellow-500",disabled:f.isSubmitting||f.isResetting})]})]})]})})()]},K.tempId)})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(cs,{className:"h-5 w-5 mr-2 text-blue-600"}),"Attachments"]}),n.jsxs("div",{className:Te("border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200",b?"border-blue-300 bg-blue-50/30 hover:bg-blue-50/50":"border-gray-200 bg-gray-50"),children:[n.jsx("input",{type:"file",id:"attachment",className:"hidden",onChange:te,accept:".pdf,.doc,.docx,.xls,.xlsx,.csv",disabled:!b}),n.jsxs("label",{htmlFor:"attachment",className:Te("flex flex-col items-center",b?"cursor-pointer":"cursor-not-allowed opacity-50"),children:[n.jsx(cs,{className:Te("h-12 w-12 mb-3",b?"text-blue-500":"text-gray-400")}),n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:b?"Click to Attach PO Document":"Select Platform First"}),n.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, XLS files supported"}),l&&n.jsx("div",{className:"mt-4 px-4 py-2 bg-green-100 border border-green-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",l.name]})})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(mB,{className:"h-5 w-5 mr-2 text-blue-600"}),"Comments"]}),n.jsx(Ac,{id:"comments",placeholder:b?"Enter any additional comments, special instructions, or notes about this purchase order...":"Select platform first",...S.register("comments"),className:Te("h-32 resize-none border-gray-300 rounded-lg",b?"bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100":"bg-gray-100 cursor-not-allowed"),disabled:!b}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Maximum 1000 characters"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 h-fit",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($x,{className:"h-5 w-5 mr-2 text-blue-600"}),"Order Summary"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Total Basic Amount:"}),n.jsxs("span",{className:"font-semibold text-lg text-gray-900",children:["",br.totalBasic]})]}),n.jsxs("div",{className:"flex justify-between items-center py-3 border-t border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Total Tax:"}),n.jsxs("span",{className:"font-semibold text-lg text-gray-900",children:["",br.totalTax]})]}),n.jsxs("div",{className:"flex justify-between items-center py-4 border-t-2 border-blue-100 bg-blue-50/50 rounded-lg px-4 -mx-2",children:[n.jsx("span",{className:"text-blue-900 font-semibold text-lg",children:"Grand Total:"}),n.jsxs("span",{className:"font-bold text-2xl text-blue-600",children:["",br.grandTotal]})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 bg-gray-50/50 rounded-b-xl -mx-6 -mb-6 px-6 py-6 mt-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 sm:space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"text-center px-4 py-2 bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",br.grandTotal]}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Total Value"})]}),n.jsxs("div",{className:"text-center px-4 py-2 bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:i.length===1?"Item":"Items"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ue,{type:"button",variant:"outline",onClick:()=>He(),disabled:f.isSubmitting||f.isResetting||!S.formState.isDirty&&i.length===0,className:"px-6 py-3 border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-700 transition-all duration-200 font-medium",children:[f.isResetting?n.jsx($n,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Reset Form"]}),n.jsx(ue,{type:"submit",size:"lg",className:Te("min-w-[200px] font-bold py-3 px-6 transition-all duration-300 transform text-base",b&&!f.isSubmitting&&i.length>0?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:f.isSubmitting||!b||i.length===0,children:f.isSubmitting?n.jsxs("div",{className:"flex items-center",children:[n.jsx($n,{className:"h-5 w-5 animate-spin mr-2"}),n.jsx("span",{className:"animate-pulse",children:t?"Updating Order...":"Creating Order..."})]}):b?i.length===0?n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Add Items First"]}):i.length===0?n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Add Items First"]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx($f,{className:"h-4 w-4 mr-2"}),t?"Update Purchase Order":"Create Purchase Order"]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Select Platform First"]})})]})]})})]})})]}),n.jsx(ly,{open:p,onOpenChange:y,children:n.jsxs(y0,{className:"max-w-2xl",children:[n.jsxs(_0,{children:[n.jsxs(N0,{className:"flex items-center text-xl",children:[n.jsx(Ls,{className:"h-6 w-6 mr-2 text-blue-600"}),"Confirm Purchase Order Creation"]}),n.jsx(b0,{className:"text-base",children:"Please review your purchase order details before submitting."})]}),n.jsxs("div",{className:"py-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Platform:"}),n.jsx("span",{className:"font-medium ml-2",children:((Xe=I.find(K=>K.id.toString()===b))==null?void 0:Xe.pf_name)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"PO Number:"}),n.jsx("span",{className:"font-medium ml-2",children:S.getValues("vendor_po_no")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Company:"}),n.jsx("span",{className:"font-medium ml-2",children:s})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total Items:"}),n.jsx("span",{className:"font-medium ml-2",children:i.length})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Basic Amount:"}),n.jsxs("span",{className:"font-medium ml-2",children:["",br.totalBasic]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Tax Amount:"}),n.jsxs("span",{className:"font-medium ml-2",children:["",br.totalTax]})]}),n.jsxs("div",{className:"col-span-2 pt-2 border-t",children:[n.jsx("span",{className:"text-gray-800 font-semibold",children:"Grand Total:"}),n.jsxs("span",{className:"font-bold text-lg ml-2 text-blue-600",children:["",br.grandTotal]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-800 mb-3",children:["Items (",i.length,")"]}),n.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[i.slice(0,5).map(K=>n.jsxs("div",{className:"bg-white border rounded-lg p-3 text-sm",children:[n.jsx("div",{className:"font-medium text-gray-800 truncate",children:K.item_name}),n.jsxs("div",{className:"text-gray-600 mt-1",children:["Qty: ",K.quantity," | Rate: ",K.basic_amount," | Total: ",K.total_amount.toFixed(2)]})]},K.tempId)),i.length>5&&n.jsxs("div",{className:"text-center text-gray-500 text-sm py-2",children:["... and ",i.length-5," more items"]})]})]})]}),n.jsxs(w0,{children:[n.jsx(S0,{disabled:f.isSubmitting,className:"min-w-[100px]",children:"Cancel"}),n.jsx(j0,{onClick:()=>S.handleSubmit(Ke)(),disabled:f.isSubmitting,className:"bg-blue-600 hover:bg-blue-700 min-w-[150px]",children:f.isSubmitting?n.jsxs("div",{className:"flex items-center",children:[n.jsx($n,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"animate-pulse",children:t?"Updating...":"Creating..."})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ks,{className:"h-4 w-4 mr-2"}),t?"Confirm & Update":"Confirm & Create"]})})]})]})}),n.jsx(ly,{open:m,onOpenChange:g,children:n.jsxs(y0,{children:[n.jsxs(_0,{children:[n.jsxs(N0,{className:"flex items-center",children:[n.jsx(pa,{className:"h-5 w-5 mr-2 text-orange-600"}),"Reset Form"]}),n.jsx(b0,{children:"Are you sure you want to reset the form? All entered data and items will be lost."})]}),n.jsxs(w0,{children:[n.jsx(S0,{children:"Cancel"}),n.jsxs(j0,{onClick:()=>He(!0),className:"bg-gray-600 hover:bg-gray-700",children:[n.jsx(vi,{className:"h-4 w-4 mr-2"}),"Reset Form"]})]})]})})]})}function Rt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function As(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bn(e,t){const r=Rt(e);return isNaN(t)?As(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Aa(e,t){const r=Rt(e);if(isNaN(t))return As(e,NaN);if(!t)return r;const s=r.getDate(),a=As(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const p_=6048e5,$K=864e5;let zK={};function nh(){return zK}function Za(e,t){var l,c,d,u;const r=nh(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Rt(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Cl(e){return Za(e,{weekStartsOn:1})}function SI(e){const t=Rt(e),r=t.getFullYear(),s=As(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Cl(s),i=As(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Cl(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function pd(e){const t=Rt(e);return t.setHours(0,0,0,0),t}function T0(e){const t=Rt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function qa(e,t){const r=pd(e),s=pd(t),a=+r-T0(r),i=+s-T0(s);return Math.round((a-i)/$K)}function qK(e){const t=SI(e),r=As(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Cl(r)}function cy(e,t){const r=t*7;return Bn(e,r)}function WK(e,t){return Aa(e,t*12)}function HK(e){let t;return e.forEach(function(r){const s=Rt(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function KK(e){let t;return e.forEach(r=>{const s=Rt(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function as(e,t){const r=pd(e),s=pd(t);return+r==+s}function x_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function GK(e){if(!x_(e)&&typeof e!="number")return!1;const t=Rt(e);return!isNaN(Number(t))}function Nf(e,t){const r=Rt(e),s=Rt(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function QK(e,t,r){const s=Za(e,r),a=Za(t,r),i=+s-T0(s),o=+a-T0(a);return Math.round((i-o)/p_)}function g_(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ds(e){const t=Rt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function EI(e){const t=Rt(e),r=As(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function v_(e,t){var l,c,d,u;const r=nh(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Rt(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function TI(e){return v_(e,{weekStartsOn:1})}const YK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XK=(e,t,r)=>{let s;const a=YK[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ag(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ZK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tG={date:ag({formats:ZK,defaultWidth:"full"}),time:ag({formats:JK,defaultWidth:"full"}),dateTime:ag({formats:eG,defaultWidth:"full"})},rG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nG=(e,t,r,s)=>rG[e];function eu(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const sG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dG=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uG={ordinalNumber:dG,era:eu({values:sG,defaultWidth:"wide"}),quarter:eu({values:aG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:eu({values:iG,defaultWidth:"wide"}),day:eu({values:oG,defaultWidth:"wide"}),dayPeriod:eu({values:lG,defaultWidth:"wide",formattingValues:cG,defaultFormattingWidth:"wide"})};function tu(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hG(l,f=>f.test(o)):fG(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function fG(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mG(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pG=/^(\d+)(th|st|nd|rd)?/i,xG=/\d+/i,gG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vG={any:[/^b/i,/^(a|c)/i]},yG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_G={any:[/1/i,/2/i,/3/i,/4/i]},wG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TG={ordinalNumber:mG({matchPattern:pG,parsePattern:xG,valueCallback:e=>parseInt(e,10)}),era:tu({matchPatterns:gG,defaultMatchWidth:"wide",parsePatterns:vG,defaultParseWidth:"any"}),quarter:tu({matchPatterns:yG,defaultMatchWidth:"wide",parsePatterns:_G,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tu({matchPatterns:wG,defaultMatchWidth:"wide",parsePatterns:NG,defaultParseWidth:"any"}),day:tu({matchPatterns:bG,defaultMatchWidth:"wide",parsePatterns:jG,defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:SG,defaultMatchWidth:"any",parsePatterns:EG,defaultParseWidth:"any"})},CI={code:"en-US",formatDistance:XK,formatLong:tG,formatRelative:nG,localize:uG,match:TG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CG(e){const t=Rt(e);return qa(t,EI(t))+1}function kI(e){const t=Rt(e),r=+Cl(t)-+qK(t);return Math.round(r/p_)+1}function AI(e,t){var u,f,h,p;const r=Rt(e),s=r.getFullYear(),a=nh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=As(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Za(o,t),c=As(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Za(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function kG(e,t){var l,c,d,u;const r=nh(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=AI(e,t),i=As(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Za(i,t)}function PI(e,t){const r=Rt(e),s=+Za(r,t)-+kG(r,t);return Math.round(s/p_)+1}function Kt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Vi={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Kt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kt(r+1,2)},d(e,t){return Kt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kt(e.getHours()%12||12,t.length)},H(e,t){return Kt(e.getHours(),t.length)},m(e,t){return Kt(e.getMinutes(),t.length)},s(e,t){return Kt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Kt(a,t.length)}},Ql={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kb={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Vi.y(e,t)},Y:function(e,t,r,s){const a=AI(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Kt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Kt(i,t.length)},R:function(e,t){const r=SI(e);return Kt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Kt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Kt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Vi.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Kt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=PI(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Kt(a,t.length)},I:function(e,t,r){const s=kI(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Kt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vi.d(e,t)},D:function(e,t,r){const s=CG(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Kt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Kt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Kt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Kt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Ql.noon:s===0?a=Ql.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Ql.evening:s>=12?a=Ql.afternoon:s>=4?a=Ql.morning:a=Ql.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Vi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vi.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Kt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Kt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vi.s(e,t)},S:function(e,t){return Vi.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Pb(s);case"XXXX":case"XX":return Ho(s);case"XXXXX":case"XXX":default:return Ho(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Pb(s);case"xxxx":case"xx":return Ho(s);case"xxxxx":case"xxx":default:return Ho(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ab(s,":");case"OOOO":default:return"GMT"+Ho(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ab(s,":");case"zzzz":default:return"GMT"+Ho(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Kt(s,t.length)},T:function(e,t,r){const s=e.getTime();return Kt(s,t.length)}};function Ab(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Kt(i,2)}function Pb(e,t){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):Ho(e,t)}function Ho(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Kt(Math.trunc(s/60),2),i=Kt(s%60,2);return r+a+t+i}const Db=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AG=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Db(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Db(s,t)).replace("{{time}}",DI(a,t))},PG={p:DI,P:AG},DG=/^D+$/,OG=/^Y+$/,FG=["D","DD","YY","YYYY"];function IG(e){return DG.test(e)}function RG(e){return OG.test(e)}function MG(e,t,r){const s=LG(e,t,r);if(console.warn(s),FG.includes(e))throw new RangeError(s)}function LG(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VG=/^'([^]*?)'?$/,$G=/''/g,zG=/[a-zA-Z]/;function Ot(e,t,r){var u,f,h,p,y,m,g,w;const s=nh(),a=(r==null?void 0:r.locale)??s.locale??CI,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((w=(g=s.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=Rt(e);if(!GK(l))throw new RangeError("Invalid time value");let c=t.match(UG).map(v=>{const _=v[0];if(_==="p"||_==="P"){const N=PG[_];return N(v,a.formatLong)}return v}).join("").match(BG).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:qG(v)};if(kb[_])return{isToken:!0,value:v};if(_.match(zG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const _=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&RG(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&IG(_))&&MG(_,t,String(e));const N=kb[_[0]];return N(l,_,a.localize,d)}).join("")}function qG(e){const t=e.match(VG);return t?t[1].replace($G,"'"):e}function WG(e){const t=Rt(e),r=t.getFullYear(),s=t.getMonth(),a=As(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function HG(e){return Math.trunc(+Rt(e)/1e3)}function KG(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function GG(e,t){return QK(KG(e),ds(e),t)+1}function Di(e,t){const r=Rt(e),s=Rt(t);return r.getTime()>s.getTime()}function Ao(e,t){const r=Rt(e),s=Rt(t);return+r<+s}function Qs(e,t){const r=Rt(e),s=Rt(t);return+r==+s}function y_(e,t){const r=Rt(e),s=Rt(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function QG(e,t){const r=Rt(e),s=Rt(t);return r.getFullYear()===s.getFullYear()}function ig(e,t){return Bn(e,-t)}function og(e,t){const r=Rt(e),s=r.getFullYear(),a=r.getDate(),i=As(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=WG(i);return r.setMonth(t,Math.min(a,o)),r}function Ob(e,t){const r=Rt(e);return isNaN(+r)?As(e,NaN):(r.setFullYear(t),r)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var C0={};C0.version="0.18.5";var OI=1252,YG=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],FI=function(e){YG.indexOf(e)!=-1&&(OI=e)};function XG(){FI(1252)}var bf=function(e){FI(e)};function ZG(){bf(1200),XG()}var $h=function(t){return String.fromCharCode(t)},Fb=function(t){return String.fromCharCode(t)},Ko,lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jf(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=lo.charAt(i)+lo.charAt(o)+lo.charAt(l)+lo.charAt(c);return t}function Oi(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=lo.indexOf(e.charAt(d++)),o=lo.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=lo.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=lo.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Mi=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function kl(e){return Vt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Ib(e){return Vt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var va=function(t){return Vt?Mi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Qp(e){if(typeof ArrayBuffer>"u")return va(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function sh(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function JG(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var mn=Vt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Mi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function eQ(e){for(var t=[],r=0,s=e.length+250,a=kl(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=kl(65535),s=65530)}return t.push(a.slice(0,r)),mn(t)}var Au=/\u0000/g,zh=/[\u0001-\u0006]/g;function Dc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _a(e,t){var r=""+e;return r.length>=t?r:Er("0",t-r.length)+r}function __(e,t){var r=""+e;return r.length>=t?r:Er(" ",t-r.length)+r}function k0(e,t){var r=""+e;return r.length>=t?r:r+Er(" ",t-r.length)}function tQ(e,t){var r=""+Math.round(e);return r.length>=t?r:Er("0",t-r.length)+r}function rQ(e,t){var r=""+e;return r.length>=t?r:Er("0",t-r.length)+r}var Rb=Math.pow(2,32);function Yl(e,t){if(e>Rb||e<-Rb)return tQ(e,t);var r=Math.round(e);return rQ(r,t)}function A0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Mb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],lg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nQ(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Tr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Lb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sQ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function P0(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var h=Math.floor(s*l/u);return[h,s*l-h*u,u]}function qh(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=uQ(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var II=new Date(1899,11,31,0,0,0),aQ=II.getTime(),iQ=new Date(1900,2,1,0,0,0);function RI(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=iQ&&(r+=24*60*60*1e3),(r-(aQ+(e.getTimezoneOffset()-II.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function w_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function oQ(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lQ(e){var t=e<0?12:11,r=w_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function cQ(e){var t=w_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function dQ(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=lQ(e):t===10?r=e.toFixed(10).substr(0,12):r=cQ(e),w_(oQ(r.toUpperCase()))}function dy(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):dQ(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Po(14,RI(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function uQ(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function fQ(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return lg[r.m-1][1];case 5:return lg[r.m-1][0];default:return lg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return Mb[r.q][0];default:return Mb[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_a(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=_a(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?_a(c,d):"";return u}function co(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var MI=/%/g;function hQ(e,t,r){var s=t.replace(MI,""),a=t.length-s.length;return yi(e,s,r*Math.pow(10,2*a))+Er("%",a)}function mQ(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return yi(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function LI(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LI(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BI=/# (\?+)( ?)\/( ?)(\d+)/;function pQ(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Er(" ",e[1].length+1+e[4].length):__(o,e[1].length)+e[2]+"/"+e[3]+_a(l,e[4].length))}function xQ(e,t,r){return r+(t===0?"":""+t)+Er(" ",e[1].length+2+e[4].length)}var UI=/^#*0*\.([0#]+)/,VI=/\).*[0#]/,$I=/\(###\) ###\\?-####/;function Un(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Bb(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Ub(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function gQ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function vQ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Is(e,t,r){if(e.charCodeAt(0)===40&&!t.match(VI)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Is("n",s,r):"("+Is("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mQ(e,t,r);if(t.indexOf("%")!==-1)return hQ(e,t,r);if(t.indexOf("E")!==-1)return LI(t,r);if(t.charCodeAt(0)===36)return"$"+Is(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Yl(c,t.length);if(t.match(/^[#?]+$/))return a=Yl(r,0),a==="0"&&(a=""),a.length>t.length?a:Un(t.substr(0,t.length-a.length))+a;if(i=t.match(BI))return pQ(i,c,d);if(t.match(/^#+0+$/))return d+Yl(c,t.length-t.indexOf("0"));if(i=t.match(UI))return a=Bb(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Un(i[1])).replace(/\.$/,"."+Un(i[1])).replace(/\.(\d*)$/,function(y,m){return"."+m+Er("0",Un(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+Bb(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+co(Yl(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Is(e,t,-r):co(""+(Math.floor(r)+gQ(r,i[1].length)))+"."+_a(Ub(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Is(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Dc(Is(e,t.replace(/[\\-]/g,""),r)),o=0,Dc(Dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($I))return a=Is(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=P0(c,Math.pow(10,o)-1,!1),a=""+d,u=yi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=k0(l[2],o),u.length<i[4].length&&(u=Un(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=P0(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?__(l[1],o)+i[2]+"/"+i[3]+k0(l[2],o):Er(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Yl(r,0),t.length<=a.length?a:Un(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Un(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Ub(r,i[1].length),r<0?"-"+Is(e,t,-r):co(vQ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_a(0,3-y.length):"")+y})+"."+_a(o,i[1].length);switch(t){case"###,##0.00":return Is(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=co(Yl(c,0));return p!=="0"?d+p:"";case"###,###.00":return Is(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Is(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yQ(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return yi(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function _Q(e,t,r){var s=t.replace(MI,""),a=t.length-s.length;return yi(e,s,r*Math.pow(10,2*a))+Er("%",a)}function zI(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+zI(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(VI)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fa("n",s,r):"("+Fa("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yQ(e,t,r);if(t.indexOf("%")!==-1)return _Q(e,t,r);if(t.indexOf("E")!==-1)return zI(t,r);if(t.charCodeAt(0)===36)return"$"+Fa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+_a(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Un(t.substr(0,t.length-a.length))+a;if(i=t.match(BI))return xQ(i,c,d);if(t.match(/^#+0+$/))return d+_a(c,t.length-t.indexOf("0"));if(i=t.match(UI))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Un(i[1])).replace(/\.$/,"."+Un(i[1])),a=a.replace(/\.(\d*)$/,function(y,m){return"."+m+Er("0",Un(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+co(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fa(e,t,-r):co(""+r)+"."+Er("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Fa(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Dc(Fa(e,t.replace(/[\\-]/g,""),r)),o=0,Dc(Dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($I))return a=Fa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=P0(c,Math.pow(10,o)-1,!1),a=""+d,u=yi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=k0(l[2],o),u.length<i[4].length&&(u=Un(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=P0(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?__(l[1],o)+i[2]+"/"+i[3]+k0(l[2],o):Er(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Un(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Un(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fa(e,t,-r):co(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_a(0,3-y.length):"")+y})+"."+_a(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=co(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return Fa(e,t.slice(0,t.lastIndexOf(".")),r)+Un(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function yi(e,t,r){return(r|0)===r?Fa(e,t,r):Is(e,t,r)}function wQ(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var qI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WI(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":A0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(qI))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function NQ(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!A0(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=qh(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=qh(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(d==null&&(d=qh(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(m.v=d.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(m.v=d.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(m.v=d.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),d==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(qI)){if(d==null&&(d=qh(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",WI(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,w=0,v;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",g<1&&(g=1);break;case"s":(v=a[o].v.match(/\.0+$/))&&(w=Math.max(w,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",N;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=fQ(a[o].t.charCodeAt(0),a[o].v,d,w),a[o].t="t";break;case"n":case"?":for(N=o+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[o].v+=a[N].v,a[N]={v:"",t:";"},++N;_+=a[o].v,o=N-1;break;case"G":a[o].t="t",a[o].v=dy(t,r);break}var T="",S,b;if(_.length>0){_.charCodeAt(0)==40?(S=t<0&&_.charCodeAt(0)===45?-t:t,b=yi("n",_,S)):(S=t<0&&s>1?-t:t,b=yi("n",_,S),S<0&&a[0]&&a[0].t=="t"&&(b=b.substr(1),a[0].v="-"+a[0].v)),N=b.length-1;var I=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){I=o;break}var D=a.length;if(I===a.length&&b.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(N>=a[o].v.length-1?(N-=a[o].v.length,a[o].v=b.substr(N+1,a[o].v.length)):N<0?a[o].v="":(a[o].v=b.substr(0,N+1),N=-1),a[o].t="t",D=o);N>=0&&D<a.length&&(a[D].v=b.substr(0,N+1)+a[D].v)}else if(I!==a.length&&b.indexOf("E")===-1){for(N=b.indexOf(".")-1,o=I;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")-1:a[o].v.length-1,T=a[o].v.substr(u+1);u>=0;--u)N>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(T=b.charAt(N--)+T);a[o].v=T,a[o].t="t",D=o}for(N>=0&&D<a.length&&(a[D].v=b.substr(0,N+1)+a[D].v),N=b.indexOf(".")+1,o=I;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==I)){for(u=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")+1:0,T=a[o].v.substr(0,u);u<a[o].v.length;++u)N<b.length&&(T+=b.charAt(N++));a[o].v=T,a[o].t="t",D=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=yi(a[o].t,a[o].v,S),a[o].t="t");var C="";for(o=0;o!==a.length;++o)a[o]!=null&&(C+=a[o].v);return C}var Vb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $b(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function bQ(e,t){var r=wQ(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Vb),l=r[1].match(Vb);return $b(t,o)?[s,r[0]]:$b(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function Po(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Tr)[e],s==null&&(s=r.table&&r.table[Lb[e]]||Tr[Lb[e]]),s==null&&(s=sQ[e]||"General");break}if(A0(s,0))return dy(t,r);t instanceof Date&&(t=RI(t,r.date1904));var a=bQ(s,t);if(A0(a[1]))return dy(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return NQ(a[1],t,r,a[0])}function HI(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Tr[r]==null){t<0&&(t=r);continue}if(Tr[r]==e){t=r;break}}t<0&&(t=391)}return Tr[t]=e,t}function Yp(e){for(var t=0;t!=392;++t)e[t]!==void 0&&HI(e[t],t)}function Xp(){Tr=nQ()}var KI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function jQ(e){var t=typeof e=="number"?Tr[e]:e;return t=t.replace(KI,"(\\d+)"),new RegExp("^"+t+"$")}function SQ(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(KI)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var EQ=function(){var e={};e.version="1.2.0";function t(){for(var b=0,I=new Array(256),D=0;D!=256;++D)b=D,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,I[D]=b;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function s(b){var I=0,D=0,C=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)R[C]=b[C];for(C=0;C!=256;++C)for(D=b[C],I=256+C;I<4096;I+=256)D=R[I]=D>>>8^b[D&255];var k=[];for(C=1;C!=16;++C)k[C-1]=typeof Int32Array<"u"?R.subarray(C*256,C*256+256):R.slice(C*256,C*256+256);return k}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],h=a[7],p=a[8],y=a[9],m=a[10],g=a[11],w=a[12],v=a[13],_=a[14];function N(b,I){for(var D=I^-1,C=0,R=b.length;C<R;)D=D>>>8^r[(D^b.charCodeAt(C++))&255];return~D}function T(b,I){for(var D=I^-1,C=b.length-15,R=0;R<C;)D=_[b[R++]^D&255]^v[b[R++]^D>>8&255]^w[b[R++]^D>>16&255]^g[b[R++]^D>>>24]^m[b[R++]]^y[b[R++]]^p[b[R++]]^h[b[R++]]^f[b[R++]]^u[b[R++]]^d[b[R++]]^c[b[R++]]^l[b[R++]]^o[b[R++]]^i[b[R++]]^r[b[R++]];for(C+=15;R<C;)D=D>>>8^r[(D^b[R++])&255];return~D}function S(b,I){for(var D=I^-1,C=0,R=b.length,k=0,L=0;C<R;)k=b.charCodeAt(C++),k<128?D=D>>>8^r[(D^k)&255]:k<2048?(D=D>>>8^r[(D^(192|k>>6&31))&255],D=D>>>8^r[(D^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,L=b.charCodeAt(C++)&1023,D=D>>>8^r[(D^(240|k>>8&7))&255],D=D>>>8^r[(D^(128|k>>2&63))&255],D=D>>>8^r[(D^(128|L>>6&15|(k&3)<<4))&255],D=D>>>8^r[(D^(128|L&63))&255]):(D=D>>>8^r[(D^(224|k>>12&15))&255],D=D>>>8^r[(D^(128|k>>6&63))&255],D=D>>>8^r[(D^(128|k&63))&255]);return~D}return e.table=r,e.bstr=N,e.buf=T,e.str=S,e}(),Jt=function(){var t={};t.version="1.2.1";function r(A,W){for(var B=A.split("/"),z=W.split("/"),H=0,Q=0,xe=Math.min(B.length,z.length);H<xe;++H){if(Q=B[H].length-z[H].length)return Q;if(B[H]!=z[H])return B[H]<z[H]?-1:1}return B.length-z.length}function s(A){if(A.charAt(A.length-1)=="/")return A.slice(0,-1).indexOf("/")===-1?A:s(A.slice(0,-1));var W=A.lastIndexOf("/");return W===-1?A:A.slice(0,W+1)}function a(A){if(A.charAt(A.length-1)=="/")return a(A.slice(0,-1));var W=A.lastIndexOf("/");return W===-1?A:A.slice(W+1)}function i(A,W){typeof W=="string"&&(W=new Date(W));var B=W.getHours();B=B<<6|W.getMinutes(),B=B<<5|W.getSeconds()>>>1,A.write_shift(2,B);var z=W.getFullYear()-1980;z=z<<4|W.getMonth()+1,z=z<<5|W.getDate(),A.write_shift(2,z)}function o(A){var W=A.read_shift(2)&65535,B=A.read_shift(2)&65535,z=new Date,H=B&31;B>>>=5;var Q=B&15;B>>>=4,z.setMilliseconds(0),z.setFullYear(B+1980),z.setMonth(Q-1),z.setDate(H);var xe=W&31;W>>>=5;var Ce=W&63;return W>>>=6,z.setHours(W),z.setMinutes(Ce),z.setSeconds(xe<<1),z}function l(A){ys(A,0);for(var W={},B=0;A.l<=A.length-4;){var z=A.read_shift(2),H=A.read_shift(2),Q=A.l+H,xe={};switch(z){case 21589:B=A.read_shift(1),B&1&&(xe.mtime=A.read_shift(4)),H>5&&(B&2&&(xe.atime=A.read_shift(4)),B&4&&(xe.ctime=A.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}A.l=Q,W[z]=xe}return W}var c;function d(){return c||(c={})}function u(A,W){if(A[0]==80&&A[1]==75)return sa(A,W);if((A[0]|32)==109&&(A[1]|32)==105)return y5(A,W);if(A.length<512)throw new Error("CFB file size "+A.length+" < 512");var B=3,z=512,H=0,Q=0,xe=0,Ce=0,me=0,ge=[],Ne=A.slice(0,512);ys(Ne,0);var Le=f(Ne);switch(B=Le[0],B){case 3:z=512;break;case 4:z=4096;break;case 0:if(Le[1]==0)return sa(A,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}z!==512&&(Ne=A.slice(0,z),ys(Ne,28));var Ge=A.slice(0,z);h(Ne,B);var it=Ne.read_shift(4,"i");if(B===3&&it!==0)throw new Error("# Directory Sectors: Expected 0 saw "+it);Ne.l+=4,xe=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),Ce=Ne.read_shift(4,"i"),H=Ne.read_shift(4,"i"),me=Ne.read_shift(4,"i"),Q=Ne.read_shift(4,"i");for(var Ve=-1,tt=0;tt<109&&(Ve=Ne.read_shift(4,"i"),!(Ve<0));++tt)ge[tt]=Ve;var Nt=p(A,z);g(me,Q,Nt,z,ge);var mr=v(Nt,xe,ge,z);mr[xe].name="!Directory",H>0&&Ce!==L&&(mr[Ce].name="!MiniFAT"),mr[ge[0]].name="!FAT",mr.fat_addrs=ge,mr.ssz=z;var pr={},jn=[],Ld=[],Bd=[];_(xe,mr,Nt,jn,H,pr,Ld,Ce),y(Ld,Bd,jn),jn.shift();var Ud={FileIndex:Ld,FullPaths:Bd};return W&&W.raw&&(Ud.raw={header:Ge,sectors:Nt}),Ud}function f(A){if(A[A.l]==80&&A[A.l+1]==75)return[0,0];A.chk(ie,"Header Signature: "),A.l+=16;var W=A.read_shift(2,"u");return[A.read_shift(2,"u"),W]}function h(A,W){var B=9;switch(A.l+=2,B=A.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}A.chk("0600","Mini Sector Shift: "),A.chk("000000000000","Reserved: ")}function p(A,W){for(var B=Math.ceil(A.length/W)-1,z=[],H=1;H<B;++H)z[H-1]=A.slice(H*W,(H+1)*W);return z[B-1]=A.slice(B*W),z}function y(A,W,B){for(var z=0,H=0,Q=0,xe=0,Ce=0,me=B.length,ge=[],Ne=[];z<me;++z)ge[z]=Ne[z]=z,W[z]=B[z];for(;Ce<Ne.length;++Ce)z=Ne[Ce],H=A[z].L,Q=A[z].R,xe=A[z].C,ge[z]===z&&(H!==-1&&ge[H]!==H&&(ge[z]=ge[H]),Q!==-1&&ge[Q]!==Q&&(ge[z]=ge[Q])),xe!==-1&&(ge[xe]=z),H!==-1&&z!=ge[z]&&(ge[H]=ge[z],Ne.lastIndexOf(H)<Ce&&Ne.push(H)),Q!==-1&&z!=ge[z]&&(ge[Q]=ge[z],Ne.lastIndexOf(Q)<Ce&&Ne.push(Q));for(z=1;z<me;++z)ge[z]===z&&(Q!==-1&&ge[Q]!==Q?ge[z]=ge[Q]:H!==-1&&ge[H]!==H&&(ge[z]=ge[H]));for(z=1;z<me;++z)if(A[z].type!==0){if(Ce=z,Ce!=ge[Ce])do Ce=ge[Ce],W[z]=W[Ce]+"/"+W[z];while(Ce!==0&&ge[Ce]!==-1&&Ce!=ge[Ce]);ge[z]=-1}for(W[0]+="/",z=1;z<me;++z)A[z].type!==2&&(W[z]+="/")}function m(A,W,B){for(var z=A.start,H=A.size,Q=[],xe=z;B&&H>0&&xe>=0;)Q.push(W.slice(xe*k,xe*k+k)),H-=k,xe=Go(B,xe*4);return Q.length===0?Ee(0):mn(Q).slice(0,A.size)}function g(A,W,B,z,H){var Q=L;if(A===L){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(A!==-1){var xe=B[A],Ce=(z>>>2)-1;if(!xe)return;for(var me=0;me<Ce&&(Q=Go(xe,me*4))!==L;++me)H.push(Q);g(Go(xe,z-4),W-1,B,z,H)}}function w(A,W,B,z,H){var Q=[],xe=[];H||(H=[]);var Ce=z-1,me=0,ge=0;for(me=W;me>=0;){H[me]=!0,Q[Q.length]=me,xe.push(A[me]);var Ne=B[Math.floor(me*4/z)];if(ge=me*4&Ce,z<4+ge)throw new Error("FAT boundary crossed: "+me+" 4 "+z);if(!A[Ne])break;me=Go(A[Ne],ge)}return{nodes:Q,data:Yb([xe])}}function v(A,W,B,z){var H=A.length,Q=[],xe=[],Ce=[],me=[],ge=z-1,Ne=0,Le=0,Ge=0,it=0;for(Ne=0;Ne<H;++Ne)if(Ce=[],Ge=Ne+W,Ge>=H&&(Ge-=H),!xe[Ge]){me=[];var Ve=[];for(Le=Ge;Le>=0;){Ve[Le]=!0,xe[Le]=!0,Ce[Ce.length]=Le,me.push(A[Le]);var tt=B[Math.floor(Le*4/z)];if(it=Le*4&ge,z<4+it)throw new Error("FAT boundary crossed: "+Le+" 4 "+z);if(!A[tt]||(Le=Go(A[tt],it),Ve[Le]))break}Q[Ge]={nodes:Ce,data:Yb([me])}}return Q}function _(A,W,B,z,H,Q,xe,Ce){for(var me=0,ge=z.length?2:0,Ne=W[A].data,Le=0,Ge=0,it;Le<Ne.length;Le+=128){var Ve=Ne.slice(Le,Le+128);ys(Ve,64),Ge=Ve.read_shift(2),it=E_(Ve,0,Ge-ge),z.push(it);var tt={name:it,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Nt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Nt!==0&&(tt.ct=N(Ve,Ve.l-8));var mr=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);mr!==0&&(tt.mt=N(Ve,Ve.l-8)),tt.start=Ve.read_shift(4,"i"),tt.size=Ve.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=L,tt.name=""),tt.type===5?(me=tt.start,H>0&&me!==L&&(W[me].name="!StreamData")):tt.size>=4096?(tt.storage="fat",W[tt.start]===void 0&&(W[tt.start]=w(B,tt.start,W.fat_addrs,W.ssz)),W[tt.start].name=tt.name,tt.content=W[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:me!==L&&tt.start!==L&&W[me]&&(tt.content=m(tt,W[me].data,(W[Ce]||{}).data))),tt.content&&ys(tt.content,0),Q[it]=tt,xe.push(tt)}}function N(A,W){return new Date((bs(A,W+4)/1e7*Math.pow(2,32)+bs(A,W)/1e7-11644473600)*1e3)}function T(A,W){return d(),u(c.readFileSync(A),W)}function S(A,W){var B=W&&W.type;switch(B||Vt&&Buffer.isBuffer(A)&&(B="buffer"),B||"base64"){case"file":return T(A,W);case"base64":return u(va(Oi(A)),W);case"binary":return u(va(A),W)}return u(A,W)}function b(A,W){var B=W||{},z=B.root||"Root Entry";if(A.FullPaths||(A.FullPaths=[]),A.FileIndex||(A.FileIndex=[]),A.FullPaths.length!==A.FileIndex.length)throw new Error("inconsistent CFB structure");A.FullPaths.length===0&&(A.FullPaths[0]=z+"/",A.FileIndex[0]={name:z,type:5}),B.CLSID&&(A.FileIndex[0].clsid=B.CLSID),I(A)}function I(A){var W="Sh33tJ5";if(!Jt.find(A,"/"+W)){var B=Ee(4);B[0]=55,B[1]=B[3]=50,B[2]=54,A.FileIndex.push({name:W,type:2,content:B,size:4,L:69,R:69,C:69}),A.FullPaths.push(A.FullPaths[0]+W),D(A)}}function D(A,W){b(A);for(var B=!1,z=!1,H=A.FullPaths.length-1;H>=0;--H){var Q=A.FileIndex[H];switch(Q.type){case 0:z?B=!0:(A.FileIndex.pop(),A.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(Q.R*Q.L*Q.C)&&(B=!0),Q.R>-1&&Q.L>-1&&Q.R==Q.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!W)){var xe=new Date(1987,1,19),Ce=0,me=Object.create?Object.create(null):{},ge=[];for(H=0;H<A.FullPaths.length;++H)me[A.FullPaths[H]]=!0,A.FileIndex[H].type!==0&&ge.push([A.FullPaths[H],A.FileIndex[H]]);for(H=0;H<ge.length;++H){var Ne=s(ge[H][0]);z=me[Ne],z||(ge.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:se,ct:xe,mt:xe,content:null}]),me[Ne]=!0)}for(ge.sort(function(it,Ve){return r(it[0],Ve[0])}),A.FullPaths=[],A.FileIndex=[],H=0;H<ge.length;++H)A.FullPaths[H]=ge[H][0],A.FileIndex[H]=ge[H][1];for(H=0;H<ge.length;++H){var Le=A.FileIndex[H],Ge=A.FullPaths[H];if(Le.name=a(Ge).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||se,H===0)Le.C=ge.length>1?1:-1,Le.size=0,Le.type=5;else if(Ge.slice(-1)=="/"){for(Ce=H+1;Ce<ge.length&&s(A.FullPaths[Ce])!=Ge;++Ce);for(Le.C=Ce>=ge.length?-1:Ce,Ce=H+1;Ce<ge.length&&s(A.FullPaths[Ce])!=s(Ge);++Ce);Le.R=Ce>=ge.length?-1:Ce,Le.type=1}else s(A.FullPaths[H+1]||"")==s(Ge)&&(Le.R=H+1),Le.type=2}}}function C(A,W){var B=W||{};if(B.fileType=="mad")return _5(A,B);switch(D(A),B.fileType){case"zip":return h5(A,B)}var z=function(it){for(var Ve=0,tt=0,Nt=0;Nt<it.FileIndex.length;++Nt){var mr=it.FileIndex[Nt];if(mr.content){var pr=mr.content.length;pr>0&&(pr<4096?Ve+=pr+63>>6:tt+=pr+511>>9)}}for(var jn=it.FullPaths.length+3>>2,Ld=Ve+7>>3,Bd=Ve+127>>7,Ud=Ld+tt+jn+Bd,zo=Ud+127>>7,cx=zo<=109?0:Math.ceil((zo-109)/127);Ud+zo+cx+127>>7>zo;)cx=++zo<=109?0:Math.ceil((zo-109)/127);var si=[1,cx,zo,Bd,jn,tt,Ve,0];return it.FileIndex[0].size=Ve<<6,si[7]=(it.FileIndex[0].start=si[0]+si[1]+si[2]+si[3]+si[4]+si[5])+(si[6]+7>>3),si}(A),H=Ee(z[7]<<9),Q=0,xe=0;{for(Q=0;Q<8;++Q)H.write_shift(1,fe[Q]);for(Q=0;Q<8;++Q)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),Q=0;Q<3;++Q)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,z[2]),H.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:L),H.write_shift(4,z[3]),H.write_shift(-4,z[1]?z[0]-1:L),H.write_shift(4,z[1]),Q=0;Q<109;++Q)H.write_shift(-4,Q<z[2]?z[1]+Q:-1)}if(z[1])for(xe=0;xe<z[1];++xe){for(;Q<236+xe*127;++Q)H.write_shift(-4,Q<z[2]?z[1]+Q:-1);H.write_shift(-4,xe===z[1]-1?L:xe+1)}var Ce=function(it){for(xe+=it;Q<xe-1;++Q)H.write_shift(-4,Q+1);it&&(++Q,H.write_shift(-4,L))};for(xe=Q=0,xe+=z[1];Q<xe;++Q)H.write_shift(-4,ce.DIFSECT);for(xe+=z[2];Q<xe;++Q)H.write_shift(-4,ce.FATSECT);Ce(z[3]),Ce(z[4]);for(var me=0,ge=0,Ne=A.FileIndex[0];me<A.FileIndex.length;++me)Ne=A.FileIndex[me],Ne.content&&(ge=Ne.content.length,!(ge<4096)&&(Ne.start=xe,Ce(ge+511>>9)));for(Ce(z[6]+7>>3);H.l&511;)H.write_shift(-4,ce.ENDOFCHAIN);for(xe=Q=0,me=0;me<A.FileIndex.length;++me)Ne=A.FileIndex[me],Ne.content&&(ge=Ne.content.length,!(!ge||ge>=4096)&&(Ne.start=xe,Ce(ge+63>>6)));for(;H.l&511;)H.write_shift(-4,ce.ENDOFCHAIN);for(Q=0;Q<z[4]<<2;++Q){var Le=A.FullPaths[Q];if(!Le||Le.length===0){for(me=0;me<17;++me)H.write_shift(4,0);for(me=0;me<3;++me)H.write_shift(4,-1);for(me=0;me<12;++me)H.write_shift(4,0);continue}Ne=A.FileIndex[Q],Q===0&&(Ne.start=Ne.size?Ne.start-1:L);var Ge=Q===0&&B.root||Ne.name;if(ge=2*(Ge.length+1),H.write_shift(64,Ge,"utf16le"),H.write_shift(2,ge),H.write_shift(1,Ne.type),H.write_shift(1,Ne.color),H.write_shift(-4,Ne.L),H.write_shift(-4,Ne.R),H.write_shift(-4,Ne.C),Ne.clsid)H.write_shift(16,Ne.clsid,"hex");else for(me=0;me<4;++me)H.write_shift(4,0);H.write_shift(4,Ne.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,Ne.start),H.write_shift(4,Ne.size),H.write_shift(4,0)}for(Q=1;Q<A.FileIndex.length;++Q)if(Ne=A.FileIndex[Q],Ne.size>=4096)if(H.l=Ne.start+1<<9,Vt&&Buffer.isBuffer(Ne.content))Ne.content.copy(H,H.l,0,Ne.size),H.l+=Ne.size+511&-512;else{for(me=0;me<Ne.size;++me)H.write_shift(1,Ne.content[me]);for(;me&511;++me)H.write_shift(1,0)}for(Q=1;Q<A.FileIndex.length;++Q)if(Ne=A.FileIndex[Q],Ne.size>0&&Ne.size<4096)if(Vt&&Buffer.isBuffer(Ne.content))Ne.content.copy(H,H.l,0,Ne.size),H.l+=Ne.size+63&-64;else{for(me=0;me<Ne.size;++me)H.write_shift(1,Ne.content[me]);for(;me&63;++me)H.write_shift(1,0)}if(Vt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function R(A,W){var B=A.FullPaths.map(function(me){return me.toUpperCase()}),z=B.map(function(me){var ge=me.split("/");return ge[ge.length-(me.slice(-1)=="/"?2:1)]}),H=!1;W.charCodeAt(0)===47?(H=!0,W=B[0].slice(0,-1)+W):H=W.indexOf("/")!==-1;var Q=W.toUpperCase(),xe=H===!0?B.indexOf(Q):z.indexOf(Q);if(xe!==-1)return A.FileIndex[xe];var Ce=!Q.match(zh);for(Q=Q.replace(Au,""),Ce&&(Q=Q.replace(zh,"!")),xe=0;xe<B.length;++xe)if((Ce?B[xe].replace(zh,"!"):B[xe]).replace(Au,"")==Q||(Ce?z[xe].replace(zh,"!"):z[xe]).replace(Au,"")==Q)return A.FileIndex[xe];return null}var k=64,L=-2,ie="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(A,W,B){d();var z=C(A,B);c.writeFileSync(W,z)}function oe(A){for(var W=new Array(A.length),B=0;B<A.length;++B)W[B]=String.fromCharCode(A[B]);return W.join("")}function ee(A,W){var B=C(A,W);switch(W&&W.type||"buffer"){case"file":return d(),c.writeFileSync(W.filename,B),B;case"binary":return typeof B=="string"?B:oe(B);case"base64":return jf(typeof B=="string"?B:oe(B));case"buffer":if(Vt)return Buffer.isBuffer(B)?B:Mi(B);case"array":return typeof B=="string"?va(B):B}return B}var we;function P(A){try{var W=A.InflateRaw,B=new W;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)we=A;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function F(A,W){if(!we)return kr(A,W);var B=we.InflateRaw,z=new B,H=z._processChunk(A.slice(A.l),z._finishFlushFlag);return A.l+=z.bytesRead,H}function U(A){return we?we.deflateRawSync(A):de(A)}var j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(A){var W=(A<<1|A<<11)&139536|(A<<5|A<<15)&558144;return(W>>16|W>>8|W)&255}for(var le=typeof Uint8Array<"u",pe=le?new Uint8Array(256):[],He=0;He<256;++He)pe[He]=_e(He);function Ye(A,W){var B=pe[A&255];return W<=8?B>>>8-W:(B=B<<8|pe[A>>8&255],W<=16?B>>>16-W:(B=B<<8|pe[A>>16&255],B>>>24-W))}function Pt(A,W){var B=W&7,z=W>>>3;return(A[z]|(B<=6?0:A[z+1]<<8))>>>B&3}function pt(A,W){var B=W&7,z=W>>>3;return(A[z]|(B<=5?0:A[z+1]<<8))>>>B&7}function rr(A,W){var B=W&7,z=W>>>3;return(A[z]|(B<=4?0:A[z+1]<<8))>>>B&15}function mt(A,W){var B=W&7,z=W>>>3;return(A[z]|(B<=3?0:A[z+1]<<8))>>>B&31}function We(A,W){var B=W&7,z=W>>>3;return(A[z]|(B<=1?0:A[z+1]<<8))>>>B&127}function nr(A,W,B){var z=W&7,H=W>>>3,Q=(1<<B)-1,xe=A[H]>>>z;return B<8-z||(xe|=A[H+1]<<8-z,B<16-z)||(xe|=A[H+2]<<16-z,B<24-z)||(xe|=A[H+3]<<24-z),xe&Q}function cr(A,W,B){var z=W&7,H=W>>>3;return z<=5?A[H]|=(B&7)<<z:(A[H]|=B<<z&255,A[H+1]=(B&7)>>8-z),W+3}function Nr(A,W,B){var z=W&7,H=W>>>3;return B=(B&1)<<z,A[H]|=B,W+1}function br(A,W,B){var z=W&7,H=W>>>3;return B<<=z,A[H]|=B&255,B>>>=8,A[H+1]=B,W+8}function te(A,W,B){var z=W&7,H=W>>>3;return B<<=z,A[H]|=B&255,B>>>=8,A[H+1]=B&255,A[H+2]=B>>>8,W+16}function he(A,W){var B=A.length,z=2*B>W?2*B:W+5,H=0;if(B>=W)return A;if(Vt){var Q=Ib(z);if(A.copy)A.copy(Q);else for(;H<A.length;++H)Q[H]=A[H];return Q}else if(le){var xe=new Uint8Array(z);if(xe.set)xe.set(A);else for(;H<B;++H)xe[H]=A[H];return xe}return A.length=z,A}function je(A){for(var W=new Array(A),B=0;B<A;++B)W[B]=0;return W}function Ke(A,W,B){var z=1,H=0,Q=0,xe=0,Ce=0,me=A.length,ge=le?new Uint16Array(32):je(32);for(Q=0;Q<32;++Q)ge[Q]=0;for(Q=me;Q<B;++Q)A[Q]=0;me=A.length;var Ne=le?new Uint16Array(me):je(me);for(Q=0;Q<me;++Q)ge[H=A[Q]]++,z<H&&(z=H),Ne[Q]=0;for(ge[0]=0,Q=1;Q<=z;++Q)ge[Q+16]=Ce=Ce+ge[Q-1]<<1;for(Q=0;Q<me;++Q)Ce=A[Q],Ce!=0&&(Ne[Q]=ge[Ce+16]++);var Le=0;for(Q=0;Q<me;++Q)if(Le=A[Q],Le!=0)for(Ce=Ye(Ne[Q],z)>>z-Le,xe=(1<<z+4-Le)-1;xe>=0;--xe)W[Ce|xe<<Le]=Le&15|Q<<4;return z}var $e=le?new Uint16Array(512):je(512),Ie=le?new Uint16Array(32):je(32);if(!le){for(var Xe=0;Xe<512;++Xe)$e[Xe]=0;for(Xe=0;Xe<32;++Xe)Ie[Xe]=0}(function(){for(var A=[],W=0;W<32;W++)A.push(5);Ke(A,Ie,32);var B=[];for(W=0;W<=143;W++)B.push(8);for(;W<=255;W++)B.push(9);for(;W<=279;W++)B.push(7);for(;W<=287;W++)B.push(8);Ke(B,$e,288)})();var K=function(){for(var W=le?new Uint8Array(32768):[],B=0,z=0;B<J.length-1;++B)for(;z<J[B+1];++z)W[z]=B;for(;z<32768;++z)W[z]=29;var H=le?new Uint8Array(259):[];for(B=0,z=0;B<M.length-1;++B)for(;z<M[B+1];++z)H[z]=B;function Q(Ce,me){for(var ge=0;ge<Ce.length;){var Ne=Math.min(65535,Ce.length-ge),Le=ge+Ne==Ce.length;for(me.write_shift(1,+Le),me.write_shift(2,Ne),me.write_shift(2,~Ne&65535);Ne-- >0;)me[me.l++]=Ce[ge++]}return me.l}function xe(Ce,me){for(var ge=0,Ne=0,Le=le?new Uint16Array(32768):[];Ne<Ce.length;){var Ge=Math.min(65535,Ce.length-Ne);if(Ge<10){for(ge=cr(me,ge,+(Ne+Ge==Ce.length)),ge&7&&(ge+=8-(ge&7)),me.l=ge/8|0,me.write_shift(2,Ge),me.write_shift(2,~Ge&65535);Ge-- >0;)me[me.l++]=Ce[Ne++];ge=me.l*8;continue}ge=cr(me,ge,+(Ne+Ge==Ce.length)+2);for(var it=0;Ge-- >0;){var Ve=Ce[Ne];it=(it<<5^Ve)&32767;var tt=-1,Nt=0;if((tt=Le[it])&&(tt|=Ne&-32768,tt>Ne&&(tt-=32768),tt<Ne))for(;Ce[tt+Nt]==Ce[Ne+Nt]&&Nt<250;)++Nt;if(Nt>2){Ve=H[Nt],Ve<=22?ge=br(me,ge,pe[Ve+1]>>1)-1:(br(me,ge,3),ge+=5,br(me,ge,pe[Ve-23]>>5),ge+=3);var mr=Ve<8?0:Ve-4>>2;mr>0&&(te(me,ge,Nt-M[Ve]),ge+=mr),Ve=W[Ne-tt],ge=br(me,ge,pe[Ve]>>3),ge-=3;var pr=Ve<4?0:Ve-2>>1;pr>0&&(te(me,ge,Ne-tt-J[Ve]),ge+=pr);for(var jn=0;jn<Nt;++jn)Le[it]=Ne&32767,it=(it<<5^Ce[Ne])&32767,++Ne;Ge-=Nt-1}else Ve<=143?Ve=Ve+48:ge=Nr(me,ge,1),ge=br(me,ge,pe[Ve]),Le[it]=Ne&32767,++Ne}ge=br(me,ge,0)-1}return me.l=(ge+7)/8|0,me.l}return function(me,ge){return me.length<8?Q(me,ge):xe(me,ge)}}();function de(A){var W=Ee(50+Math.floor(A.length*1.1)),B=K(A,W);return W.slice(0,B)}var G=le?new Uint16Array(32768):je(32768),Ae=le?new Uint16Array(32768):je(32768),ye=le?new Uint16Array(128):je(128),gt=1,at=1;function et(A,W){var B=mt(A,W)+257;W+=5;var z=mt(A,W)+1;W+=5;var H=rr(A,W)+4;W+=4;for(var Q=0,xe=le?new Uint8Array(19):je(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,ge=le?new Uint8Array(8):je(8),Ne=le?new Uint8Array(8):je(8),Le=xe.length,Ge=0;Ge<H;++Ge)xe[j[Ge]]=Q=pt(A,W),me<Q&&(me=Q),ge[Q]++,W+=3;var it=0;for(ge[0]=0,Ge=1;Ge<=me;++Ge)Ne[Ge]=it=it+ge[Ge-1]<<1;for(Ge=0;Ge<Le;++Ge)(it=xe[Ge])!=0&&(Ce[Ge]=Ne[it]++);var Ve=0;for(Ge=0;Ge<Le;++Ge)if(Ve=xe[Ge],Ve!=0){it=pe[Ce[Ge]]>>8-Ve;for(var tt=(1<<7-Ve)-1;tt>=0;--tt)ye[it|tt<<Ve]=Ve&7|Ge<<3}var Nt=[];for(me=1;Nt.length<B+z;)switch(it=ye[We(A,W)],W+=it&7,it>>>=3){case 16:for(Q=3+Pt(A,W),W+=2,it=Nt[Nt.length-1];Q-- >0;)Nt.push(it);break;case 17:for(Q=3+pt(A,W),W+=3;Q-- >0;)Nt.push(0);break;case 18:for(Q=11+We(A,W),W+=7;Q-- >0;)Nt.push(0);break;default:Nt.push(it),me<it&&(me=it);break}var mr=Nt.slice(0,B),pr=Nt.slice(B);for(Ge=B;Ge<286;++Ge)mr[Ge]=0;for(Ge=z;Ge<30;++Ge)pr[Ge]=0;return gt=Ke(mr,G,286),at=Ke(pr,Ae,30),W}function Cr(A,W){if(A[0]==3&&!(A[1]&3))return[kl(W),2];for(var B=0,z=0,H=Ib(W||1<<18),Q=0,xe=H.length>>>0,Ce=0,me=0;!(z&1);){if(z=pt(A,B),B+=3,z>>>1)z>>1==1?(Ce=9,me=5):(B=et(A,B),Ce=gt,me=at);else{B&7&&(B+=8-(B&7));var ge=A[B>>>3]|A[(B>>>3)+1]<<8;if(B+=32,ge>0)for(!W&&xe<Q+ge&&(H=he(H,Q+ge),xe=H.length);ge-- >0;)H[Q++]=A[B>>>3],B+=8;continue}for(;;){!W&&xe<Q+32767&&(H=he(H,Q+32767),xe=H.length);var Ne=nr(A,B,Ce),Le=z>>>1==1?$e[Ne]:G[Ne];if(B+=Le&15,Le>>>=4,!(Le>>>8&255))H[Q++]=Le;else{if(Le==256)break;Le-=257;var Ge=Le<8?0:Le-4>>2;Ge>5&&(Ge=0);var it=Q+M[Le];Ge>0&&(it+=nr(A,B,Ge),B+=Ge),Ne=nr(A,B,me),Le=z>>>1==1?Ie[Ne]:Ae[Ne],B+=Le&15,Le>>>=4;var Ve=Le<4?0:Le-2>>1,tt=J[Le];for(Ve>0&&(tt+=nr(A,B,Ve),B+=Ve),!W&&xe<it&&(H=he(H,it+100),xe=H.length);Q<it;)H[Q]=H[Q-tt],++Q}}}return W?[H,B+7>>>3]:[H.slice(0,Q),B+7>>>3]}function kr(A,W){var B=A.slice(A.l||0),z=Cr(B,W);return A.l+=z[1],z[0]}function dr(A,W){if(A)typeof console<"u"&&console.error(W);else throw new Error(W)}function sa(A,W){var B=A;ys(B,0);var z=[],H=[],Q={FileIndex:z,FullPaths:H};b(Q,{root:W.root});for(var xe=B.length-4;(B[xe]!=80||B[xe+1]!=75||B[xe+2]!=5||B[xe+3]!=6)&&xe>=0;)--xe;B.l=xe+4,B.l+=4;var Ce=B.read_shift(2);B.l+=6;var me=B.read_shift(4);for(B.l=me,xe=0;xe<Ce;++xe){B.l+=20;var ge=B.read_shift(4),Ne=B.read_shift(4),Le=B.read_shift(2),Ge=B.read_shift(2),it=B.read_shift(2);B.l+=8;var Ve=B.read_shift(4),tt=l(B.slice(B.l+Le,B.l+Le+Ge));B.l+=Le+Ge+it;var Nt=B.l;B.l=Ve+4,f5(B,ge,Ne,Q,tt),B.l=Nt}return Q}function f5(A,W,B,z,H){A.l+=2;var Q=A.read_shift(2),xe=A.read_shift(2),Ce=o(A);if(Q&8257)throw new Error("Unsupported ZIP encryption");for(var me=A.read_shift(4),ge=A.read_shift(4),Ne=A.read_shift(4),Le=A.read_shift(2),Ge=A.read_shift(2),it="",Ve=0;Ve<Le;++Ve)it+=String.fromCharCode(A[A.l++]);if(Ge){var tt=l(A.slice(A.l,A.l+Ge));(tt[21589]||{}).mt&&(Ce=tt[21589].mt),((H||{})[21589]||{}).mt&&(Ce=H[21589].mt)}A.l+=Ge;var Nt=A.slice(A.l,A.l+ge);switch(xe){case 8:Nt=F(A,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var mr=!1;Q&8&&(me=A.read_shift(4),me==134695760&&(me=A.read_shift(4),mr=!0),ge=A.read_shift(4),Ne=A.read_shift(4)),ge!=W&&dr(mr,"Bad compressed size: "+W+" != "+ge),Ne!=B&&dr(mr,"Bad uncompressed size: "+B+" != "+Ne),lx(z,it,Nt,{unsafe:!0,mt:Ce})}function h5(A,W){var B=W||{},z=[],H=[],Q=Ee(1),xe=B.compression?8:0,Ce=0,me=0,ge=0,Ne=0,Le=0,Ge=A.FullPaths[0],it=Ge,Ve=A.FileIndex[0],tt=[],Nt=0;for(me=1;me<A.FullPaths.length;++me)if(it=A.FullPaths[me].slice(Ge.length),Ve=A.FileIndex[me],!(!Ve.size||!Ve.content||it=="Sh33tJ5")){var mr=Ne,pr=Ee(it.length);for(ge=0;ge<it.length;++ge)pr.write_shift(1,it.charCodeAt(ge)&127);pr=pr.slice(0,pr.l),tt[Le]=EQ.buf(Ve.content,0);var jn=Ve.content;xe==8&&(jn=U(jn)),Q=Ee(30),Q.write_shift(4,67324752),Q.write_shift(2,20),Q.write_shift(2,Ce),Q.write_shift(2,xe),Ve.mt?i(Q,Ve.mt):Q.write_shift(4,0),Q.write_shift(-4,tt[Le]),Q.write_shift(4,jn.length),Q.write_shift(4,Ve.content.length),Q.write_shift(2,pr.length),Q.write_shift(2,0),Ne+=Q.length,z.push(Q),Ne+=pr.length,z.push(pr),Ne+=jn.length,z.push(jn),Q=Ee(46),Q.write_shift(4,33639248),Q.write_shift(2,0),Q.write_shift(2,20),Q.write_shift(2,Ce),Q.write_shift(2,xe),Q.write_shift(4,0),Q.write_shift(-4,tt[Le]),Q.write_shift(4,jn.length),Q.write_shift(4,Ve.content.length),Q.write_shift(2,pr.length),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(4,0),Q.write_shift(4,mr),Nt+=Q.l,H.push(Q),Nt+=pr.length,H.push(pr),++Le}return Q=Ee(22),Q.write_shift(4,101010256),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,Le),Q.write_shift(2,Le),Q.write_shift(4,Nt),Q.write_shift(4,Ne),Q.write_shift(2,0),mn([mn(z),mn(H),Q])}var ph={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function m5(A,W){if(A.ctype)return A.ctype;var B=A.name||"",z=B.match(/\.([^\.]+)$/);return z&&ph[z[1]]||W&&(z=(B=W).match(/[\.\\]([^\.\\])+$/),z&&ph[z[1]])?ph[z[1]]:"application/octet-stream"}function p5(A){for(var W=jf(A),B=[],z=0;z<W.length;z+=76)B.push(W.slice(z,z+76));return B.join(`\r
`)+`\r
`}function x5(A){var W=A.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var Ne=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],z=W.split(`\r
`),H=0;H<z.length;++H){var Q=z[H];if(Q.length==0){B.push("");continue}for(var xe=0;xe<Q.length;){var Ce=76,me=Q.slice(xe,xe+Ce);me.charAt(Ce-1)=="="?Ce--:me.charAt(Ce-2)=="="?Ce-=2:me.charAt(Ce-3)=="="&&(Ce-=3),me=Q.slice(xe,xe+Ce),xe+=Ce,xe<Q.length&&(me+="="),B.push(me)}}return B.join(`\r
`)}function g5(A){for(var W=[],B=0;B<A.length;++B){for(var z=A[B];B<=A.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+A[++B];W.push(z)}for(var H=0;H<W.length;++H)W[H]=W[H].replace(/[=][0-9A-Fa-f]{2}/g,function(Q){return String.fromCharCode(parseInt(Q.slice(1),16))});return va(W.join(`\r
`))}function v5(A,W,B){for(var z="",H="",Q="",xe,Ce=0;Ce<10;++Ce){var me=W[Ce];if(!me||me.match(/^\s*$/))break;var ge=me.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":z=ge[2].trim();break;case"content-type":Q=ge[2].trim();break;case"content-transfer-encoding":H=ge[2].trim();break}}switch(++Ce,H.toLowerCase()){case"base64":xe=va(Oi(W.slice(Ce).join("")));break;case"quoted-printable":xe=g5(W.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var Ne=lx(A,z.slice(B.length),xe,{unsafe:!0});Q&&(Ne.ctype=Q)}function y5(A,W){if(oe(A.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=W&&W.root||"",z=(Vt&&Buffer.isBuffer(A)?A.toString("binary"):oe(A)).split(`\r
`),H=0,Q="";for(H=0;H<z.length;++H)if(Q=z[H],!!/^Content-Location:/i.test(Q)&&(Q=Q.slice(Q.indexOf("file")),B||(B=Q.slice(0,Q.lastIndexOf("/")+1)),Q.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),Q.slice(0,B.length)!=B););var xe=(z[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Ce="--"+(xe[1]||""),me=[],ge=[],Ne={FileIndex:me,FullPaths:ge};b(Ne);var Le,Ge=0;for(H=0;H<z.length;++H){var it=z[H];it!==Ce&&it!==Ce+"--"||(Ge++&&v5(Ne,z.slice(Le,H),B),Le=H)}return Ne}function _5(A,W){var B=W||{},z=B.boundary||"SheetJS";z="------="+z;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],Q=A.FullPaths[0],xe=Q,Ce=A.FileIndex[0],me=1;me<A.FullPaths.length;++me)if(xe=A.FullPaths[me].slice(Q.length),Ce=A.FileIndex[me],!(!Ce.size||!Ce.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nt){return"_x"+Nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nt){return"_u"+Nt.charCodeAt(0).toString(16)+"_"});for(var ge=Ce.content,Ne=Vt&&Buffer.isBuffer(ge)?ge.toString("binary"):oe(ge),Le=0,Ge=Math.min(1024,Ne.length),it=0,Ve=0;Ve<=Ge;++Ve)(it=Ne.charCodeAt(Ve))>=32&&it<128&&++Le;var tt=Le>=Ge*4/5;H.push(z),H.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+xe),H.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),H.push("Content-Type: "+m5(Ce,xe)),H.push(""),H.push(tt?x5(Ne):p5(Ne))}return H.push(z+`--\r
`),H.join(`\r
`)}function w5(A){var W={};return b(W,A),W}function lx(A,W,B,z){var H=z&&z.unsafe;H||b(A);var Q=!H&&Jt.find(A,W);if(!Q){var xe=A.FullPaths[0];W.slice(0,xe.length)==xe?xe=W:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+W).replace("//","/")),Q={name:a(W),type:2},A.FileIndex.push(Q),A.FullPaths.push(xe),H||Jt.utils.cfb_gc(A)}return Q.content=B,Q.size=B?B.length:0,z&&(z.CLSID&&(Q.clsid=z.CLSID),z.mt&&(Q.mt=z.mt),z.ct&&(Q.ct=z.ct)),Q}function N5(A,W){b(A);var B=Jt.find(A,W);if(B){for(var z=0;z<A.FileIndex.length;++z)if(A.FileIndex[z]==B)return A.FileIndex.splice(z,1),A.FullPaths.splice(z,1),!0}return!1}function b5(A,W,B){b(A);var z=Jt.find(A,W);if(z){for(var H=0;H<A.FileIndex.length;++H)if(A.FileIndex[H]==z)return A.FileIndex[H].name=a(B),A.FullPaths[H]=B,!0}return!1}function j5(A){D(A,!0)}return t.find=R,t.read=S,t.parse=u,t.write=ee,t.writeFile=q,t.utils={cfb_new:w5,cfb_add:lx,cfb_del:N5,cfb_mov:b5,cfb_gc:j5,ReadShift:Du,CheckField:uR,prep_blob:ys,bconcat:mn,use_zlib:P,_deflateRaw:de,_inflateRaw:kr,consts:ce},t}();function TQ(e){return typeof e=="string"?Qp(e):Array.isArray(e)?JG(e):e}function ah(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Qp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?Ef(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([TQ(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=sh(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Nn(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function zb(e,t){for(var r=[],s=Nn(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function N_(e){for(var t=[],r=Nn(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function Zp(e){for(var t=[],r=Nn(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function CQ(e){for(var t=[],r=Nn(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var D0=new Date(1899,11,30,0,0,0);function fs(e,t){var r=e.getTime(),s=D0.getTime()+(e.getTimezoneOffset()-D0.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var GI=new Date,kQ=D0.getTime()+(GI.getTimezoneOffset()-D0.getTimezoneOffset())*6e4,qb=GI.getTimezoneOffset();function QI(e){var t=new Date;return t.setTime(e*24*60*60*1e3+kQ),t.getTimezoneOffset()!==qb&&t.setTime(t.getTime()+(t.getTimezoneOffset()-qb)*6e4),t}var Wb=new Date("2017-02-19T19:06:09.000Z"),YI=isNaN(Wb.getFullYear())?new Date("2/19/17"):Wb,AQ=YI.getFullYear()==2017;function qn(e,t){var r=new Date(e);if(AQ)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(YI.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Jp(e,t){if(Vt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function hs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=hs(e[r]));return t}function Er(e,t){for(var r="";r.length<t;)r+=e;return r}function _i(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var PQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sf(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&PQ.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ct(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return Vt?s=Mi(r):s=eQ(r),Jt.utils.cfb_add(e,t,s)}Jt.utils.cfb_add(e,t,r)}else e.file(t,r)}function b_(){return Jt.utils.cfb_new()}var Hr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},j_=N_(DQ),S_=/[&<>'"]/g,OQ=/[\u0000-\u0008\u000b-\u001f]/g;function Qt(e){var t=e+"";return t.replace(S_,function(r){return j_[r]}).replace(OQ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Hb(e){return Qt(e).replace(/ /g,"_x0020_")}var XI=/[\u0000-\u001f]/g;function FQ(e){var t=e+"";return t.replace(S_,function(r){return j_[r]}).replace(/\n/g,"<br/>").replace(XI,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function IQ(e){var t=e+"";return t.replace(S_,function(r){return j_[r]}).replace(XI,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function RQ(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function MQ(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function cg(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Kb(e){var t=kl(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function Gb(e){return Mi(e,"binary").toString("utf8")}var Wh="foo bar baz",Pu=Vt&&(Gb(Wh)==cg(Wh)&&Gb||Kb(Wh)==cg(Wh)&&Kb)||cg,Ef=Vt?function(e){return Mi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},LQ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),ZI=/(^\s|\s$|\n)/;function pn(e,t){return"<"+e+(t.match(ZI)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Tf(e){return Nn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ze(e,t,r){return"<"+e+(r!=null?Tf(r):"")+(t!=null?(t.match(ZI)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function uy(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function BQ(e,t){switch(typeof e){case"string":var r=ze("vt:lpwstr",Qt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ze((e|0)==e?"vt:i4":"vt:r8",Qt(String(e)));case"boolean":return ze("vt:bool",e?"true":"false")}if(e instanceof Date)return ze("vt:filetime",uy(e));throw new Error("Unable to serialize "+e)}var rn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Fd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ns={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function UQ(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function VQ(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var Qb=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},Yb=Vt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Mi(t)})):Qb(e)}:Qb,Xb=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(mu(e,a)));return s.join("").replace(Au,"")},E_=Vt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Au,""):Xb(e,t,r)}:Xb,Zb=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},JI=Vt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Zb(e,t,r)}:Zb,Jb=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(ec(e,a)));return s.join("")},ih=Vt?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):Jb(t,r,s)}:Jb,eR=function(e,t){var r=bs(e,t);return r>0?ih(e,t+4,t+4+r-1):""},tR=eR,rR=function(e,t){var r=bs(e,t);return r>0?ih(e,t+4,t+4+r-1):""},nR=rR,sR=function(e,t){var r=2*bs(e,t);return r>0?ih(e,t+4,t+4+r-1):""},aR=sR,iR=function(t,r){var s=bs(t,r);return s>0?E_(t,r+4,r+4+s):""},oR=iR,lR=function(e,t){var r=bs(e,t);return r>0?ih(e,t+4,t+4+r):""},cR=lR,dR=function(e,t){return UQ(e,t)},O0=dR,T_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Vt&&(tR=function(t,r){if(!Buffer.isBuffer(t))return eR(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},nR=function(t,r){if(!Buffer.isBuffer(t))return rR(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},aR=function(t,r){if(!Buffer.isBuffer(t))return sR(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},oR=function(t,r){if(!Buffer.isBuffer(t))return iR(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},cR=function(t,r){if(!Buffer.isBuffer(t))return lR(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},O0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):dR(t,r)},T_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ec=function(e,t){return e[t]},mu=function(e,t){return e[t+1]*256+e[t]},$Q=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Go=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},zQ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Du(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,Vt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(mu(this,d)),d+=2;e*=2;break;case"utf8":r=ih(this,this.l,this.l+e);break;case"utf16le":e*=2,r=E_(this,this.l,this.l+e);break;case"wstr":return Du.call(this,e,"dbcs");case"lpstr-ansi":r=tR(this,this.l),e=4+bs(this,this.l);break;case"lpstr-cp":r=nR(this,this.l),e=4+bs(this,this.l);break;case"lpwstr":r=aR(this,this.l),e=4+2*bs(this,this.l);break;case"lpp4":e=4+bs(this,this.l),r=oR(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+bs(this,this.l),r=cR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ec(this,this.l+e++))!==0;)i.push($h(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=mu(this,this.l+e))!==0;)i.push($h(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ec(this,d),this.l=d+1,l=Du.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($h(mu(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ec(this,d),this.l=d+1,l=Du.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($h(ec(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=ec(this,this.l),this.l++,s;case 2:return s=(t==="i"?$Q:mu)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?Go:zQ)(this,this.l),this.l+=4,s):(a=bs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=O0(this,this.l):a=O0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=JI(this,this.l,e);break}}return this.l+=e,r}var qQ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},WQ=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},HQ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function KQ(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)HQ(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,qQ(this,t,this.l);break;case 8:if(s=8,r==="f"){VQ(this,t,this.l);break}case 16:break;case-4:s=4,WQ(this,t,this.l);break}return this.l+=s,this}function uR(e,t){var r=JI(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ys(e,t){e.l=t,e.read_shift=Du,e.chk=uR,e.write_shift=KQ}function Ja(e,t){e.l+=t}function Ee(e){var t=kl(e);return ys(t,0),t}function us(){var e=[],t=Vt?256:2048,r=function(d){var u=Ee(d);return ys(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),mn(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Pe(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=Ute[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&T_(r)&&e.push(r)}}function Ou(e,t,r){var s=hs(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function ej(e,t,r){var s=hs(e);return s.s=Ou(s.s,t.s,r),s.e=Ou(s.e,t.s,r),s}function Fu(e,t){if(e.cRel&&e.c<0)for(e=hs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Zt(e);return!e.cRel&&e.cRel!=null&&(r=YQ(r)),!e.rRel&&e.rRel!=null&&(r=GQ(r)),r}function dg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+An(e.s.c)+":"+(e.e.cRel?"":"$")+An(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+_n(e.s.r)+":"+(e.e.rRel?"":"$")+_n(e.e.r):Fu(e.s,t.biff)+":"+Fu(e.e,t.biff)}function C_(e){return parseInt(QQ(e),10)-1}function _n(e){return""+(e+1)}function GQ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QQ(e){return e.replace(/\$(\d+)$/,"$1")}function k_(e){for(var t=XQ(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function An(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function YQ(e){return e.replace(/^([A-Z])/,"$$$1")}function XQ(e){return e.replace(/^\$([A-Z])/,"$1")}function ZQ(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nn(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Zt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ps(e){var t=e.indexOf(":");return t==-1?{s:nn(e),e:nn(e)}:{s:nn(e.slice(0,t)),e:nn(e.slice(t+1))}}function zr(e,t){return typeof t>"u"||typeof t=="number"?zr(e.s,e.e):(typeof e!="string"&&(e=Zt(e)),typeof t!="string"&&(t=Zt(t)),e==t?e:e+":"+t)}function lr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function tj(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Po(e.z,r?fs(t):t)}catch{}try{return e.w=Po((e.XF||{}).numFmtId||(r?14:0),r?fs(t):t)}catch{return""+t}}function Fi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?oh[e.v]||e.v:t==null?tj(e,e.v):tj(e,t))}function Bl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function fR(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?nn(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=lr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},y=o+f,m=l+h;if(d.s.r>y&&(d.s.r=y),d.s.c>m&&(d.s.c=m),d.e.r<y&&(d.e.r=y),d.e.c<m&&(d.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(s.nullError)p.t="e",p.v=0;else if(s.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=s.dateNF||Tr[14],s.cellDates?(p.t="d",p.w=Po(p.z,fs(p.v))):(p.t="n",p.v=fs(p.v),p.w=Po(p.z,p.v))):p.t="s";if(a)i[y]||(i[y]=[]),i[y][m]&&i[y][m].z&&(p.z=i[y][m].z),i[y][m]=p;else{var g=Zt({c:m,r:y});i[g]&&i[g].z&&(p.z=i[g].z),i[g]=p}}}return d.s.c<1e7&&(i["!ref"]=zr(d)),i}function Id(e,t){return fR(null,e,t)}function JQ(e){return e.read_shift(4,"i")}function ja(e,t){return t||(t=Ee(4)),t.write_shift(4,e),t}function Pn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function sn(e,t){var r=!1;return t==null&&(r=!0,t=Ee(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function eY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function tY(e,t){return t||(t=Ee(4)),t.write_shift(2,0),t.write_shift(2,0),t}function A_(e,t){var r=e.l,s=e.read_shift(1),a=Pn(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(eY(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function rY(e,t){var r=!1;return t==null&&(r=!0,t=Ee(15+4*e.t.length)),t.write_shift(1,0),sn(e.t,t),r?t.slice(0,t.l):t}var nY=A_;function sY(e,t){var r=!1;return t==null&&(r=!0,t=Ee(23+4*e.t.length)),t.write_shift(1,1),sn(e.t,t),t.write_shift(4,1),tY({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function ra(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ul(e,t){return t==null&&(t=Ee(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Vl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function $l(e,t){return t==null&&(t=Ee(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var aY=Pn,hR=sn;function P_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function F0(e,t){var r=!1;return t==null&&(r=!0,t=Ee(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var iY=Pn,fy=P_,D_=F0;function mR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?O0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Go(t,0)>>2;return r?a/100:a}function pR(e,t){t==null&&(t=Ee(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function xR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function oY(e,t){return t||(t=Ee(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var zl=xR,Rd=oY;function Md(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Al(e,t){return(t||Ee(8)).write_shift(8,e,"f")}function lY(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=gY[a];d&&(t.rgb=fj(d));break;case 2:t.rgb=fj([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function I0(e,t){if(t||(t=Ee(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function cY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function dY(e,t){t||(t=Ee(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var gR=2,xs=3,Hh=11,R0=19,Kh=64,uY=65,fY=71,hY=4108,mY=4126,hn=80,rj={1:{n:"CodePage",t:gR},2:{n:"Category",t:hn},3:{n:"PresentationFormat",t:hn},4:{n:"ByteCount",t:xs},5:{n:"LineCount",t:xs},6:{n:"ParagraphCount",t:xs},7:{n:"SlideCount",t:xs},8:{n:"NoteCount",t:xs},9:{n:"HiddenCount",t:xs},10:{n:"MultimediaClipCount",t:xs},11:{n:"ScaleCrop",t:Hh},12:{n:"HeadingPairs",t:hY},13:{n:"TitlesOfParts",t:mY},14:{n:"Manager",t:hn},15:{n:"Company",t:hn},16:{n:"LinksUpToDate",t:Hh},17:{n:"CharacterCount",t:xs},19:{n:"SharedDoc",t:Hh},22:{n:"HyperlinksChanged",t:Hh},23:{n:"AppVersion",t:xs,p:"version"},24:{n:"DigSig",t:uY},26:{n:"ContentType",t:hn},27:{n:"ContentStatus",t:hn},28:{n:"Language",t:hn},29:{n:"Version",t:hn},255:{},2147483648:{n:"Locale",t:R0},2147483651:{n:"Behavior",t:R0},1919054434:{}},nj={1:{n:"CodePage",t:gR},2:{n:"Title",t:hn},3:{n:"Subject",t:hn},4:{n:"Author",t:hn},5:{n:"Keywords",t:hn},6:{n:"Comments",t:hn},7:{n:"Template",t:hn},8:{n:"LastAuthor",t:hn},9:{n:"RevNumber",t:hn},10:{n:"EditTime",t:Kh},11:{n:"LastPrinted",t:Kh},12:{n:"CreatedDate",t:Kh},13:{n:"ModifiedDate",t:Kh},14:{n:"PageCount",t:xs},15:{n:"WordCount",t:xs},16:{n:"CharCount",t:xs},17:{n:"Thumbnail",t:fY},18:{n:"Application",t:hn},19:{n:"DocSecurity",t:xs},255:{},2147483648:{n:"Locale",t:R0},2147483651:{n:"Behavior",t:R0},1919054434:{}};function pY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var xY=pY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gY=hs(xY),oh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Gh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function vR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yR(e,t){var r=CQ(vY),s=[],a;s[s.length]=Hr,s[s.length]=ze("Types",null,{xmlns:rn.CT,"xmlns:xsd":rn.xsd,"xmlns:xsi":rn.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ze("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=ze("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Gh[c][t.bookType]||Gh[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=ze("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Gh[c][t.bookType]||Gh[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=ze("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Ut={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _R(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Oc(e){var t=[Hr,ze("Relationships",null,{xmlns:rn.RELS})];return Nn(e["!id"]).forEach(function(r){t[t.length]=ze("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Gt(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[Ut.HLINK,Ut.XPATH,Ut.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function yY(e){var t=[Hr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function sj(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function _Y(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function wY(e){var t=[Hr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(sj(e[r][0],e[r][1])),t.push(_Y("",e[r][0]));return t.push(sj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function wR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+C0.version+"</meta:generator></office:meta></office:document-meta>"}var ul=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ug(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Qt(t),s[s.length]=r?ze(e,t,r):pn(e,t))}function NR(e,t){var r=t||{},s=[Hr,ze("cp:coreProperties",null,{"xmlns:cp":rn.CORE_PROPS,"xmlns:dc":rn.dc,"xmlns:dcterms":rn.dcterms,"xmlns:dcmitype":rn.dcmitype,"xmlns:xsi":rn.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&ug("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:uy(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&ug("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:uy(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=ul.length;++i){var o=ul[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&ug(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Fc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function jR(e){var t=[],r=ze;return e||(e={}),e.Application="SheetJS",t[t.length]=Hr,t[t.length]=ze("Properties",null,{xmlns:rn.EXT_PROPS,"xmlns:vt":rn.vt}),Fc.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Qt(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Qt(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function SR(e){var t=[Hr,ze("Properties",null,{xmlns:rn.CUST_PROPS,"xmlns:vt":rn.vt})];if(!e)return t.join("");var r=1;return Nn(e).forEach(function(a){++r,t[t.length]=ze("property",BQ(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var aj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function NY(e,t){var r=[];return Nn(aj).map(function(s){for(var a=0;a<ul.length;++a)if(ul[a][1]==s)return ul[a];for(a=0;a<Fc.length;++a)if(Fc[a][1]==s)return Fc[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(pn(aj[s[1]]||s[1],a))}}),ze("DocumentProperties",r.join(""),{xmlns:Ns.o})}function bY(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Nn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<ul.length;++o)if(i==ul[o][1])return;for(o=0;o<Fc.length;++o)if(i==Fc[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ze(Hb(i),l,{"dt:dt":c}))}}),t&&Nn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(ze(Hb(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ns.o+'">'+a.join("")+"</"+s+">"}function jY(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Ee(8);return o.write_shift(4,s),o.write_shift(4,a),o}function ij(e,t){var r=Ee(4),s=Ee(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Ee(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=jY(t);break;case 31:case 80:for(s=Ee(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return mn([r,s])}var ER=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function SY(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function oj(e,t,r){var s=Ee(8),a=[],i=[],o=8,l=0,c=Ee(8),d=Ee(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Ee(8),d.write_shift(4,0),a.unshift(d);var u=[Ee(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ee(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=mn(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(ER.indexOf(e[l][0])>-1||bR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=ij(y.t,h)}else{var g=SY(h);g==-1&&(g=31,h=String(h)),c=ij(g,h)}i.push(c),d=Ee(8),d.write_shift(4,t?p:2+l),a.push(d),o+=8+c.length}var w=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,w),w+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),mn([s].concat(a).concat(i))}function lj(e,t,r,s,a,i){var o=Ee(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=oj(e,r,s);if(l.push(c),a){var d=oj(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return mn(l)}function EY(e,t){t||(t=Ee(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function TY(e,t){return e.read_shift(t)===1}function Vn(e,t){return t||(t=Ee(2)),t.write_shift(2,+!!e),t}function TR(e){return e.read_shift(2,"u")}function Us(e,t){return t||(t=Ee(2)),t.write_shift(2,e),t}function CR(e,t,r){return r||(r=Ee(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function kR(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function CY(e){var t=e.t||"",r=Ee(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Ee(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return mn(a)}function kY(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function AY(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):kY(e,s,r)}function PY(e,t,r){if(r.biff>5)return AY(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function AR(e,t,r){return r||(r=Ee(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function cj(e,t){t||(t=Ee(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function DY(e){var t=Ee(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),cj(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&cj(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Pl(e,t,r,s){return s||(s=Ee(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function OY(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function FY(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function PR(e,t){return t||(t=Ee(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function O_(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ee(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function IY(e,t){var r=!t||t.biff==8,s=Ee(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function RY(e,t){var r=!t||t.biff>=8?2:1,s=Ee(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function MY(e,t){var r=Ee(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=CY(e[a]);var i=mn([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function LY(){var e=Ee(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function BY(e){var t=Ee(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function UY(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Ee(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function VY(e,t,r,s){var a=Ee(10);return Pl(e,t,s,a),a.write_shift(4,r),a}function $Y(e,t,r,s,a){var i=!a||a.biff==8,o=Ee(8+ +i+(1+i)*r.length);return Pl(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function zY(e,t,r,s){var a=r&&r.biff==5;s||(s=Ee(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function qY(e,t){var r=t.biff==8||!t.biff?4:2,s=Ee(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function dj(e,t,r,s){var a=r&&r.biff==5;s||(s=Ee(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function WY(e){var t=Ee(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function HY(e,t,r,s,a,i){var o=Ee(8);return Pl(e,t,s,o),CR(r,i,o),o}function KY(e,t,r,s){var a=Ee(14);return Pl(e,t,s,a),Al(r,a),a}function GY(e,t,r){if(r.biff<8)return QY(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(OY(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function QY(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=kR(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function YY(e){var t=Ee(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)PR(e[r],t);return t}function XY(e){var t=Ee(24),r=nn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return mn([t,DY(e[1])])}function ZY(e){var t=e[1].Tooltip,r=Ee(10+2*(t.length+1));r.write_shift(2,2048);var s=nn(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function JY(e){return e||(e=Ee(4)),e.write_shift(2,1),e.write_shift(2,1),e}function eX(e,t,r){if(!r.cellStyles)return Ja(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function tX(e,t){var r=Ee(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function rX(e){for(var t=Ee(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function nX(e,t,r){var s=Ee(15);return ch(s,e,t),s.write_shift(8,r,"f"),s}function sX(e,t,r){var s=Ee(9);return ch(s,e,t),s.write_shift(2,r),s}var aX=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=N_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=kl(1);switch(c.type){case"base64":u=va(Oi(l));break;case"binary":u=va(l);break;case"buffer":case"array":u=l;break}ys(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,g=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(g=u.read_shift(2));var w=u.read_shift(2),v=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var _=[],N={},T=Math.min(u.length,f==2?521:g-10-(p?264:0)),S=y?32:11;u.l<T&&u[u.l]!=13;)switch(N={},N.name=Ko.utils.decode(v,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!y&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&_.push(N),f!=2&&(u.l+=y?13:14),N.type){case"B":(!p||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var b=0,I=0;for(d[0]=[],I=0;I!=_.length;++I)d[0][I]=_[I].name;for(;m-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,d[++b]=[],I=0,I=0;I!=_.length;++I){var D=u.slice(u.l,u.l+_[I].len);u.l+=_[I].len,ys(D,0);var C=Ko.utils.decode(v,D);switch(_[I].type){case"C":C.trim().length&&(d[b][I]=C.replace(/\s+$/,""));break;case"D":C.length===8?d[b][I]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):d[b][I]=C;break;case"F":d[b][I]=parseFloat(C.trim());break;case"+":case"I":d[b][I]=y?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":d[b][I]=!0;break;case"N":case"F":d[b][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[b][I]="##MEMO##"+(y?parseInt(C.trim(),10):D.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(d[b][I]=+C||0);break;case"@":d[b][I]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":d[b][I]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":d[b][I]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[b][I]=-D.read_shift(-8,"f");break;case"B":if(p&&_[I].len==8){d[b][I]=D.read_shift(8,"f");break}case"G":case"P":D.l+=_[I].len;break;case"0":if(_[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[I].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=_,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Id(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return Bl(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&bf(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=us(),f=V0(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),y=l["!cols"]||[],m=0,g=0,w=0,v=1;for(m=0;m<h.length;++m){if(((y[m]||{}).DBF||{}).name){h[m]=y[m].DBF.name,++w;continue}if(h[m]!=null){if(++w,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(g=0;g<1024;++g)if(h.indexOf(h[m]+"_"+g)==-1){h[m]+="_"+g;break}}}}var _=lr(l["!ref"]),N=[],T=[],S=[];for(m=0;m<=_.e.c-_.s.c;++m){var b="",I="",D=0,C=[];for(g=0;g<p.length;++g)p[g][m]!=null&&C.push(p[g][m]);if(C.length==0||h[m]==null){N[m]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=C[g]instanceof Date?"D":"C";break;default:I="C"}D=Math.max(D,String(C[g]).length),b=b&&b!=I?"C":I}D>250&&(D=250),I=((y[m]||{}).DBF||{}).type,I=="C"&&y[m].DBF.len>D&&(D=y[m].DBF.len),b=="B"&&I=="N"&&(b="N",S[m]=y[m].DBF.dec,D=y[m].DBF.len),T[m]=b=="C"||I=="N"?D:i[b]||0,v+=T[m],N[m]=b}var R=u.next(32);for(R.write_shift(4,318902576),R.write_shift(4,p.length),R.write_shift(2,296+32*w),R.write_shift(2,v),m=0;m<4;++m)R.write_shift(4,0);for(R.write_shift(4,0|(+t[OI]||3)<<8),m=0,g=0;m<h.length;++m)if(h[m]!=null){var k=u.next(32),L=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,L,"sbcs"),k.write_shift(1,N[m]=="?"?"C":N[m],"sbcs"),k.write_shift(4,g),k.write_shift(1,T[m]||i[N[m]]||0),k.write_shift(1,S[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),g+=T[m]||i[N[m]]||0}var ie=u.next(264);for(ie.write_shift(4,13),m=0;m<65;++m)ie.write_shift(4,0);for(m=0;m<p.length;++m){var fe=u.next(v);for(fe.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(N[g]){case"L":fe.write_shift(1,p[m][g]==null?63:p[m][g]?84:70);break;case"B":fe.write_shift(8,p[m][g]||0,"f");break;case"N":var se="0";for(typeof p[m][g]=="number"&&(se=p[m][g].toFixed(S[g]||0)),w=0;w<T[g]-se.length;++w)fe.write_shift(1,32);fe.write_shift(1,se,"sbcs");break;case"D":p[m][g]?(fe.write_shift(4,("0000"+p[m][g].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(p[m][g].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+p[m][g].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var ce=String(p[m][g]!=null?p[m][g]:"").slice(0,T[g]);for(fe.write_shift(1,ce,"sbcs"),w=0;w<T[g]-ce.length;++w)fe.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),iX=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var y=e[p];return typeof y=="number"?Fb(y):y},s=function(h,p,y){var m=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return m==59?h:Fb(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Oi(h),p);case"binary":return i(h,p);case"buffer":return i(Vt&&Buffer.isBuffer(h)?h.toString("binary"):sh(h),p);case"array":return i(Jp(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var y=h.split(/[\n\r]+/),m=-1,g=-1,w=0,v=0,_=[],N=[],T=null,S={},b=[],I=[],D=[],C=0,R;for(+p.codepage>=0&&bf(+p.codepage);w!==y.length;++w){C=0;var k=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),L=k.replace(/;;/g,"\0").split(";").map(function(j){return j.replace(/\u0000/g,";")}),ie=L[0],fe;if(k.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&N.push(k.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,ce=!1,q=!1,oe=!1,ee=-1,we=-1;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"A":break;case"X":g=parseInt(L[v].slice(1))-1,ce=!0;break;case"Y":for(m=parseInt(L[v].slice(1))-1,ce||(g=0),R=_.length;R<=m;++R)_[R]=[];break;case"K":fe=L[v].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(_i(fe))?isNaN(Sf(fe).getDate())||(fe=qn(fe)):(fe=_i(fe),T!==null&&WI(T)&&(fe=QI(fe))),se=!0;break;case"E":oe=!0;var P=sZ(L[v].slice(1),{r:m,c:g});_[m][g]=[_[m][g],P];break;case"S":q=!0,_[m][g]=[_[m][g],"S5S"];break;case"G":break;case"R":ee=parseInt(L[v].slice(1))-1;break;case"C":we=parseInt(L[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(se&&(_[m][g]&&_[m][g].length==2?_[m][g][0]=fe:_[m][g]=fe,T=null),q){if(oe)throw new Error("SYLK shared formula cannot have own formula");var F=ee>-1&&_[ee][we];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");_[m][g][1]=aZ(F[1],{r:m-ee,c:g-we})}break;case"F":var U=0;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"X":g=parseInt(L[v].slice(1))-1,++U;break;case"Y":for(m=parseInt(L[v].slice(1))-1,R=_.length;R<=m;++R)_[R]=[];break;case"M":C=parseInt(L[v].slice(1))/20;break;case"F":break;case"G":break;case"P":T=N[parseInt(L[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=L[v].slice(1).split(" "),R=parseInt(D[0],10);R<=parseInt(D[1],10);++R)C=parseInt(D[2],10),I[R-1]=C===0?{hidden:!0}:{wch:C},F_(I[R-1]);break;case"C":g=parseInt(L[v].slice(1))-1,I[g]||(I[g]={});break;case"R":m=parseInt(L[v].slice(1))-1,b[m]||(b[m]={}),C>0?(b[m].hpt=C,b[m].hpx=RR(C)):C===0&&(b[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}U<1&&(T=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return b.length>0&&(S["!rows"]=b),I.length>0&&(S["!cols"]=I),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,S]}function o(h,p){var y=a(h,p),m=y[0],g=y[1],w=Id(m,p);return Nn(g).forEach(function(v){w[v]=g[v]}),w}function l(h,p){return Bl(o(h,p),p)}function c(h,p,y,m){var g="C;Y"+(y+1)+";X"+(m+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+R_(h.f,{r:y,c:m}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(h,p){p.forEach(function(y,m){var g="F;W"+(m+1)+" "+(m+1)+" ";y.hidden?g+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=M0(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=L0(y.wpx)),typeof y.wch=="number"&&(g+=Math.round(y.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,p){p.forEach(function(y,m){var g="F;";y.hidden?g+="M0;":y.hpt?g+="M"+20*y.hpt+";":y.hpx&&(g+="M"+20*B0(y.hpx)+";"),g.length>2&&h.push(g+"R"+(m+1))})}function f(h,p){var y=["ID;PWXL;N;E"],m=[],g=lr(h["!ref"]),w,v=Array.isArray(h),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),h["!cols"]&&d(y,h["!cols"]),h["!rows"]&&u(y,h["!rows"]),y.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var N=g.s.r;N<=g.e.r;++N)for(var T=g.s.c;T<=g.e.c;++T){var S=Zt({r:N,c:T});w=v?(h[N]||[])[T]:h[S],!(!w||w.v==null&&(!w.f||w.F))&&m.push(c(w,h,N,T))}return y.join(_)+_+m.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),oX=function(){function e(i,o){switch(o.type){case"base64":return t(Oi(i),o);case"binary":return t(i,o);case"buffer":return t(Vt&&Buffer.isBuffer(i)?i.toString("binary"):sh(i),o);case"array":return t(Jp(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var h=l[u].trim().split(","),p=h[0],y=h[1];++u;for(var m=l[u]||"";(m.match(/["]/g)||[]).length&1&&u<l.length-1;)m+=`
`+l[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],d=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][d]=!0:m==="FALSE"?f[c][d]=!1:isNaN(_i(y))?isNaN(Sf(y).getDate())?f[c][d]=y:f[c][d]=qn(y):f[c][d]=_i(y),++d;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][d++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Id(e(i,o),o)}function s(i,o){return Bl(r(i,o),o)}var a=function(){var i=function(c,d,u,f,h){c.push(d),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=lr(c["!ref"]),f,h=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(d,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var m=Zt({r:p,c:y});if(f=h?(c[p]||[])[y]:c[m],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Po(f.z||Tr[14],fs(qn(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var w=`\r
`,v=d.join(w);return v}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),DR=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),y=-1,m=-1,g=0,w=[];g!==p.length;++g){var v=p[g].trim().split(":");if(v[0]==="cell"){var _=nn(v[1]);if(w.length<=_.r)for(y=w.length;y<=_.r;++y)w[y]||(w[y]=[]);switch(y=_.r,m=_.c,v[2]){case"t":w[y][m]=e(v[3]);break;case"v":w[y][m]=+v[3];break;case"vtf":var N=v[v.length-1];case"vtc":switch(v[3]){case"nl":w[y][m]=!!+v[4];break;default:w[y][m]=+v[4];break}v[2]=="vtf"&&(w[y][m]=[w[y][m],N])}}}return h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),w}function s(f,h){return Id(r(f,h),h)}function a(f,h){return Bl(s(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],y,m="",g=Ps(f["!ref"]),w=Array.isArray(f),v=g.s.r;v<=g.e.r;++v)for(var _=g.s.c;_<=g.e.c;++_)if(m=Zt({r:v,c:_}),y=w?(f[v]||[])[_]:f[m],!(!y||y.v==null||y.t==="z")){switch(p=["cell",m,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var N=fs(qn(y.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=y.w||Po(y.z||Tr[14],N);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),lX=function(){function e(u,f,h,p,y){y.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(_i(u))?isNaN(Sf(u).getDate())?f[h][p]=u:f[h][p]=qn(u):f[h][p]=_i(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var y=u.split(/[\r\n]/),m=y.length-1;m>=0&&y[m].length===0;)--m;for(var g=10,w=0,v=0;v<=m;++v)w=y[v].indexOf(" "),w==-1?w=y[v].length:w++,g=Math.max(g,w);for(v=0;v<=m;++v){p[v]=[];var _=0;for(e(y[v].slice(0,g).trim(),p,v,_,h),_=1;_<=(y[v].length-g)/10+1;++_)e(y[v].slice(g+(_-1)*10,g+_*10).trim(),p,v,_,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,y=0;p<u.length;++p)(y=u.charCodeAt(p))==34?h=!h:!h&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=s;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(m,g){return m[0]-g[0]||s[m[1]]-s[g[1]]}),r[y.pop()[1]]||44}function i(u,f){var h=f||{},p="",y=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var g=0,w=0,v=0,_=0,N=0,T=p.charCodeAt(0),S=!1,b=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var D=h.dateNF!=null?jQ(h.dateNF):null;function C(){var R=u.slice(_,N),k={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)k.t="z";else if(h.raw)k.t="s",k.v=R;else if(R.trim().length===0)k.t="s",k.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(k.t="s",k.v=R.slice(2,-1).replace(/""/g,'"')):iZ(R)?(k.t="n",k.f=R.slice(1)):(k.t="s",k.v=R);else if(R=="TRUE")k.t="b",k.v=!0;else if(R=="FALSE")k.t="b",k.v=!1;else if(!isNaN(v=_i(R)))k.t="n",h.cellText!==!1&&(k.w=R),k.v=v;else if(!isNaN(Sf(R).getDate())||D&&R.match(D)){k.z=h.dateNF||Tr[14];var L=0;D&&R.match(D)&&(R=SQ(R,h.dateNF,R.match(D)||[]),L=1),h.cellDates?(k.t="d",k.v=qn(R,L)):(k.t="n",k.v=fs(qn(R,L))),h.cellText!==!1&&(k.w=Po(k.z,k.v instanceof Date?fs(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=R;if(k.t=="z"||(h.dense?(y[g]||(y[g]=[]),y[g][w]=k):y[Zt({c:w,r:g})]=k),_=N+1,I=u.charCodeAt(_),m.e.c<w&&(m.e.c=w),m.e.r<g&&(m.e.r=g),b==T)++w;else if(w=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;N<u.length;++N)switch(b=u.charCodeAt(N)){case 34:I===34&&(S=!S);break;case T:case 10:case 13:if(!S&&C())break e;break}return N-_>0&&C(),y["!ref"]=zr(m),y}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Id(t(u,f),f)}function l(u,f){var h="",p=f.type=="string"?[0,0,0,0]:_re(u,f);switch(f.type){case"base64":h=Oi(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ko<"u"?h=Ko.utils.decode(f.codepage,u):h=Vt&&Buffer.isBuffer(u)?u.toString("binary"):sh(u);break;case"array":h=Jp(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Pu(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Pu(h):f.type=="binary"&&typeof Ko<"u"&&f.codepage&&(h=Ko.utils.decode(f.codepage,Ko.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?DR.to_sheet(f.type=="string"?h:Pu(h),f):o(h,f)}function c(u,f){return Bl(l(u,f),f)}function d(u){for(var f=[],h=lr(u["!ref"]),p,y=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var g=[],w=h.s.c;w<=h.e.c;++w){var v=Zt({r:m,c:w});if(p=y?(u[m]||[])[w]:u[v],!p||p.v==null){g.push("          ");continue}for(var _=(p.w||(Fi(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";g.push(_+(w===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),uj=function(){function e(P,F,U){if(P){ys(P,P.l||0);for(var j=U.Enum||ee;P.l<P.length;){var M=P.read_shift(2),J=j[M]||j[65535],_e=P.read_shift(2),le=P.l+_e,pe=J.f&&J.f(P,_e,U);if(P.l=le,F(pe,J,M))return}}}function t(P,F){switch(F.type){case"base64":return r(va(Oi(P)),F);case"binary":return r(va(P),F);case"buffer":case"array":return r(P,F)}throw"Unsupported type "+F.type}function r(P,F){if(!P)return P;var U=F||{},j=U.dense?[]:{},M="Sheet1",J="",_e=0,le={},pe=[],He=[],Ye={s:{r:0,c:0},e:{r:0,c:0}},Pt=U.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)U.Enum=ee,e(P,function(We,nr,cr){switch(cr){case 0:U.vers=We,We>=4096&&(U.qpro=!0);break;case 6:Ye=We;break;case 204:We&&(J=We);break;case 222:J=We;break;case 15:case 51:U.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:cr==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=U.dateNF||Tr[14],U.cellDates&&(We[1].t="d",We[1].v=QI(We[1].v))),U.qpro&&We[3]>_e&&(j["!ref"]=zr(Ye),le[M]=j,pe.push(M),j=U.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},_e=We[3],M=J||"Sheet"+(_e+1),J="");var Nr=U.dense?(j[We[0].r]||[])[We[0].c]:j[Zt(We[0])];if(Nr){Nr.t=We[1].t,Nr.v=We[1].v,We[1].z!=null&&(Nr.z=We[1].z),We[1].f!=null&&(Nr.f=We[1].f);break}U.dense?(j[We[0].r]||(j[We[0].r]=[]),j[We[0].r][We[0].c]=We[1]):j[Zt(We[0])]=We[1];break}},U);else if(P[2]==26||P[2]==14)U.Enum=we,P[2]==14&&(U.qpro=!0,P.l=0),e(P,function(We,nr,cr){switch(cr){case 204:M=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>_e&&(j["!ref"]=zr(Ye),le[M]=j,pe.push(M),j=U.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},_e=We[3],M="Sheet"+(_e+1)),Pt>0&&We[0].r>=Pt)break;U.dense?(j[We[0].r]||(j[We[0].r]=[]),j[We[0].r][We[0].c]=We[1]):j[Zt(We[0])]=We[1],Ye.e.c<We[0].c&&(Ye.e.c=We[0].c),Ye.e.r<We[0].r&&(Ye.e.r=We[0].r);break;case 27:We[14e3]&&(He[We[14e3][0]]=We[14e3][1]);break;case 1537:He[We[0]]=We[1],We[0]==_e&&(M=We[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(j["!ref"]=zr(Ye),le[J||M]=j,pe.push(J||M),!He.length)return{SheetNames:pe,Sheets:le};for(var pt={},rr=[],mt=0;mt<He.length;++mt)le[pe[mt]]?(rr.push(He[mt]||pe[mt]),pt[He[mt]]=le[He[mt]]||le[pe[mt]]):(rr.push(He[mt]),pt[He[mt]]={"!ref":"A1"});return{SheetNames:rr,Sheets:pt}}function s(P,F){var U=F||{};if(+U.codepage>=0&&bf(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var j=us(),M=lr(P["!ref"]),J=Array.isArray(P),_e=[];qe(j,0,i(1030)),qe(j,6,c(M));for(var le=Math.min(M.e.r,8191),pe=M.s.r;pe<=le;++pe)for(var He=_n(pe),Ye=M.s.c;Ye<=M.e.c;++Ye){pe===M.s.r&&(_e[Ye]=An(Ye));var Pt=_e[Ye]+He,pt=J?(P[pe]||[])[Ye]:P[Pt];if(!(!pt||pt.t=="z"))if(pt.t=="n")(pt.v|0)==pt.v&&pt.v>=-32768&&pt.v<=32767?qe(j,13,p(pe,Ye,pt.v)):qe(j,14,m(pe,Ye,pt.v));else{var rr=Fi(pt);qe(j,15,f(pe,Ye,rr.slice(0,239)))}}return qe(j,1),j.end()}function a(P,F){var U=F||{};if(+U.codepage>=0&&bf(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var j=us();qe(j,0,o(P));for(var M=0,J=0;M<P.SheetNames.length;++M)(P.Sheets[P.SheetNames[M]]||{})["!ref"]&&qe(j,27,oe(P.SheetNames[M],J++));var _e=0;for(M=0;M<P.SheetNames.length;++M){var le=P.Sheets[P.SheetNames[M]];if(!(!le||!le["!ref"])){for(var pe=lr(le["!ref"]),He=Array.isArray(le),Ye=[],Pt=Math.min(pe.e.r,8191),pt=pe.s.r;pt<=Pt;++pt)for(var rr=_n(pt),mt=pe.s.c;mt<=pe.e.c;++mt){pt===pe.s.r&&(Ye[mt]=An(mt));var We=Ye[mt]+rr,nr=He?(le[pt]||[])[mt]:le[We];if(!(!nr||nr.t=="z"))if(nr.t=="n")qe(j,23,C(pt,mt,_e,nr.v));else{var cr=Fi(nr);qe(j,22,b(pt,mt,_e,cr.slice(0,239)))}}++_e}}return qe(j,1),j.end()}function i(P){var F=Ee(2);return F.write_shift(2,P),F}function o(P){var F=Ee(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var U=0,j=0,M=0,J=0;J<P.SheetNames.length;++J){var _e=P.SheetNames[J],le=P.Sheets[_e];if(!(!le||!le["!ref"])){++M;var pe=Ps(le["!ref"]);U<pe.e.r&&(U=pe.e.r),j<pe.e.c&&(j=pe.e.c)}}return U>8191&&(U=8191),F.write_shift(2,U),F.write_shift(1,M),F.write_shift(1,j),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function l(P,F,U){var j={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&U.qpro?(j.s.c=P.read_shift(1),P.l++,j.s.r=P.read_shift(2),j.e.c=P.read_shift(1),P.l++,j.e.r=P.read_shift(2),j):(j.s.c=P.read_shift(2),j.s.r=P.read_shift(2),F==12&&U.qpro&&(P.l+=2),j.e.c=P.read_shift(2),j.e.r=P.read_shift(2),F==12&&U.qpro&&(P.l+=2),j.s.c==65535&&(j.s.c=j.e.c=j.s.r=j.e.r=0),j)}function c(P){var F=Ee(8);return F.write_shift(2,P.s.c),F.write_shift(2,P.s.r),F.write_shift(2,P.e.c),F.write_shift(2,P.e.r),F}function d(P,F,U){var j=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(j[0].c=P.read_shift(1),j[3]=P.read_shift(1),j[0].r=P.read_shift(2),P.l+=2):(j[2]=P.read_shift(1),j[0].c=P.read_shift(2),j[0].r=P.read_shift(2)),j}function u(P,F,U){var j=P.l+F,M=d(P,F,U);if(M[1].t="s",U.vers==20768){P.l++;var J=P.read_shift(1);return M[1].v=P.read_shift(J,"utf8"),M}return U.qpro&&P.l++,M[1].v=P.read_shift(j-P.l,"cstr"),M}function f(P,F,U){var j=Ee(7+U.length);j.write_shift(1,255),j.write_shift(2,F),j.write_shift(2,P),j.write_shift(1,39);for(var M=0;M<j.length;++M){var J=U.charCodeAt(M);j.write_shift(1,J>=128?95:J)}return j.write_shift(1,0),j}function h(P,F,U){var j=d(P,F,U);return j[1].v=P.read_shift(2,"i"),j}function p(P,F,U){var j=Ee(7);return j.write_shift(1,255),j.write_shift(2,F),j.write_shift(2,P),j.write_shift(2,U,"i"),j}function y(P,F,U){var j=d(P,F,U);return j[1].v=P.read_shift(8,"f"),j}function m(P,F,U){var j=Ee(13);return j.write_shift(1,255),j.write_shift(2,F),j.write_shift(2,P),j.write_shift(8,U,"f"),j}function g(P,F,U){var j=P.l+F,M=d(P,F,U);if(M[1].v=P.read_shift(8,"f"),U.qpro)P.l=j;else{var J=P.read_shift(2);N(P.slice(P.l,P.l+J),M),P.l+=J}return M}function w(P,F,U){var j=F&32768;return F&=-32769,F=(j?P:0)+(F>=8192?F-16384:F),(j?"":"$")+(U?An(F):_n(F))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(P,F){ys(P,0);for(var U=[],j=0,M="",J="",_e="",le="";P.l<P.length;){var pe=P[P.l++];switch(pe){case 0:U.push(P.read_shift(8,"f"));break;case 1:J=w(F[0].c,P.read_shift(2),!0),M=w(F[0].r,P.read_shift(2),!1),U.push(J+M);break;case 2:{var He=w(F[0].c,P.read_shift(2),!0),Ye=w(F[0].r,P.read_shift(2),!1);J=w(F[0].c,P.read_shift(2),!0),M=w(F[0].r,P.read_shift(2),!1),U.push(He+Ye+":"+J+M)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(P.read_shift(2));break;case 6:{for(var Pt="";pe=P[P.l++];)Pt+=String.fromCharCode(pe);U.push('"'+Pt.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:le=U.pop(),_e=U.pop(),U.push(["AND","OR"][pe-20]+"("+_e+","+le+")");break;default:if(pe<32&&_[pe])le=U.pop(),_e=U.pop(),U.push(_e+_[pe]+le);else if(v[pe]){if(j=v[pe][1],j==69&&(j=P[P.l++]),j>U.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+U.join("|")+"|");return}var pt=U.slice(-j);U.length-=j,U.push(v[pe][0]+"("+pt.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}U.length==1?F[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function T(P){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=P.read_shift(2),F[3]=P[P.l++],F[0].c=P[P.l++],F}function S(P,F){var U=T(P);return U[1].t="s",U[1].v=P.read_shift(F-4,"cstr"),U}function b(P,F,U,j){var M=Ee(6+j.length);M.write_shift(2,P),M.write_shift(1,U),M.write_shift(1,F),M.write_shift(1,39);for(var J=0;J<j.length;++J){var _e=j.charCodeAt(J);M.write_shift(1,_e>=128?95:_e)}return M.write_shift(1,0),M}function I(P,F){var U=T(P);U[1].v=P.read_shift(2);var j=U[1].v>>1;if(U[1].v&1)switch(j&7){case 0:j=(j>>3)*5e3;break;case 1:j=(j>>3)*500;break;case 2:j=(j>>3)/20;break;case 3:j=(j>>3)/200;break;case 4:j=(j>>3)/2e3;break;case 5:j=(j>>3)/2e4;break;case 6:j=(j>>3)/16;break;case 7:j=(j>>3)/64;break}return U[1].v=j,U}function D(P,F){var U=T(P),j=P.read_shift(4),M=P.read_shift(4),J=P.read_shift(2);if(J==65535)return j===0&&M===3221225472?(U[1].t="e",U[1].v=15):j===0&&M===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var _e=J&32768;return J=(J&32767)-16446,U[1].v=(1-_e*2)*(M*Math.pow(2,J+32)+j*Math.pow(2,J)),U}function C(P,F,U,j){var M=Ee(14);if(M.write_shift(2,P),M.write_shift(1,U),M.write_shift(1,F),j==0)return M.write_shift(4,0),M.write_shift(4,0),M.write_shift(2,65535),M;var J=0,_e=0,le=0,pe=0;return j<0&&(J=1,j=-j),_e=Math.log2(j)|0,j/=Math.pow(2,_e-31),pe=j>>>0,pe&2147483648||(j/=2,++_e,pe=j>>>0),j-=pe,pe|=2147483648,pe>>>=0,j*=Math.pow(2,32),le=j>>>0,M.write_shift(4,le),M.write_shift(4,pe),_e+=16383+(J?32768:0),M.write_shift(2,_e),M}function R(P,F){var U=D(P);return P.l+=F-14,U}function k(P,F){var U=T(P),j=P.read_shift(4);return U[1].v=j>>6,U}function L(P,F){var U=T(P),j=P.read_shift(8,"f");return U[1].v=j,U}function ie(P,F){var U=L(P);return P.l+=F-10,U}function fe(P,F){return P[P.l+F-1]==0?P.read_shift(F,"cstr"):""}function se(P,F){var U=P[P.l++];U>F-1&&(U=F-1);for(var j="";j.length<U;)j+=String.fromCharCode(P[P.l++]);return j}function ce(P,F,U){if(!(!U.qpro||F<21)){var j=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var M=P.read_shift(F-21,"cstr");return[j,M]}}function q(P,F){for(var U={},j=P.l+F;P.l<j;){var M=P.read_shift(2);if(M==14e3){for(U[M]=[0,""],U[M][0]=P.read_shift(2);P[P.l];)U[M][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return U}function oe(P,F){var U=Ee(5+P.length);U.write_shift(2,14e3),U.write_shift(2,F);for(var j=0;j<P.length;++j){var M=P.charCodeAt(j);U[U.l++]=M>127?95:M}return U[U.l++]=0,U}var ee={0:{n:"BOF",f:TR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},we={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),cX=/^\s|\s$|[\t\n\r]/;function OR(e,t){if(!t.bookSST)return"";var r=[Hr];r[r.length]=ze("sst",null,{xmlns:Fd[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(cX)&&(i+=' xml:space="preserve"'),i+=">"+Qt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function dX(e){return[e.read_shift(4),e.read_shift(4)]}function uX(e,t){return t||(t=Ee(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var fX=rY;function hX(e){var t=us();Pe(t,159,uX(e));for(var r=0;r<e.length;++r)Pe(t,19,fX(e[r]));return Pe(t,160),t.end()}function mX(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function FR(e){var t=0,r,s=mX(e),a=s.length+1,i,o,l,c,d;for(r=kl(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var pX=function(){function e(a,i){switch(i.type){case"base64":return t(Oi(a),i);case"binary":return t(a,i);case"buffer":return t(Vt&&Buffer.isBuffer(a)?a.toString("binary"):sh(a),i);case"array":return t(Jp(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,y,m=-1;y=h.exec(u);){switch(y[0]){case"\\cell":var g=u.slice(p,h.lastIndex-y[0].length);if(g[0]==" "&&(g=g.slice(1)),++m,g.length){var w={v:g,t:"s"};Array.isArray(l)?l[f][m]=w:l[Zt({r:f,c:m})]=w}break}p=h.lastIndex}m>d.e.c&&(d.e.c=m)}),l["!ref"]=zr(d),l}function r(a,i){return Bl(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=lr(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Zt({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Fi(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function fj(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var xX=6,wi=xX;function M0(e){return Math.floor((e+Math.round(128/wi)/256)*wi)}function L0(e){return Math.floor((e-5)/wi*100+.5)/100}function hy(e){return Math.round((e*wi+5)/wi*256)/256}function F_(e){e.width?(e.wpx=M0(e.width),e.wch=L0(e.wpx),e.MDW=wi):e.wpx?(e.wch=L0(e.wpx),e.width=hy(e.wch),e.MDW=wi):typeof e.wch=="number"&&(e.width=hy(e.wch),e.wpx=M0(e.width),e.MDW=wi),e.customWidth&&delete e.customWidth}var gX=96,IR=gX;function B0(e){return e*96/IR}function RR(e){return e*IR/96}function vX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=ze("numFmt",null,{numFmtId:s,formatCode:Qt(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ze("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function yX(e){var t=[];return t[t.length]=ze("cellXfs",null),e.forEach(function(r){t[t.length]=ze("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ze("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function MR(e,t){var r=[Hr,ze("styleSheet",null,{xmlns:Fd[0],"xmlns:vt":rn.vt})],s;return e.SSF&&(s=vX(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=yX(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function _X(e,t){var r=e.read_shift(2),s=Pn(e);return[r,s]}function wX(e,t,r){r||(r=Ee(6+4*t.length)),r.write_shift(2,e),sn(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function NX(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=cY(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=lY(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Pn(e),s}function bX(e,t){t||(t=Ee(25+4*32)),t.write_shift(2,e.sz*20),dY(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),I0(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),sn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var jX=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fg,SX=Ja;function hj(e,t){t||(t=Ee(4*3+8*7+16*1)),fg||(fg=N_(jX));var r=fg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(I0({auto:1},t),I0({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function EX(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function LR(e,t,r){r||(r=Ee(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ru(e,t){return t||(t=Ee(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var TX=Ja;function CX(e,t){return t||(t=Ee(51)),t.write_shift(1,0),ru(null,t),ru(null,t),ru(null,t),ru(null,t),ru(null,t),t.length>t.l?t.slice(0,t.l):t}function kX(e,t){return t||(t=Ee(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),F0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function AX(e,t,r){var s=Ee(2052);return s.write_shift(4,e),F0(t,s),F0(r,s),s.length>s.l?s.slice(0,s.l):s}function PX(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(Pe(e,615,ja(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&Pe(e,44,wX(a,t[a]))}),Pe(e,616))}}function DX(e){var t=1;Pe(e,611,ja(t)),Pe(e,43,bX({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Pe(e,612)}function OX(e){var t=2;Pe(e,603,ja(t)),Pe(e,45,hj({patternType:"none"})),Pe(e,45,hj({patternType:"gray125"})),Pe(e,604)}function FX(e){var t=1;Pe(e,613,ja(t)),Pe(e,46,CX()),Pe(e,614)}function IX(e){var t=1;Pe(e,626,ja(t)),Pe(e,47,LR({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Pe(e,627)}function RX(e,t){Pe(e,617,ja(t.length)),t.forEach(function(r){Pe(e,47,LR(r,0))}),Pe(e,618)}function MX(e){var t=1;Pe(e,619,ja(t)),Pe(e,48,kX({xfId:0,builtinId:0,name:"Normal"})),Pe(e,620)}function LX(e){var t=0;Pe(e,505,ja(t)),Pe(e,506)}function BX(e){var t=0;Pe(e,508,AX(t,"TableStyleMedium9","PivotStyleMedium4")),Pe(e,509)}function UX(e,t){var r=us();return Pe(r,278),PX(r,e.SSF),DX(r),OX(r),FX(r),IX(r),RX(r,t.cellXfs),MX(r),LX(r),BX(r),Pe(r,279),r.end()}function BR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Hr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function VX(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pn(e)}}function $X(e){var t=Ee(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),sn(e.name,t),t.slice(0,t.l)}function zX(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function qX(e){var t=Ee(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function WX(e,t){var r=Ee(8+2*t.length);return r.write_shift(4,e),sn(t,r),r.slice(0,r.l)}function HX(e){return e.l+=4,e.read_shift(4)!=0}function KX(e,t){var r=Ee(8);return r.write_shift(4,e),r.write_shift(4,1),r}function GX(){var e=us();return Pe(e,332),Pe(e,334,ja(1)),Pe(e,335,$X({name:"XLDAPR",version:12e4,flags:3496657072})),Pe(e,336),Pe(e,339,WX(1,"XLDAPR")),Pe(e,52),Pe(e,35,ja(514)),Pe(e,4096,ja(0)),Pe(e,4097,Us(1)),Pe(e,36),Pe(e,53),Pe(e,340),Pe(e,337,KX(1)),Pe(e,51,qX([[1,0]])),Pe(e,338),Pe(e,333),e.end()}function UR(){var e=[Hr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function QX(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Zt(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var xc=1024;function VR(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ze("xml",null,{"xmlns:v":Ns.v,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:mv":Ns.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];xc<e*1e3;)xc+=1e3;return t.forEach(function(i){var o=nn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=ze("v:fill",c,l),u={on:"t",obscured:"t"};++xc,a=a.concat(["<v:shape"+Tf({id:"_x0000_s"+xc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,ze("v:shadow",null,u),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",pn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),pn("x:AutoFill","False"),pn("x:Row",String(o.r)),pn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function $R(e){var t=[Hr,ze("comments",null,{xmlns:Fd[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Qt(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Qt(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(pn("t",Qt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(pn("t",Qt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function YX(e,t,r){var s=[Hr,ze("ThreadedComments",null,{xmlns:rn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(ze("threadedComment",pn("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function XX(e){var t=[Hr,ze("personList",null,{xmlns:rn.TCMNT,"xmlns:x":Fd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(ze("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ZX(e){var t={};t.iauthor=e.read_shift(4);var r=zl(e);return t.rfx=r.s,t.ref=Zt(r.s),e.l+=16,t}function JX(e,t){return t==null&&(t=Ee(36)),t.write_shift(4,e[1].iauthor),Rd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var eZ=Pn;function tZ(e){return sn(e.slice(0,54))}function rZ(e){var t=us(),r=[];return Pe(t,628),Pe(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Pe(t,632,tZ(a.a)))})}),Pe(t,631),Pe(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:nn(s[0]),e:nn(s[0])};Pe(t,635,JX([i,a])),a.t&&a.t.length>0&&Pe(t,637,sY(a)),Pe(t,636),delete a.iauthor})}),Pe(t,634),Pe(t,629),t.end()}function nZ(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Jt.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var zR=["xlsb","xlsm","xlam","biff8","xla"],sZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+An(u)+(c?"":"$")+_n(d)}return function(a,i){return t=i,a.replace(e,r)}}(),I_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,R_=function(){return function(t,r){return t.replace(I_,function(s,a,i,o,l,c){var d=k_(o)-(i?0:r.c),u=C_(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",h=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+h})}}();function aZ(e,t){return e.replace(I_,function(r,s,a,i,o,l){return s+(a=="$"?a+i:An(k_(i)+t.c))+(o=="$"?o+l:_n(C_(l)+t.r))})}function iZ(e){return e.length!=1}function Lr(e){e.l+=1}function Do(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function qR(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return WR(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=Do(e),l=Do(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function WR(e){var t=Do(e),r=Do(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function oZ(e,t,r){if(r.biff<8)return WR(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Do(e),o=Do(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function HR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return lZ(e);var s=e.read_shift(r&&r.biff==12?4:2),a=Do(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function lZ(e){var t=Do(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function cZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function dZ(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return uZ(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function uZ(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function fZ(e,t,r){var s=(e[e.l++]&96)>>5,a=qR(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function hZ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=qR(e,i,r);return[s,a,o]}function mZ(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function pZ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function xZ(e,t,r){var s=(e[e.l++]&96)>>5,a=oZ(e,t-1,r);return[s,a]}function gZ(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function mj(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function vZ(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function yZ(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function _Z(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function wZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function NZ(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function KR(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function bZ(e){return e.read_shift(2),KR(e)}function jZ(e){return e.read_shift(2),KR(e)}function SZ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=HR(e,0,r);return[s,a]}function EZ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=dZ(e,0,r);return[s,a]}function TZ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=HR(e,0,r);return[s,a,i]}function CZ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[CJ[a],YR[a],s]}function kZ(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:AZ(e);return[a,(i[0]===0?YR:TJ)[i[1]]]}function AZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function PZ(e,t,r){e.l+=r&&r.biff==2?3:4}function DZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function OZ(e){return e.l++,oh[e.read_shift(1)]}function FZ(e){return e.l++,e.read_shift(2)}function IZ(e){return e.l++,e.read_shift(1)!==0}function RZ(e){return e.l++,Md(e)}function MZ(e,t,r){return e.l++,kR(e,t-1,r)}function LZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=TY(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=oh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Md(e);break;case 2:r[1]=PY(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function BZ(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?zl:FY)(e));return a}function UZ(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=LZ(e,r.biff);return o}function VZ(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function $Z(e,t,r){if(r.biff==5)return zZ(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function zZ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function qZ(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function WZ(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function HZ(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function KZ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var GZ=Ja,QZ=Ja,YZ=Ja;function lh(e,t,r){return e.l+=2,[cZ(e)]}function M_(e){return e.l+=6,[]}var XZ=lh,ZZ=M_,JZ=M_,eJ=lh;function GR(e){return e.l+=2,[TR(e),e.read_shift(2)&1]}var tJ=lh,rJ=GR,nJ=M_,sJ=lh,aJ=lh,iJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function oJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=iJ[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function lJ(e){return e.l+=2,[e.read_shift(4)]}function cJ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function dJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function uJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function hJ(e){return e.l+=4,[0,0]}var pj={1:{n:"PtgExp",f:DZ},2:{n:"PtgTbl",f:YZ},3:{n:"PtgAdd",f:Lr},4:{n:"PtgSub",f:Lr},5:{n:"PtgMul",f:Lr},6:{n:"PtgDiv",f:Lr},7:{n:"PtgPower",f:Lr},8:{n:"PtgConcat",f:Lr},9:{n:"PtgLt",f:Lr},10:{n:"PtgLe",f:Lr},11:{n:"PtgEq",f:Lr},12:{n:"PtgGe",f:Lr},13:{n:"PtgGt",f:Lr},14:{n:"PtgNe",f:Lr},15:{n:"PtgIsect",f:Lr},16:{n:"PtgUnion",f:Lr},17:{n:"PtgRange",f:Lr},18:{n:"PtgUplus",f:Lr},19:{n:"PtgUminus",f:Lr},20:{n:"PtgPercent",f:Lr},21:{n:"PtgParen",f:Lr},22:{n:"PtgMissArg",f:Lr},23:{n:"PtgStr",f:MZ},26:{n:"PtgSheet",f:cJ},27:{n:"PtgEndSheet",f:dJ},28:{n:"PtgErr",f:OZ},29:{n:"PtgBool",f:IZ},30:{n:"PtgInt",f:FZ},31:{n:"PtgNum",f:RZ},32:{n:"PtgArray",f:gZ},33:{n:"PtgFunc",f:CZ},34:{n:"PtgFuncVar",f:kZ},35:{n:"PtgName",f:VZ},36:{n:"PtgRef",f:SZ},37:{n:"PtgArea",f:fZ},38:{n:"PtgMemArea",f:qZ},39:{n:"PtgMemErr",f:GZ},40:{n:"PtgMemNoMem",f:QZ},41:{n:"PtgMemFunc",f:WZ},42:{n:"PtgRefErr",f:HZ},43:{n:"PtgAreaErr",f:mZ},44:{n:"PtgRefN",f:EZ},45:{n:"PtgAreaN",f:xZ},46:{n:"PtgMemAreaN",f:uJ},47:{n:"PtgMemNoMemN",f:fJ},57:{n:"PtgNameX",f:$Z},58:{n:"PtgRef3d",f:TZ},59:{n:"PtgArea3d",f:hZ},60:{n:"PtgRefErr3d",f:KZ},61:{n:"PtgAreaErr3d",f:pZ},255:{}},mJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pJ={1:{n:"PtgElfLel",f:GR},2:{n:"PtgElfRw",f:sJ},3:{n:"PtgElfCol",f:XZ},6:{n:"PtgElfRwV",f:aJ},7:{n:"PtgElfColV",f:eJ},10:{n:"PtgElfRadical",f:tJ},11:{n:"PtgElfRadicalS",f:nJ},13:{n:"PtgElfColS",f:ZZ},15:{n:"PtgElfColSV",f:JZ},16:{n:"PtgElfRadicalLel",f:rJ},25:{n:"PtgList",f:oJ},29:{n:"PtgSxName",f:lJ},255:{}},xJ={0:{n:"PtgAttrNoop",f:hJ},1:{n:"PtgAttrSemi",f:NZ},2:{n:"PtgAttrIf",f:_Z},4:{n:"PtgAttrChoose",f:vZ},8:{n:"PtgAttrGoto",f:yZ},16:{n:"PtgAttrSum",f:PZ},32:{n:"PtgAttrBaxcel",f:mj},33:{n:"PtgAttrBaxcel",f:mj},64:{n:"PtgAttrSpace",f:bZ},65:{n:"PtgAttrSpaceSemi",f:jZ},128:{n:"PtgAttrIfError",f:wZ},255:{}};function gJ(e,t,r,s){if(s.biff<8)return Ja(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=UZ(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=BZ(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Ja(e,t)),i}function vJ(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=pj[i]||pj[mJ[i]],(i===24||i===25)&&(a=(i===24?pJ:xJ)[e[e.l+1]]),!a||!a.f?Ja(e,t):o.push([a.n,a.f(e,t,r)]);return o}function yJ(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var _J={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function QR(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function xj(e,t,r){var s=QR(e,t,r);return s=="#REF"?s:wJ(s,r)}function xd(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,h=0,p,y="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",w=0,v=e[0].length;w<v;++w){var _=e[0][w];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=Er(" ",e[0][m][1][1]);break;case 1:g=Er("\r",e[0][m][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}d=d+g,m=-1}l.push(d+_J[_[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ou(_[1][1],o,a),l.push(Fu(u,i));break;case"PtgRefN":u=r?Ou(_[1][1],r,a):_[1][1],l.push(Fu(u,i));break;case"PtgRef3d":f=_[1][1],u=Ou(_[1][2],o,a),y=xj(s,f,a),l.push(y+"!"+Fu(u,i));break;case"PtgFunc":case"PtgFuncVar":var N=_[1][0],T=_[1][1];N||(N=0),N&=127;var S=N==0?[]:l.slice(-N);l.length-=N,T==="User"&&(T=S.shift()),l.push(T+"("+S.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":p=ej(_[1][1],r?{s:r}:o,a),l.push(dg(p,a));break;case"PtgArea":p=ej(_[1][1],o,a),l.push(dg(p,a));break;case"PtgArea3d":f=_[1][1],p=_[1][2],y=xj(s,f,a),l.push(y+"!"+dg(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var b=(s.names||[])[h-1]||(s[0]||[])[h],I=b?b.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),l.push(I);break;case"PtgNameX":var D=_[1][1];h=_[1][2];var C;if(a.biff<=5)D<0&&(D=-D),s[D]&&(C=s[D][h]);else{var R="";if(((s[D]||[])[0]||[])[0]==14849||(((s[D]||[])[0]||[])[0]==1025?s[D][h]&&s[D][h].itab>0&&(R=s.SheetNames[s[D][h].itab-1]+"!"):R=s.SheetNames[h-1]+"!"),s[D]&&s[D][h])R+=s[D][h].Name;else if(s[0]&&s[0][h])R+=s[0][h].Name;else{var k=(QR(s,D,a)||"").split(";;");k[h-1]?R=k[h-1]:R+="SH33TJSERRX"}l.push(R);break}C||(C={Name:"SH33TJSERRY"}),l.push(C.Name);break;case"PtgParen":var L="(",ie=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:L=Er(" ",e[0][m][1][1])+L;break;case 3:L=Er("\r",e[0][m][1][1])+L;break;case 4:ie=Er(" ",e[0][m][1][1])+ie;break;case 5:ie=Er("\r",e[0][m][1][1])+ie;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(L+l.pop()+ie);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var fe={c:r.c,r:r.r};if(s.sharedf[Zt(u)]){var se=s.sharedf[Zt(u)];l.push(xd(se,o,fe,s,a))}else{var ce=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(xd(d[1],o,fe,s,a)),ce=!0;break}ce||l.push(_[1])}break;case"PtgArray":l.push("{"+yJ(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][w][0])==-1){_=e[0][m];var oe=!0;switch(_[1][0]){case 4:oe=!1;case 0:g=Er(" ",_[1][1]);break;case 5:oe=!1;case 1:g=Er("\r",_[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((oe?g:"")+l.pop()+(oe?"":g)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function NJ(e){if(e==null){var t=Ee(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Al(e);return Al(0)}function bJ(e,t,r,s,a){var i=Pl(t,r,a),o=NJ(e.v),l=Ee(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Ee(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=mn([i,o,l,d]);return f}function ex(e,t,r){var s=e.read_shift(4),a=vJ(e,s,r),i=e.read_shift(4),o=i>0?gJ(e,i,a,r):null;return[a,o]}var jJ=ex,tx=ex,SJ=ex,EJ=ex,TJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},CJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kJ(e){var t="of:="+e.replace(I_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function AJ(e){return e.replace(/\./,"!")}var Iu=typeof Map<"u";function L_(e,t,r){var s=0,a=e.length;if(r){if(Iu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Iu?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(Iu?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function rx(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(wi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=L0(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=hy(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function XR(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vo(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){HI(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function PJ(e,t,r){if(e&&e["!ref"]){var s=lr(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function DJ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+zr(e[r])+'"/>';return t+"</mergeCells>"}function OJ(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Ef(Qt(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+ze("outlinePr",null,d)}!i&&!l||(a[a.length]=ze("sheetPr",l,o))}var FJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],IJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function RJ(e){var t={sheet:1};return FJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),IJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=FR(e.password).toString(16).toUpperCase()),ze("sheetProtection",null,t)}function MJ(e){return XR(e),ze("pageMargins",null,e)}function LJ(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=ze("col",null,rx(a,s)));return r[r.length]="</cols>",r.join("")}function BJ(e,t,r,s){var a=typeof e.ref=="string"?e.ref:zr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ps(a);o.s.r==o.e.r&&(o.e.r=Ps(t["!ref"]).e.r,a=zr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),ze("autoFilter",null,{ref:a})}function UJ(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,a),{})}function VJ(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=oh[e.v];break;case"d":s&&s.cellDates?a=qn(e.v,-1).toISOString():(e=hs(e),e.t="n",a=""+(e.v=fs(qn(e.v)))),typeof e.z>"u"&&(e.z=Tr[14]);break;default:a=e.v;break}var l=pn("v",Qt(a)),c={r:t},d=Vo(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=pn("v",""+L_(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ze("f",Qt(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ze("c",l,c)}function $J(e,t,r,s){var a=[],i=[],o=lr(e["!ref"]),l="",c,d="",u=[],f=0,h=0,p=e["!rows"],y=Array.isArray(e),m={r:d},g,w=-1;for(h=o.s.c;h<=o.e.c;++h)u[h]=An(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=_n(f),h=o.s.c;h<=o.e.c;++h){c=u[h]+d;var v=y?(e[f]||[])[h]:e[c];v!==void 0&&(l=VJ(v,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(m={r:d},p&&p[f]&&(g=p[f],g.hidden&&(m.hidden=1),w=-1,g.hpx?w=B0(g.hpx):g.hpt&&(w=g.hpt),w>-1&&(m.ht=w,m.customHeight=1),g.level&&(m.outlineLevel=g.level)),a[a.length]=ze("row",i.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},g=p[f],g.hidden&&(m.hidden=1),w=-1,g.hpx?w=B0(g.hpx):g.hpt&&(w=g.hpt),w>-1&&(m.ht=w,m.customHeight=1),g.level&&(m.outlineLevel=g.level),a[a.length]=ze("row","",m));return a.join("")}function ZR(e,t,r,s){var a=[Hr,ze("worksheet",null,{xmlns:Fd[0],"xmlns:r":rn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=lr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=zr(u)}s||(s={}),c["!comments"]=[];var f=[];OJ(c,r,e,t,a),a[a.length]=ze("dimension",null,{ref:d}),a[a.length]=UJ(c,t,e,r),t.sheetFormat&&(a[a.length]=ze("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=LJ(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=$J(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=RJ(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=BJ(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=DJ(c["!merges"]));var h=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(y=Gt(s,-1,Qt(m[1].Target).replace(/#.*$/,""),Ut.HLINK),p["r:id"]="rId"+y),(h=m[1].Target.indexOf("#"))>-1&&(p.location=Qt(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=Qt(m[1].Tooltip)),a[a.length]=ze("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=MJ(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=pn("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(y=Gt(s,-1,"../drawings/drawing"+(e+1)+".xml",Ut.DRAW),a[a.length]=ze("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=Gt(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ut.VML),a[a.length]=ze("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function zJ(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function qJ(e,t,r){var s=Ee(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=B0(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Zt(d)];y&&(f<0&&(f=p),h=p)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,h))}var m=s.l;return s.l=c,s.write_shift(4,l),s.l=m,s.length>s.l?s.slice(0,s.l):s}function WJ(e,t,r,s){var a=qJ(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&Pe(e,0,a)}var HJ=zl,KJ=Rd;function GJ(){}function QJ(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=aY(e),r}function YJ(e,t,r){r==null&&(r=Ee(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return I0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hR(e,r),r.slice(0,r.l)}function XJ(e){var t=ra(e);return[t]}function ZJ(e,t,r){return r==null&&(r=Ee(8)),Ul(t,r)}function JJ(e){var t=Vl(e);return[t]}function eee(e,t,r){return r==null&&(r=Ee(4)),$l(t,r)}function tee(e){var t=ra(e),r=e.read_shift(1);return[t,r,"b"]}function ree(e,t,r){return r==null&&(r=Ee(9)),Ul(t,r),r.write_shift(1,e.v?1:0),r}function nee(e){var t=Vl(e),r=e.read_shift(1);return[t,r,"b"]}function see(e,t,r){return r==null&&(r=Ee(5)),$l(t,r),r.write_shift(1,e.v?1:0),r}function aee(e){var t=ra(e),r=e.read_shift(1);return[t,r,"e"]}function iee(e,t,r){return r==null&&(r=Ee(9)),Ul(t,r),r.write_shift(1,e.v),r}function oee(e){var t=Vl(e),r=e.read_shift(1);return[t,r,"e"]}function lee(e,t,r){return r==null&&(r=Ee(8)),$l(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function cee(e){var t=ra(e),r=e.read_shift(4);return[t,r,"s"]}function dee(e,t,r){return r==null&&(r=Ee(12)),Ul(t,r),r.write_shift(4,t.v),r}function uee(e){var t=Vl(e),r=e.read_shift(4);return[t,r,"s"]}function fee(e,t,r){return r==null&&(r=Ee(8)),$l(t,r),r.write_shift(4,t.v),r}function hee(e){var t=ra(e),r=Md(e);return[t,r,"n"]}function mee(e,t,r){return r==null&&(r=Ee(16)),Ul(t,r),Al(e.v,r),r}function pee(e){var t=Vl(e),r=Md(e);return[t,r,"n"]}function xee(e,t,r){return r==null&&(r=Ee(12)),$l(t,r),Al(e.v,r),r}function gee(e){var t=ra(e),r=mR(e);return[t,r,"n"]}function vee(e,t,r){return r==null&&(r=Ee(12)),Ul(t,r),pR(e.v,r),r}function yee(e){var t=Vl(e),r=mR(e);return[t,r,"n"]}function _ee(e,t,r){return r==null&&(r=Ee(8)),$l(t,r),pR(e.v,r),r}function wee(e){var t=ra(e),r=A_(e);return[t,r,"is"]}function Nee(e){var t=ra(e),r=Pn(e);return[t,r,"str"]}function bee(e,t,r){return r==null&&(r=Ee(12+4*e.v.length)),Ul(t,r),sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function jee(e){var t=Vl(e),r=Pn(e);return[t,r,"str"]}function See(e,t,r){return r==null&&(r=Ee(8+4*e.v.length)),$l(t,r),sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Eee(e,t,r){var s=e.l+t,a=ra(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=tx(e,s-e.l,r);o[3]=xd(l,null,a,r.supbooks,r)}else e.l=s;return o}function Tee(e,t,r){var s=e.l+t,a=ra(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=tx(e,s-e.l,r);o[3]=xd(l,null,a,r.supbooks,r)}else e.l=s;return o}function Cee(e,t,r){var s=e.l+t,a=ra(e);a.r=r["!row"];var i=Md(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=tx(e,s-e.l,r);o[3]=xd(l,null,a,r.supbooks,r)}else e.l=s;return o}function kee(e,t,r){var s=e.l+t,a=ra(e);a.r=r["!row"];var i=Pn(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=tx(e,s-e.l,r);o[3]=xd(l,null,a,r.supbooks,r)}else e.l=s;return o}var Aee=zl,Pee=Rd;function Dee(e,t){return t==null&&(t=Ee(4)),t.write_shift(4,e),t}function Oee(e,t){var r=e.l+t,s=zl(e),a=P_(e),i=Pn(e),o=Pn(e),l=Pn(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function Fee(e,t){var r=Ee(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Rd({s:nn(e[0]),e:nn(e[0])},r),D_("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return sn(a||"",r),sn(e[1].Tooltip||"",r),sn("",r),r.slice(0,r.l)}function Iee(){}function Ree(e,t,r){var s=e.l+t,a=xR(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=jJ(e,s-e.l,r);o[1]=l}else e.l=s;return o}function Mee(e,t,r){var s=e.l+t,a=zl(e),i=[a];if(r.cellFormula){var o=EJ(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function Lee(e,t,r){r==null&&(r=Ee(18));var s=rx(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var JR=["left","right","top","bottom","header","footer"];function Bee(e){var t={};return JR.forEach(function(r){t[r]=Md(e)}),t}function Uee(e,t){return t==null&&(t=Ee(6*8)),XR(e),JR.forEach(function(r){Al(e[r],t)}),t}function Vee(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function $ee(e,t,r){r==null&&(r=Ee(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function zee(e){var t=Ee(24);return t.write_shift(4,4),t.write_shift(4,1),Rd(e,t),t}function qee(e,t){return t==null&&(t=Ee(16*4+2)),t.write_shift(2,e.password?FR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Wee(){}function Hee(){}function Kee(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=hs(t),t.z=t.z||Tr[14],t.v=fs(qn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=Vo(a.cellXfs,t,a),t.l&&i["!links"].push([Zt(c),t.l]),t.c&&i["!comments"].push([Zt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=L_(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Pe(e,18,fee(t,c)):Pe(e,7,dee(t,c))):(c.t="str",o?Pe(e,17,See(t,c)):Pe(e,6,bee(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Pe(e,13,_ee(t,c)):Pe(e,2,vee(t,c)):o?Pe(e,16,xee(t,c)):Pe(e,5,mee(t,c)),!0;case"b":return c.t="b",o?Pe(e,15,see(t,c)):Pe(e,4,ree(t,c)),!0;case"e":return c.t="e",o?Pe(e,14,lee(t,c)):Pe(e,3,iee(t,c)),!0}return o?Pe(e,12,eee(t,c)):Pe(e,1,ZJ(t,c)),!0}function Gee(e,t,r,s){var a=lr(t["!ref"]||"A1"),i,o="",l=[];Pe(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=_n(u),WJ(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(l[h]=An(h)),i=l[h]+o;var p=c?(t[u]||[])[h]:t[i];if(!p){f=!1;continue}f=Kee(e,p,u,h,s,t,f)}}Pe(e,146)}function Qee(e,t){!t||!t["!merges"]||(Pe(e,177,Dee(t["!merges"].length)),t["!merges"].forEach(function(r){Pe(e,176,Pee(r))}),Pe(e,178))}function Yee(e,t){!t||!t["!cols"]||(Pe(e,390),t["!cols"].forEach(function(r,s){r&&Pe(e,60,Lee(s,r))}),Pe(e,391))}function Xee(e,t){!t||!t["!ref"]||(Pe(e,648),Pe(e,649,zee(lr(t["!ref"]))),Pe(e,650))}function Zee(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Gt(r,-1,s[1].Target.replace(/#.*$/,""),Ut.HLINK);Pe(e,494,Fee(s,a))}}),delete t["!links"]}function Jee(e,t,r,s){if(t["!comments"].length>0){var a=Gt(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ut.VML);Pe(e,551,D_("rId"+a)),t["!legacy"]=a}}function ete(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:zr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ps(i);l.s.r==l.e.r&&(l.e.r=Ps(t["!ref"]).e.r,i=zr(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),Pe(e,161,Rd(lr(i))),Pe(e,162)}}function tte(e,t,r){Pe(e,133),Pe(e,137,$ee(t,r)),Pe(e,138),Pe(e,134)}function rte(e,t){t["!protect"]&&Pe(e,535,qee(t["!protect"]))}function nte(e,t,r,s){var a=us(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=lr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Pe(a,129),(r.vbaraw||o["!outline"])&&Pe(a,147,YJ(l,o["!outline"])),Pe(a,148,KJ(c)),tte(a,o,r.Workbook),Yee(a,o),Gee(a,o,e,t),rte(a,o),ete(a,o,r,e),Qee(a,o),Zee(a,o,s),o["!margins"]&&Pe(a,476,Uee(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Xee(a,o),Jee(a,o,e,s),Pe(a,130),a.end()}function ste(e,t){e.l+=10;var r=Pn(e);return{name:r}}var ate=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ite(e){return!e.Workbook||!e.Workbook.WBProps?"false":MQ(e.Workbook.WBProps.date1904)?"true":"false"}var ote="][*?/\\".split("");function e6(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return ote.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function lte(e,t,r){e.forEach(function(s,a){e6(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function cte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];lte(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)PJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function t6(e){var t=[Hr];t[t.length]=ze("workbook",null,{xmlns:Fd[0],"xmlns:r":rn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(ate.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=ze("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Qt(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ze("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ze("definedName",Qt(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function dte(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=fy(e),r.name=Pn(e),r}function ute(e,t){return t||(t=Ee(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),D_(e.strRelID,t),sn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function fte(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Pn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function hte(e,t){t||(t=Ee(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function mte(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=iY(e),o=SJ(e,0,r),l=P_(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function pte(e,t){Pe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Pe(e,156,ute(a))}Pe(e,144)}function xte(e,t){t||(t=Ee(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return sn("SheetJS",t),sn(C0.version,t),sn(C0.version,t),sn("7262",t),t.length>t.l?t.slice(0,t.l):t}function gte(e,t){t||(t=Ee(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function vte(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(Pe(e,135),Pe(e,158,gte(a)),Pe(e,136))}}function yte(e,t){var r=us();return Pe(r,131),Pe(r,128,xte()),Pe(r,153,hte(e.Workbook&&e.Workbook.WBProps||null)),vte(r,e),pte(r,e),Pe(r,132),r.end()}function _te(e,t,r){return(t.slice(-4)===".bin"?yte:t6)(e)}function wte(e,t,r,s,a){return(t.slice(-4)===".bin"?nte:ZR)(e,r,s,a)}function Nte(e,t,r){return(t.slice(-4)===".bin"?UX:MR)(e,r)}function bte(e,t,r){return(t.slice(-4)===".bin"?hX:OR)(e,r)}function jte(e,t,r){return(t.slice(-4)===".bin"?rZ:$R)(e)}function Ste(e){return(e.slice(-4)===".bin"?GX:UR)()}function Ete(e,t){var r=[];return e.Props&&r.push(NY(e.Props,t)),e.Custprops&&r.push(bY(e.Props,e.Custprops)),r.join("")}function Tte(){return""}function Cte(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(ze("NumberFormat",null,{"ss:Format":Qt(Tr[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(ze("Style",i.join(""),o))}),ze("Styles",r.join(""))}function r6(e){return ze("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+R_(e.Ref,{r:0,c:0})})}function kte(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(r6(a)))}return ze("Names",r.join(""))}function Ate(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(r6(l)))}return i.join("")}function Pte(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ze("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ze("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ze("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(ze("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(pn("ProtectContents","True")),e["!protect"].objects&&a.push(pn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(pn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(pn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(pn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":ze("WorksheetOptions",a.join(""),{xmlns:Ns.x})}function Dte(e){return e.map(function(t){var r=RQ(t.t||""),s=ze("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",s,{"ss:Author":t.a})}).join("")}function Ote(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Qt(R_(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=nn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Qt(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Qt(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",h="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=oh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Tr[14]);break;case"s":f="String",h=IQ(e.v||"");break}var p=Vo(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(m+=Dte(e.c)),ze("Cell",m,l)}function Fte(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=RR(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Ite(e,t,r,s){if(!e["!ref"])return"";var a=lr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,w){F_(g);var v=!!g.width,_=rx(w,g),N={"ss:Index":w+1};v&&(N["ss:Width"]=M0(_.width)),g.hidden&&(N["ss:Hidden"]="1"),l.push(ze("Column",null,N))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[Fte(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(h=!0);break}if(!h){var p={r:d,c:f},y=Zt(p),m=c?(e[d]||[])[f]:e[y];u.push(Ote(m,y,e,t,r,s,p))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Rte(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Ate(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?Ite(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Pte(i,t,e,r)),s.join("")}function Mte(e,t){t||(t={}),e.SSF||(e.SSF=hs(Tr)),e.SSF&&(Xp(),Yp(e.SSF),t.revssf=Zp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Ete(e,t)),r.push(Tte()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(ze("Worksheet",Rte(s,t,e),{"ss:Name":Qt(e.SheetNames[s])}));return r[2]=Cte(e,t),r[3]=kte(e),Hr+ze("Workbook",r.join(""),{xmlns:Ns.ss,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:ss":Ns.ss,"xmlns:dt":Ns.dt,"xmlns:html":Ns.html})}var hg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Lte(e,t){var r=[],s=[],a=[],i=0,o,l=zb(rj,"n"),c=zb(nj,"n");if(e.Props)for(o=Nn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Nn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)ER.indexOf(a[i][0])>-1||bR.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Jt.utils.cfb_add(t,"/SummaryInformation",lj(s,hg.SI,c,nj)),(r.length||d.length)&&Jt.utils.cfb_add(t,"/DocumentSummaryInformation",lj(r,hg.DSI,l,rj,d.length?d:null,hg.UDI))}function Bte(e,t){var r=t||{},s=Jt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Jt.utils.cfb_add(s,a,n6(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Lte(e,s),r.biff==8&&e.vbaraw&&nZ(s,Jt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Ute={0:{f:zJ},1:{f:XJ},2:{f:gee},3:{f:aee},4:{f:tee},5:{f:hee},6:{f:Nee},7:{f:cee},8:{f:kee},9:{f:Cee},10:{f:Eee},11:{f:Tee},12:{f:JJ},13:{f:yee},14:{f:oee},15:{f:nee},16:{f:pee},17:{f:jee},18:{f:uee},19:{f:A_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mte},40:{},42:{},43:{f:NX},44:{f:_X},45:{f:SX},46:{f:TX},47:{f:EX},48:{},49:{f:JQ},50:{},51:{f:zX},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eX},62:{f:wee},63:{f:QX},64:{f:Wee},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ja,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Vee},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QJ},148:{f:HJ,p:16},151:{f:Iee},152:{},153:{f:fte},154:{},155:{},156:{f:dte},157:{},158:{},159:{T:1,f:dX},160:{T:-1},161:{T:1,f:zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Aee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VX},336:{T:-1},337:{f:HX,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:GY},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ree},427:{f:Mee},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Bee},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:GJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Oee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eZ},633:{T:1},634:{T:-1},635:{T:1,f:ZX},636:{T:-1},637:{f:nY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ste},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Hee},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&T_(r)&&e.push(r)}}function Vte(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return qe(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function ch(e,t,r){return e||(e=Ee(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function $te(e,t,r,s){var a=Ee(9);return ch(a,e,t),CR(r,s||"b",a),a}function zte(e,t,r){var s=Ee(8+2*r.length);return ch(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function qte(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?fs(qn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?qe(e,2,sX(r,s,a)):qe(e,3,nX(r,s,a));return;case"b":case"e":qe(e,5,$te(r,s,t.v,t.t));return;case"s":case"str":qe(e,4,zte(r,s,(t.v||"").slice(0,255)));return}qe(e,1,ch(null,r,s))}function Wte(e,t,r,s){var a=Array.isArray(t),i=lr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=zr(i)}for(var d=i.s.r;d<=i.e.r;++d){l=_n(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=An(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&qte(e,f,d,u)}}}function Hte(e,t){for(var r=t||{},s=us(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(s,r.biff==4?1033:r.biff==3?521:9,O_(e,16,r)),Wte(s,e.Sheets[e.SheetNames[a]],a,r),qe(s,10),s.end()}function Kte(e,t,r){qe(e,49,UY({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Gte(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&qe(e,1054,zY(a,t[a],r))})}function Qte(e,t){var r=Ee(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(e,2151,r),r=Ee(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),PR(lr(t["!ref"]||"A1"),r),r.write_shift(4,4),qe(e,2152,r)}function Yte(e,t){for(var r=0;r<16;++r)qe(e,224,dj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){qe(e,224,dj(s,0,t))})}function Xte(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];qe(e,440,XY(s)),s[1].Tooltip&&qe(e,2048,ZY(s))}delete t["!links"]}function Zte(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&qe(e,125,tX(rx(a,s),a))})}}function Jte(e,t,r,s,a){var i=16+Vo(a.cellXfs,t,a);if(t.v==null&&!t.bf){qe(e,513,Pl(r,s,i));return}if(t.bf)qe(e,6,bJ(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?fs(qn(t.v)):t.v;qe(e,515,KY(r,s,o,i));break;case"b":case"e":qe(e,517,HY(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=L_(a.Strings,t.v,a.revStrings);qe(e,253,VY(r,s,l,i))}else qe(e,516,$Y(r,s,(t.v||"").slice(0,255),i,a));break;default:qe(e,513,Pl(r,s,i))}}function ere(e,t,r){var s=us(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",h=[],p=lr(i["!ref"]||"A1"),y=d?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}qe(s,2057,O_(r,16,t)),qe(s,13,Us(1)),qe(s,12,Us(100)),qe(s,15,Vn(!0)),qe(s,17,Vn(!1)),qe(s,16,Al(.001)),qe(s,95,Vn(!0)),qe(s,42,Vn(!1)),qe(s,43,Vn(!1)),qe(s,130,Us(1)),qe(s,128,WY()),qe(s,131,Vn(!1)),qe(s,132,Vn(!1)),d&&Zte(s,i["!cols"]),qe(s,512,qY(p,t)),d&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=_n(m);for(var g=p.s.c;g<=p.e.c;++g){m===p.s.r&&(h[g]=An(g)),u=h[g]+f;var w=c?(i[m]||[])[g]:i[u];w&&(Jte(s,w,m,g,t),d&&w.l&&i["!links"].push([u,w.l]))}}var v=l.CodeName||l.name||a;return d&&qe(s,574,BY((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&qe(s,229,YY(i["!merges"])),d&&Xte(s,i),qe(s,442,AR(v)),d&&Qte(s,i),qe(s,10),s.end()}function tre(e,t,r){var s=us(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(qe(s,2057,O_(e,5,r)),r.bookType=="xla"&&qe(s,135),qe(s,225,l?Us(1200):null),qe(s,193,EY(2)),c&&qe(s,191),c&&qe(s,192),qe(s,226),qe(s,92,IY("SheetJS",r)),qe(s,66,Us(l?1200:1252)),l&&qe(s,353,Us(0)),l&&qe(s,448),qe(s,317,rX(e.SheetNames.length)),l&&e.vbaraw&&qe(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";qe(s,442,AR(d))}qe(s,156,Us(17)),qe(s,25,Vn(!1)),qe(s,18,Vn(!1)),qe(s,19,Us(0)),l&&qe(s,431,Vn(!1)),l&&qe(s,444,Us(0)),qe(s,61,LY()),qe(s,64,Vn(!1)),qe(s,141,Us(0)),qe(s,34,Vn(ite(e)=="true")),qe(s,14,Vn(!0)),l&&qe(s,439,Vn(!1)),qe(s,218,Us(0)),Kte(s,e,r),Gte(s,e.SSF,r),Yte(s,r),l&&qe(s,352,Vn(!1));var u=s.end(),f=us();l&&qe(f,140,JY()),l&&r.Strings&&Vte(f,252,MY(r.Strings)),qe(f,10);var h=f.end(),p=us(),y=0,m=0;for(m=0;m<e.SheetNames.length;++m)y+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+y+h.length;for(m=0;m<e.SheetNames.length;++m){var w=i[m]||{};qe(p,133,RY({pos:g,hs:w.Hidden||0,dt:0,name:e.SheetNames[m]},r)),g+=t[m].length}var v=p.end();if(y!=v.length)throw new Error("BS8 "+y+" != "+v.length);var _=[];return u.length&&_.push(u),v.length&&_.push(v),h.length&&_.push(h),mn(_)}function rre(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=hs(Tr)),e&&e.SSF&&(Xp(),Yp(e.SSF),r.revssf=Zp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,B_(r),r.cellXfs=[],Vo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=ere(a,r,e);return s.unshift(tre(e,s,r)),mn(s)}function n6(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Ps(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return rre(e,t);case 4:case 3:case 2:return Hte(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function nre(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Zt({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],h=f&&f.v!=null&&(f.h||FQ(f.w||(Fi(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),s.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(s.id||"sjs")+"-"+u,i.push(ze("td",h,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var sre='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',are="</body></html>";function ire(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function s6(e,t){var r=t||{},s=r.header!=null?r.header:sre,a=r.footer!=null?r.footer:are,i=[s],o=Ps(e["!ref"]);r.dense=Array.isArray(e),i.push(ire(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(nre(e,o,l,r));return i.push("</table>"+a),i.join("")}function a6(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?nn(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Ps(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),y=0,m=0,g=0,w=0,v=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&m<c;++y){var N=l[y];if(gj(N)){if(s.display)continue;p[m]={hidden:!0}}var T=N.children;for(g=w=0;g<T.length;++g){var S=T[g];if(!(s.display&&gj(S))){var b=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):LQ(S.innerHTML),I=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var D=f[h];D.s.c==w+i&&D.s.r<m+a&&m+a<=D.e.r&&(w=D.e.c+1-i,h=-1)}_=+S.getAttribute("colspan")||1,((v=+S.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:m+a,c:w+i},e:{r:m+a+(v||1)-1,c:w+i+(_||1)-1}});var C={t:"s",v:b},R=S.getAttribute("data-t")||S.getAttribute("t")||"";b!=null&&(b.length==0?C.t=R||"z":s.raw||b.trim().length==0||R=="s"||(b==="TRUE"?C={t:"b",v:!0}:b==="FALSE"?C={t:"b",v:!1}:isNaN(_i(b))?isNaN(Sf(b).getDate())||(C={t:"d",v:qn(b)},s.cellDates||(C={t:"n",v:fs(C.v)}),C.z=s.dateNF||Tr[14]):C={t:"n",v:_i(b)})),C.z===void 0&&I!=null&&(C.z=I);var k="",L=S.getElementsByTagName("A");if(L&&L.length)for(var ie=0;ie<L.length&&!(L[ie].hasAttribute("href")&&(k=L[ie].getAttribute("href"),k.charAt(0)!="#"));++ie);k&&k.charAt(0)!="#"&&(C.l={Target:k}),s.dense?(e[m+a]||(e[m+a]=[]),e[m+a][w+i]=C):e[Zt({c:w+i,r:m+a})]=C,d.e.c<w+i&&(d.e.c=w+i),w+=_}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,m-1+a),e["!ref"]=zr(d),m>=c&&(e["!fullref"]=zr((d.e.r=l.length-y+m-1+a,d))),e}function i6(e,t){var r=t||{},s=r.dense?[]:{};return a6(s,e,t)}function ore(e,t){return Bl(i6(e,t),t)}function gj(e){var t="",r=lre(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function lre(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var cre=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Tf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Hr+t}}(),vj=function(){var e=function(i){return Qt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Qt(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Ps(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)m=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;d<=f.e.r;++d){for(m=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+m+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var w=!1,v={},_="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>d)&&!(h[p].e.c<u)&&!(h[p].e.r<d)){(h[p].s.c!=u||h[p].s.r!=d)&&(w=!0),v["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,v["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(w){c.push(r);continue}var N=Zt({r:d,c:u}),T=y?(i[d]||[])[u]:i[N];if(T&&T.f&&(v["table:formula"]=Qt(kJ(T.f)),T.F&&T.F.slice(0,N.length)==N)){var S=Ps(T.F);v["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,v["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!T){c.push(t);continue}switch(T.t){case"b":_=T.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=T.v?"true":"false";break;case"n":_=T.w||String(T.v||0),v["office:value-type"]="float",v["office:value"]=T.v||0;break;case"s":case"str":_=T.v==null?"":T.v,v["office:value-type"]="string";break;case"d":_=T.w||qn(T.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=qn(T.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(t);continue}var b=e(_);if(T.l&&T.l.Target){var I=T.l.Target;I=I.charAt(0)=="#"?"#"+AJ(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),b=ze("text:a",b,{"xlink:href":I.replace(/&/g,"&amp;")})}c.push("          "+ze("table:table-cell",ze("text:p",b,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;F_(f),f.ods=l;var h=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Hr],d=Tf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Tf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(wR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function o6(e,t){if(t.bookType=="fods")return vj(e,t);var r=b_(),s="",a=[],i=[];return s="mimetype",Ct(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Ct(r,s,vj(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",Ct(r,s,cre(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",Ct(r,s,Hr+wR()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",Ct(r,s,wY(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Ct(r,s,yY(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function U0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dre(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):va(Ef(e))}function ure(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Oo(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function fre(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Cf(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function Ht(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ic(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Gr(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=Cf(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Cf(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function dn(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(Ht(s*8+a.type)),a.type==2&&t.push(Ht(a.data.length)),t.push(a.data))})}),Oo(t)}function ia(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=Cf(e,s),i=Gr(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:Ic(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Gr(l.data),d=Ic(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Ic(i[3][0].data)>>>0>0),r.push(o)}return r}function Xl(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:Ht(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:Ht(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Ht(o.data.length)}],s[2].push({data:dn(o.meta),type:2})});var i=dn(s);t.push(Ht(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Oo(t)}function hre(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=Cf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Oo(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Oo(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function oa(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(hre(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Oo(t)}function Zl(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Ht(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Oo(t)}function mg(e,t){var r=new Uint8Array(32),s=U0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,fre(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function pg(e,t){var r=new Uint8Array(32),s=U0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function $i(e){var t=Gr(e);return Cf(t[1][0].data)}function mre(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ic(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=U0(e[7][0].data),u=0,f=[],h=U0(e[4][0].data),p=0,y=[],m=0;m<t.length;++m){if(t[m]==null){d.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}d.setUint16(m*2,u,!0),h.setUint16(m*2,p,!0);var g,w;switch(typeof t[m]){case"string":g=mg({t:"s",v:t[m]},r),w=pg({t:"s",v:t[m]},r);break;case"number":g=mg({t:"n",v:t[m]},r),w=pg({t:"n",v:t[m]},r);break;case"boolean":g=mg({t:"b",v:t[m]},r),w=pg({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(g),u+=g.length,y.push(w),p+=w.length,++c}for(e[2][0].data=Ht(c);m<e[7][0].data.length/2;++m)d.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Oo(f),e[3][0].data=Oo(y),c}function pre(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ps(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(zr(s)));var i=V0(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(U){typeof U=="string"&&o.push(U)})});var l={},c=[],d=Jt.read(t.numbers,{type:"base64"});d.FileIndex.map(function(F,U){return[F,d.FullPaths[U]]}).forEach(function(F){var U=F[0],j=F[1];if(U.type==2&&U.name.match(/\.iwa/)){var M=U.content,J=oa(M),_e=ia(J);_e.forEach(function(le){c.push(le.id),l[le.id]={deps:[],location:j,type:Ic(le.messages[0].meta[1][0].data)}})}}),c.sort(function(F,U){return F-U});var u=c.filter(function(F){return F>1}).map(function(F){return[F,Ht(F)]});d.FileIndex.map(function(F,U){return[F,d.FullPaths[U]]}).forEach(function(F){var U=F[0];if(F[1],!!U.name.match(/\.iwa/)){var j=ia(oa(U.content));j.forEach(function(M){M.messages.forEach(function(J){u.forEach(function(_e){M.messages.some(function(le){return Ic(le.meta[1][0].data)!=11006&&ure(le.data,_e[1])})&&l[_e[0]].deps.push(M.id)})})})}});for(var f=Jt.find(d,l[1].location),h=ia(oa(f.content)),p,y=0;y<h.length;++y){var m=h[y];m.id==1&&(p=m)}var g=$i(Gr(p.messages[0].data)[1][0].data);for(f=Jt.find(d,l[g].location),h=ia(oa(f.content)),y=0;y<h.length;++y)m=h[y],m.id==g&&(p=m);for(g=$i(Gr(p.messages[0].data)[2][0].data),f=Jt.find(d,l[g].location),h=ia(oa(f.content)),y=0;y<h.length;++y)m=h[y],m.id==g&&(p=m);for(g=$i(Gr(p.messages[0].data)[2][0].data),f=Jt.find(d,l[g].location),h=ia(oa(f.content)),y=0;y<h.length;++y)m=h[y],m.id==g&&(p=m);var w=Gr(p.messages[0].data);{w[6][0].data=Ht(s.e.r+1),w[7][0].data=Ht(s.e.c+1);var v=$i(w[46][0].data),_=Jt.find(d,l[v].location),N=ia(oa(_.content));{for(var T=0;T<N.length&&N[T].id!=v;++T);if(N[T].id!=v)throw"Bad ColumnRowUIDMapArchive";var S=Gr(N[T].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var b=0;b<=s.e.c;++b){var I=[];I[1]=I[2]=[{type:0,data:Ht(b+420690)}],S[1].push({type:2,data:dn(I)}),S[2].push({type:0,data:Ht(b)}),S[3].push({type:0,data:Ht(b)})}S[4]=[],S[5]=[],S[6]=[];for(var D=0;D<=s.e.r;++D)I=[],I[1]=I[2]=[{type:0,data:Ht(D+726270)}],S[4].push({type:2,data:dn(I)}),S[5].push({type:0,data:Ht(D)}),S[6].push({type:0,data:Ht(D)});N[T].messages[0].data=dn(S)}_.content=Zl(Xl(N)),_.size=_.content.length,delete w[46];var C=Gr(w[4][0].data);{C[7][0].data=Ht(s.e.r+1);var R=Gr(C[1][0].data),k=$i(R[2][0].data);_=Jt.find(d,l[k].location),N=ia(oa(_.content));{if(N[0].id!=k)throw"Bad HeaderStorageBucket";var L=Gr(N[0].messages[0].data);for(D=0;D<i.length;++D){var ie=Gr(L[2][0].data);ie[1][0].data=Ht(D),ie[4][0].data=Ht(i[D].length),L[2][D]={type:L[2][0].type,data:dn(ie)}}N[0].messages[0].data=dn(L)}_.content=Zl(Xl(N)),_.size=_.content.length;var fe=$i(C[2][0].data);_=Jt.find(d,l[fe].location),N=ia(oa(_.content));{if(N[0].id!=fe)throw"Bad HeaderStorageBucket";for(L=Gr(N[0].messages[0].data),b=0;b<=s.e.c;++b)ie=Gr(L[2][0].data),ie[1][0].data=Ht(b),ie[4][0].data=Ht(s.e.r+1),L[2][b]={type:L[2][0].type,data:dn(ie)};N[0].messages[0].data=dn(L)}_.content=Zl(Xl(N)),_.size=_.content.length;var se=$i(C[4][0].data);(function(){for(var F=Jt.find(d,l[se].location),U=ia(oa(F.content)),j,M=0;M<U.length;++M){var J=U[M];J.id==se&&(j=J)}var _e=Gr(j.messages[0].data);{_e[3]=[];var le=[];o.forEach(function(Ye,Pt){le[1]=[{type:0,data:Ht(Pt)}],le[2]=[{type:0,data:Ht(1)}],le[3]=[{type:2,data:dre(Ye)}],_e[3].push({type:2,data:dn(le)})})}j.messages[0].data=dn(_e);var pe=Xl(U),He=Zl(pe);F.content=He,F.size=F.content.length})();var ce=Gr(C[3][0].data);{var q=ce[1][0];delete ce[2];var oe=Gr(q.data);{var ee=$i(oe[2][0].data);(function(){for(var F=Jt.find(d,l[ee].location),U=ia(oa(F.content)),j,M=0;M<U.length;++M){var J=U[M];J.id==ee&&(j=J)}var _e=Gr(j.messages[0].data);{delete _e[6],delete ce[7];var le=new Uint8Array(_e[5][0].data);_e[5]=[];for(var pe=0,He=0;He<=s.e.r;++He){var Ye=Gr(le);pe+=mre(Ye,i[He],o),Ye[1][0].data=Ht(He),_e[5].push({data:dn(Ye),type:2})}_e[1]=[{type:0,data:Ht(s.e.c+1)}],_e[2]=[{type:0,data:Ht(s.e.r+1)}],_e[3]=[{type:0,data:Ht(pe)}],_e[4]=[{type:0,data:Ht(s.e.r+1)}]}j.messages[0].data=dn(_e);var Pt=Xl(U),pt=Zl(Pt);F.content=pt,F.size=F.content.length})()}q.data=dn(oe)}C[3][0].data=dn(ce)}w[4][0].data=dn(C)}p.messages[0].data=dn(w);var we=Xl(h),P=Zl(we);return f.content=P,f.size=f.content.length,d}function xre(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function B_(e){xre([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function gre(e,t){return t.bookType=="ods"?o6(e,t):t.bookType=="numbers"?pre(e,t):t.bookType=="xlsb"?vre(e,t):yre(e,t)}function vre(e,t){xc=1024,e&&!e.SSF&&(e.SSF=hs(Tr)),e&&e.SSF&&(Xp(),Yp(e.SSF),t.revssf=Zp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Iu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=zR.indexOf(t.bookType)>-1,a=vR();B_(t=t||{});var i=b_(),o="",l=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ct(i,o,NR(e.Props,t)),a.coreprops.push(o),Gt(t.rels,2,o,Ut.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Ct(i,o,jR(e.Props)),a.extprops.push(o),Gt(t.rels,3,o,Ut.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ct(i,o,SR(e.Custprops)),a.custprops.push(o),Gt(t.rels,4,o,Ut.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Ct(i,o,wte(l-1,o,t,e,u)),a.sheets.push(o),Gt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ut.WS[0])}if(f){var p=f["!comments"],y=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,Ct(i,m,jte(p,m)),a.comments.push(m),Gt(u,-1,"../comments"+l+"."+r,Ut.CMNT),y=!0),f["!legacy"]&&y&&Ct(i,"xl/drawings/vmlDrawing"+l+".vml",VR(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Ct(i,_R(o),Oc(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ct(i,o,bte(t.Strings,o,t)),a.strs.push(o),Gt(t.wbrels,-1,"sharedStrings."+r,Ut.SST)),o="xl/workbook."+r,Ct(i,o,_te(e,o)),a.workbooks.push(o),Gt(t.rels,1,o,Ut.WB),o="xl/theme/theme1.xml",Ct(i,o,BR(e.Themes,t)),a.themes.push(o),Gt(t.wbrels,-1,"theme/theme1.xml",Ut.THEME),o="xl/styles."+r,Ct(i,o,Nte(e,o,t)),a.styles.push(o),Gt(t.wbrels,-1,"styles."+r,Ut.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Ct(i,o,e.vbaraw),a.vba.push(o),Gt(t.wbrels,-1,"vbaProject.bin",Ut.VBA)),o="xl/metadata."+r,Ct(i,o,Ste(o)),a.metadata.push(o),Gt(t.wbrels,-1,"metadata."+r,Ut.XLMETA),Ct(i,"[Content_Types].xml",yR(a,t)),Ct(i,"_rels/.rels",Oc(t.rels)),Ct(i,"xl/_rels/workbook."+r+".rels",Oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function yre(e,t){xc=1024,e&&!e.SSF&&(e.SSF=hs(Tr)),e&&e.SSF&&(Xp(),Yp(e.SSF),t.revssf=Zp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Iu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=zR.indexOf(t.bookType)>-1,a=vR();B_(t=t||{});var i=b_(),o="",l=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ct(i,o,NR(e.Props,t)),a.coreprops.push(o),Gt(t.rels,2,o,Ut.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Ct(i,o,jR(e.Props)),a.extprops.push(o),Gt(t.rels,3,o,Ut.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ct(i,o,SR(e.Custprops)),a.custprops.push(o),Gt(t.rels,4,o,Ut.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Ct(i,o,ZR(l-1,t,e,f)),a.sheets.push(o),Gt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ut.WS[0])}if(h){var y=h["!comments"],m=!1,g="";if(y&&y.length>0){var w=!1;y.forEach(function(v){v[1].forEach(function(_){_.T==!0&&(w=!0)})}),w&&(g="xl/threadedComments/threadedComment"+l+"."+r,Ct(i,g,YX(y,u,t)),a.threadedcomments.push(g),Gt(f,-1,"../threadedComments/threadedComment"+l+"."+r,Ut.TCMNT)),g="xl/comments"+l+"."+r,Ct(i,g,$R(y)),a.comments.push(g),Gt(f,-1,"../comments"+l+"."+r,Ut.CMNT),m=!0}h["!legacy"]&&m&&Ct(i,"xl/drawings/vmlDrawing"+l+".vml",VR(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ct(i,_R(o),Oc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ct(i,o,OR(t.Strings,t)),a.strs.push(o),Gt(t.wbrels,-1,"sharedStrings."+r,Ut.SST)),o="xl/workbook."+r,Ct(i,o,t6(e)),a.workbooks.push(o),Gt(t.rels,1,o,Ut.WB),o="xl/theme/theme1.xml",Ct(i,o,BR(e.Themes,t)),a.themes.push(o),Gt(t.wbrels,-1,"theme/theme1.xml",Ut.THEME),o="xl/styles."+r,Ct(i,o,MR(e,t)),a.styles.push(o),Gt(t.wbrels,-1,"styles."+r,Ut.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Ct(i,o,e.vbaraw),a.vba.push(o),Gt(t.wbrels,-1,"vbaProject.bin",Ut.VBA)),o="xl/metadata."+r,Ct(i,o,UR()),a.metadata.push(o),Gt(t.wbrels,-1,"metadata."+r,Ut.XLMETA),u.length>1&&(o="xl/persons/person.xml",Ct(i,o,XX(u)),a.people.push(o),Gt(t.wbrels,-1,"persons/person.xml",Ut.PEOPLE)),Ct(i,"[Content_Types].xml",yR(a,t)),Ct(i,"_rels/.rels",Oc(t.rels)),Ct(i,"xl/_rels/workbook."+r+".rels",Oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function _re(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Oi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function l6(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ah(t.file,Jt.write(e,{type:Vt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Jt.write(e,t)}function wre(e,t){var r=hs(t||{}),s=gre(e,r);return Nre(s,r)}function Nre(e,t){var r={},s=Vt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Jt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Qp(a))}return t.password&&typeof encrypt_agile<"u"?l6(encrypt_agile(a,t.password),t):t.type==="file"?ah(t.file,a):t.type=="string"?Pu(a):a}function bre(e,t){var r=t||{},s=Bte(e,r);return l6(s,r)}function Ia(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return jf(Ef(s));case"binary":return Ef(s);case"string":return e;case"file":return ah(t.file,s,"utf8");case"buffer":return Vt?Mi(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Ia(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function jre(e,t){switch(t.type){case"base64":return jf(e);case"binary":return e;case"string":return e;case"file":return ah(t.file,e,"binary");case"buffer":return Vt?Mi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Qh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?jf(r):t.type=="string"?Pu(r):r;case"file":return ah(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function c6(e,t){ZG(),cte(e);var r=hs(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=c6(e,r);return r.type="array",Qp(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ia(Mte(e,r),r);case"slk":case"sylk":return Ia(iX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ia(s6(e.Sheets[e.SheetNames[a]],r),r);case"txt":return jre(d6(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ia(U_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ia(oX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Qh(aX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ia(lX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ia(pX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ia(DR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ia(o6(e,r),r);case"wk1":return Qh(uj.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Qh(uj.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qh(n6(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),bre(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return wre(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Sre(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function nx(e,t,r){var s={};return s.type="file",s.file=t,Sre(s),c6(e,s)}function Ere(e,t,r,s,a,i,o,l){var c=_n(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[s[p]+c];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[p]!=null&&(h[i[p]]=d);continue}var m=y.v;switch(y.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(m==null)if(y.t=="e"&&m===null)h[i[p]]=null;else if(d!==void 0)h[i[p]]=d;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?m:Fi(y,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function V0(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=lr(u);break;case"number":c=lr(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=_n(c.s.r),h=[],p=[],y=0,m=0,g=Array.isArray(e),w=c.s.r,v=0,_={};g&&!e[w]&&(e[w]=[]);var N=d.skipHidden&&e["!cols"]||[],T=d.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(N[v]||{}).hidden)switch(h[v]=An(v),r=g?e[w][v]:e[h[v]+f],s){case 1:i[v]=v-c.s.c;break;case 2:i[v]=h[v];break;case 3:i[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Fi(r,null,d),m=_[o]||0,!m)_[o]=1;else{do l=o+"_"+m++;while(_[l]);_[o]=m,_[l]=1}i[v]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(T[w]||{}).hidden){var S=Ere(e,c,w,h,s,i,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(p[y++]=S.row)}return p.length=y,p}var yj=/"/g;function Tre(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=_n(r),h=t.s.c;h<=t.e.c;++h)if(s[h]){var p=l.dense?(e[r]||[])[h]:e[s[h]+f];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(l.rawNumbers&&p.t=="n"?p.v:Fi(p,null,l));for(var y=0,m=0;y!==u.length;++y)if((m=u.charCodeAt(y))===a||m===i||m===34||l.forceQuotes){u='"'+u.replace(yj,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(yj,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function U_(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=lr(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var h=s.skipHidden&&e["!cols"]||[],p=s.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(h[y]||{}).hidden||(f[y]=An(y));for(var m=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(u=Tre(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((m++?l:"")+u)));return delete s.dense,r.join("")}function d6(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=U_(e,t);return r}function Cre(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=lr(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=An(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=_n(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function u6(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?nn(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=lr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var h=s.header||[],p=0;t.forEach(function(m,g){Nn(m).forEach(function(w){(p=h.indexOf(w))==-1&&(h[p=h.length]=w);var v=m[w],_="z",N="",T=Zt({c:l+p,r:o+g+a});d=kf(i,T),v&&typeof v=="object"&&!(v instanceof Date)?i[T]=v:(typeof v=="number"?_="n":typeof v=="boolean"?_="b":typeof v=="string"?_="s":v instanceof Date?(_="d",s.cellDates||(_="n",v=fs(v)),N=s.dateNF||Tr[14]):v===null&&s.nullError&&(_="e",v=0),d?(d.t=_,d.v=v,delete d.w,delete d.R,N&&(d.z=N)):i[T]=d={t:_,v},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var y=_n(o);if(a)for(p=0;p<h.length;++p)i[An(p+l)+y]={t:"s",v:h[p]};return i["!ref"]=zr(u),i}function kre(e,t){return u6(null,e,t)}function kf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=nn(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?kf(e,Zt(t)):kf(e,Zt({r:t,c:r||0}))}function Are(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Pre(){return{SheetNames:[],Sheets:{}}}function Dre(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(e6(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Ore(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Are(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function Fre(e,t){return e.z=t,e}function f6(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Ire(e,t,r){return f6(e,"#"+t,r)}function Rre(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Mre(e,t,r,s){for(var a=typeof t!="string"?t:lr(t),i=typeof t=="string"?t:zr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=kf(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var ns={encode_col:An,encode_row:_n,encode_cell:Zt,encode_range:zr,decode_col:k_,decode_row:C_,split_cell:ZQ,decode_cell:nn,decode_range:Ps,format_cell:Fi,sheet_add_aoa:fR,sheet_add_json:u6,sheet_add_dom:a6,aoa_to_sheet:Id,json_to_sheet:kre,table_to_sheet:i6,table_to_book:ore,sheet_to_csv:U_,sheet_to_txt:d6,sheet_to_json:V0,sheet_to_html:s6,sheet_to_formulae:Cre,sheet_to_row_object_array:V0,sheet_get_cell:kf,book_new:Pre,book_append_sheet:Dre,book_set_sheet_visibility:Ore,cell_set_number_format:Fre,cell_set_hyperlink:f6,cell_set_internal_link:Ire,cell_add_comment:Rre,sheet_set_array_formula:Mre,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Lre(){const[,e]=Fs(),{toast:t}=Mr(),r=Wr(),[s,a]=x.useState(""),[i,o]=x.useState(!1),[l,c]=x.useState("all"),[d,u]=x.useState("all"),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,g]=x.useState(""),[w,v]=x.useState(""),[_,N]=x.useState(!1),[T,S]=x.useState(null),{data:b=[],isLoading:I,refetch:D}=Dt({queryKey:["/api/pos"],staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0});x.useEffect(()=>{if(console.log(" DEBUG: Query data changed - received",(b==null?void 0:b.length)||0,"POs"),b&&b.length>0){console.log(" DEBUG: All PO numbers:",b.map(U=>U.po_number)),console.log(" DEBUG: Platforms:",b.map(U=>{var j;return(j=U.platform)==null?void 0:j.pf_name})),console.log(" DEBUG: Recent POs (top 3):",b.slice(0,3).map(U=>{var j;return{po_number:U.po_number,platform:(j=U.platform)==null?void 0:j.pf_name,created:U.order_date,status:U.status}}));const F=b.filter(U=>{var j;try{const M=(j=U.platform)==null?void 0:j.pf_name,J=U.po_number;return M&&typeof M=="string"&&M.toLowerCase().includes("zomato")||J&&J.includes("ZHPGJ26")}catch(M){return console.error("Error filtering Zomato POs:",M,{po:U}),!1}});console.log(" DEBUG: Found",F.length,"Zomato POs")}else console.log(" DEBUG: No POs received from query")},[b]);const{data:C=[]}=Dt({queryKey:["/api/platforms"]});x.useEffect(()=>{const F=()=>{console.log(" PO List: Received po-created event, refetching..."),D()};return window.addEventListener("po-created",F),()=>{window.removeEventListener("po-created",F)}},[D]);const R=zt({mutationFn:async F=>{console.log(` Frontend: Sending DELETE request for PO ID: ${F}`);const U=await kn("DELETE",`/api/pos/${F}`);return console.log(` Frontend: DELETE request successful for PO ID: ${F}`),U},onSuccess:async(F,U)=>{console.log(` Frontend: PO deletion confirmed successful for ID: ${U}`),r.setQueryData(["/api/pos"],j=>{if(!j)return[];const M=j.filter(J=>J.id!==U);return console.log(` Frontend: Removed PO ${U} from cache, ${j.length} -> ${M.length} items`),M}),await Promise.all([r.invalidateQueries({queryKey:["/api/pos"]}),r.invalidateQueries({queryKey:["/api/order-items"]})]),console.log(" Frontend: Cache invalidated after successful deletion"),setTimeout(()=>{console.log(" Frontend: Backup refetch initiated"),D()},1e3),t({title:"Purchase Order Deleted",description:"The purchase order has been successfully deleted from the database.",variant:"default"})},onError:(F,U)=>{console.error(` Frontend: PO deletion failed for ID ${U}:`,F);const j=(F==null?void 0:F.message)||"Unknown error";j.includes("not found")||j.includes("404")?(console.log(` Frontend: PO ${U} not found in database - likely already deleted, removing from cache`),r.setQueryData(["/api/pos"],J=>{if(!J)return[];const _e=J.filter(le=>le.id!==U);return console.log(` Frontend: Removed non-existent PO ${U} from cache, ${J.length} -> ${_e.length} items`),_e}),D(),t({title:"PO Already Deleted",description:"This purchase order was already deleted. The list has been refreshed.",variant:"default"})):t({title:"Deletion Failed",description:`Failed to delete purchase order: ${j}`,variant:"destructive"})}}),k=F=>{e(`/po-details/${F.id}`)},L=async F=>{await r.invalidateQueries({queryKey:[`/api/pos/${F.id}`],type:"all"}),e(`/po-edit/${F.id}`)},ie=F=>{S(F),N(!0)},fe=()=>{T&&(console.log(` Frontend: Starting deletion for PO ${T.po_number} (ID: ${T.id})`),R.mutate(T.id),N(!1),S(null))},se=()=>{N(!1),S(null)},ce=async()=>{console.log(" Manual refresh triggered, invalidating cache and refetching POs..."),await Promise.all([r.invalidateQueries({queryKey:["/api/pos"]}),r.refetchQueries({queryKey:["/api/pos"]})]),D(),t({title:"Refreshed",description:"Purchase orders list has been refreshed"})},q=()=>{const F=ee.map(le=>{const{totalQuantity:pe,totalValue:He}=P(le.orderItems);return{"PO Number":le.po_number,Platform:le.platform.pf_name,Status:le.status,"Order Date":Ot(new Date(le.order_date),"yyyy-MM-dd"),"Expiry Date":le.expiry_date?Ot(new Date(le.expiry_date),"yyyy-MM-dd"):"Not set",City:le.city,State:le.state,Location:`${le.city}, ${le.state}`,Distributor:le.serving_distributor||"Not assigned","Total Items":le.orderItems.length,"Total Quantity":pe,"Total Value":parseFloat(He.toFixed(2))}}),U=[];ee.forEach(le=>{le.orderItems.forEach(pe=>{U.push({"PO Number":le.po_number,Platform:le.platform.pf_name,"Item Name":pe.item_name,"SAP Code":pe.sap_code||"N/A",Quantity:pe.quantity,"Basic Rate":parseFloat(pe.basic_rate||"0"),"GST Rate":parseFloat(pe.gst_rate||"0"),"Landing Rate":parseFloat(pe.landing_rate||"0"),"Item Total":parseFloat((parseFloat(pe.landing_rate||"0")*pe.quantity).toFixed(2)),Status:pe.status||"Pending"})})});const j=ns.book_new(),M=ns.json_to_sheet(F),J=[{wch:15},{wch:20},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:25},{wch:20},{wch:12},{wch:15},{wch:15}];if(M["!cols"]=J,ns.book_append_sheet(j,M,"PO Summary"),U.length>0){const le=ns.json_to_sheet(U),pe=[{wch:15},{wch:20},{wch:30},{wch:15},{wch:10},{wch:12},{wch:10},{wch:12},{wch:12},{wch:12}];le["!cols"]=pe,ns.book_append_sheet(j,le,"Order Items")}const _e=`purchase-orders-${Ot(new Date,"yyyy-MM-dd")}.xlsx`;nx(j,_e),t({title:"Export Complete",description:`${ee.length} purchase orders with ${U.length} items exported to Excel`})},oe=()=>{a(""),c("all"),u("all"),h(""),y(""),g(""),v(""),o(!1)},ee=b.filter(F=>{var pt,rr;if(!F||!F.po_number||!F.platform)return console.warn(" Invalid PO data:",F),!1;const U=s&&typeof s=="string"?s.toLowerCase():"";let j=s===""||!U;if(!j&&U)try{const mt=F.po_number||"",We=((pt=F.platform)==null?void 0:pt.pf_name)||"",nr=F.status||"",cr=`${F.city||""}, ${F.state||""}`;j=typeof mt=="string"&&mt.toLowerCase().includes(U)||typeof We=="string"&&We.toLowerCase().includes(U)||typeof nr=="string"&&nr.toLowerCase().includes(U)||typeof cr=="string"&&cr.toLowerCase().includes(U)}catch(mt){console.error("Error in search filter:",mt,{po:F,searchTerm:s}),j=!1}const M=l&&typeof l=="string"?l.toLowerCase():"";let J=l==="all";if(!J&&M)try{const mt=F.status||"";J=typeof mt=="string"&&mt.toLowerCase()===M}catch(mt){console.error("Error in status filter:",mt,{po:F,statusFilter:l}),J=!1}const _e=d==="all"||(((rr=F.platform)==null?void 0:rr.id)||"").toString()===d;let le=!0,pe=!0;if(F.order_date){const mt=new Date(F.order_date);isNaN(mt.getTime())||(le=f===""||Di(mt,new Date(f))||Qs(mt,new Date(f)),pe=p===""||Ao(mt,new Date(p))||Qs(mt,new Date(p)))}let He=!0,Ye=!0;if(F.expiry_date){const mt=new Date(F.expiry_date);He=m===""||Di(mt,new Date(m))||Qs(mt,new Date(m)),Ye=w===""||Ao(mt,new Date(w))||Qs(mt,new Date(w))}else He=m==="",Ye=w==="",m===""&&w===""&&(He=!0,Ye=!0);const Pt=j&&J&&_e&&le&&pe&&He&&Ye;return Pt||console.log(` PO ${F.po_number} filtered out:`,{matchesSearch:j,matchesStatus:J,matchesPlatform:_e,matchesOrderDateFrom:le,matchesOrderDateTo:pe,matchesExpiryDateFrom:He,matchesExpiryDateTo:Ye,po_expiry_date:F.expiry_date}),Pt});x.useEffect(()=>{console.log(` FILTER DEBUG: ${b.length} total POs  ${ee.length} filtered POs`),console.log(" FILTER DEBUG: Filters:",{searchTerm:s,statusFilter:l,platformFilter:d,orderDateFrom:f,orderDateTo:p,expiryDateFrom:m,expiryDateTo:w}),b.length>ee.length&&console.log(" FILTER DEBUG: Some POs were filtered out")},[b.length,ee.length,s,l,d,f,p,m,w]);const we=F=>{if(!F||typeof F!="string")return"default";try{switch(F.toLowerCase()){case"open":return"default";case"closed":return"secondary";case"cancelled":return"destructive";case"expired":return"destructive";case"duplicate":return"outline";default:return"default"}}catch(U){return console.error("Error in getStatusBadgeVariant:",U,{status:F}),"default"}},P=F=>{try{if(!F||!Array.isArray(F))return console.warn(" calculatePOTotals: Invalid items array",F),{totalQuantity:0,totalValue:0};const U=F.reduce((M,J)=>M+((J==null?void 0:J.quantity)||0),0),j=F.reduce((M,J)=>{const _e=parseFloat((J==null?void 0:J.landing_rate)||"0")||0,le=(J==null?void 0:J.quantity)||0;return M+_e*le},0);return{totalQuantity:U,totalValue:j}}catch(U){return console.error(" Error in calculatePOTotals:",U,"Items:",F),{totalQuantity:0,totalValue:0}}};return I?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading purchase orders..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx(ke,{type:"text",placeholder:"Search purchase orders...",value:s,onChange:F=>a(F.target.value),className:"pl-10 w-80 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-gray-200 dark:border-gray-600"})]}),n.jsxs(ue,{variant:"outline",onClick:()=>o(!i),className:"flex items-center space-x-2",children:[n.jsx(hp,{className:"h-4 w-4"}),n.jsx("span",{children:"Filter"}),(l!=="all"||d!=="all"||f!==""||p!==""||m!==""||w!=="")&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ee.length," of ",b.length," orders"]}),n.jsxs(ue,{variant:"outline",onClick:ce,disabled:I,className:"flex items-center space-x-2",children:[n.jsx(pa,{className:`h-4 w-4 ${I?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(ue,{variant:"outline",onClick:q,disabled:ee.length===0,className:"flex items-center space-x-2",children:[n.jsx(Ed,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})]})]}),i&&n.jsx(ve,{className:"border border-gray-200 dark:border-gray-700",children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Filters"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ue,{variant:"ghost",size:"sm",onClick:oe,children:"Clear All"}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:n.jsx(ei,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),n.jsxs(Ur,{value:l,onValueChange:c,children:[n.jsx(Or,{className:"mt-2",children:n.jsx(Vr,{placeholder:"All Status"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Status"}),n.jsx(ft,{value:"open",children:"Open"}),n.jsx(ft,{value:"closed",children:"Closed"}),n.jsx(ft,{value:"cancelled",children:"Cancelled"}),n.jsx(ft,{value:"expired",children:"Expired"}),n.jsx(ft,{value:"duplicate",children:"Duplicate"})]})]})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Platform"}),n.jsxs(Ur,{value:d,onValueChange:u,children:[n.jsx(Or,{className:"mt-2",children:n.jsx(Vr,{placeholder:"All Platforms"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Platforms"}),C.map(F=>n.jsx(ft,{value:F.id.toString(),children:F.pf_name},F.id))]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"h-4 w-4 text-gray-500"}),n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Date Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order Date From"}),n.jsx(ke,{type:"date",value:f,onChange:F=>h(F.target.value),className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order Date To"}),n.jsx(ke,{type:"date",value:p,onChange:F=>y(F.target.value),className:"mt-2"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date From"}),n.jsx(ke,{type:"date",value:m,onChange:F=>g(F.target.value),className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date To"}),n.jsx(ke,{type:"date",value:w,onChange:F=>v(F.target.value),className:"mt-2"})]})]})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold",children:b.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.filter(F=>F.status==="Open").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Open POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:b.filter(F=>F.status==="Closed").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Closed POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.filter(F=>F.status==="Cancelled").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancelled POs"})]})})]}),b.length===0?n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(be,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-gray-800 dark:to-gray-700 rounded-full flex items-center justify-center mb-6",children:n.jsx(vn,{className:"w-10 h-10 text-blue-500 dark:text-blue-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Purchase Orders Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-6 max-w-md",children:`You haven't created any purchase orders yet. Switch to the "Create PO" tab to get started.`})]})}):ee.length===0?n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(be,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-yellow-100 dark:from-gray-800 dark:to-gray-700 rounded-full flex items-center justify-center mb-6",children:n.jsx(vn,{className:"w-10 h-10 text-orange-500 dark:text-orange-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Matching Purchase Orders"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-6 max-w-md",children:"No purchase orders match your current search and filter criteria."}),n.jsx(ue,{onClick:oe,variant:"outline",children:"Clear Filters"})]})}):n.jsx("div",{className:"space-y-4",children:ee.map((F,U)=>{console.log(` DEBUG: Rendering PO ${U+1}/${ee.length}: ${F.po_number} (ID: ${F.id})`);const{totalQuantity:j,totalValue:M}=P(F.orderItems||[]);return n.jsxs(ve,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300 hover:scale-[1.01]",children:[n.jsx(Oe,{className:"pb-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-gray-800 dark:to-gray-900 border-b border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx(Me,{className:"text-xl font-bold text-gray-900 dark:text-white",children:F.po_number}),n.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mt-1",children:F.platform.pf_name})]}),n.jsx(rt,{variant:we(F.status),className:"px-3 py-1 text-xs font-semibold",children:F.status})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>k(F),className:"hover:bg-blue-50 border-blue-200",children:[n.jsx(on,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>L(F),className:"hover:bg-green-50 border-green-200",children:[n.jsx(mp,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>ie(F),disabled:R.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[n.jsx(vi,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),n.jsxs(be,{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Ot(new Date(F.order_date),"MMM dd, yyyy")})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Expiry Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:F.expiry_date?Ot(new Date(F.expiry_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Location"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[F.city,", ",F.state]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Distributor"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:F.serving_distributor||"Not assigned"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[F.orderItems.length," items"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Qty: ",j]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:["",M.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Value"})]})]})]})]},`po-${F.id}-${F.po_number}`)})}),n.jsx(ly,{open:_,onOpenChange:N,children:n.jsxs(y0,{children:[n.jsxs(_0,{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pp,{className:"h-5 w-5 text-red-500"}),n.jsx(N0,{children:"Confirm Deletion"})]}),n.jsxs(b0,{children:["Are you sure you want to delete purchase order ",n.jsx("strong",{children:T==null?void 0:T.po_number}),"?",n.jsx("br",{}),n.jsx("br",{}),"This action cannot be undone. This will permanently delete the purchase order and all associated order items."]})]}),n.jsxs(w0,{children:[n.jsx(S0,{onClick:se,children:"Cancel"}),n.jsx(j0,{onClick:fe,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:R.isPending?"Deleting...":"Delete PO"})]})]})})]})}function Bre(){const{toast:e}=Mr(),t=Wr(),[r,s]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,f]=x.useState(""),[h,p]=x.useState(""),[y,m]=x.useState(""),[g,w]=x.useState(""),{data:v=[],isLoading:_,refetch:N}=Dt({queryKey:["/api/order-items"]}),{data:T=[]}=Dt({queryKey:["/api/platforms"]}),S=zt({mutationFn:async({itemId:se,status:ce})=>{const q=await fetch(`/api/order-items/${se}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:ce})});if(!q.ok)throw new Error("Failed to update status");return q.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/order-items"]}),e({title:"Status Updated",description:"Order item status has been updated successfully"})},onError:se=>{e({title:"Update Failed",description:"Failed to update order item status",variant:"destructive"})}}),b=(se,ce)=>{if(!se){e({title:"Error",description:"Unable to update status: Item ID is missing",variant:"destructive"});return}S.mutate({itemId:se,status:ce})},I=()=>{N(),e({title:"Refreshed",description:"Order items list has been refreshed"})},D=()=>{const se=R.map(we=>({"PO Number":we.po_number,Platform:we.platform_name,"Item Name":we.item_name,"SAP Code":we.sap_code||"N/A","HSN Code":we.hsn_code||"N/A",Quantity:we.quantity,"Basic Rate":parseFloat(we.basic_rate||"0"),"GST Rate":parseFloat(we.gst_rate||"0"),"Landing Rate":parseFloat(we.landing_rate||"0"),"Item Total":parseFloat((parseFloat(we.landing_rate||"0")*we.quantity).toFixed(2)),Status:(we.status||"PENDING").toUpperCase(),"Order Date":Ot(new Date(we.order_date),"yyyy-MM-dd"),"Expiry Date":we.expiry_date?Ot(new Date(we.expiry_date),"yyyy-MM-dd"):"Not set"})),ce=ns.book_new(),q=ns.json_to_sheet(se),oe=[{wch:15},{wch:20},{wch:30},{wch:15},{wch:15},{wch:10},{wch:12},{wch:10},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12}];q["!cols"]=oe,ns.book_append_sheet(ce,q,"Order Items");const ee=`order-items-${Ot(new Date,"yyyy-MM-dd")}.xlsx`;nx(ce,ee),e({title:"Export Complete",description:`${R.length} order items exported to Excel`})},C=()=>{s(""),l("all"),d("all"),f(""),p(""),m(""),w(""),i(!1)},R=v.filter(se=>{const ce=r&&typeof r=="string"?r.toLowerCase():"",q=!ce||se.item_name&&typeof se.item_name=="string"&&se.item_name.toLowerCase().includes(ce)||se.po_number&&typeof se.po_number=="string"&&se.po_number.toLowerCase().includes(ce)||se.platform_name&&typeof se.platform_name=="string"&&se.platform_name.toLowerCase().includes(ce)||se.sap_code&&typeof se.sap_code=="string"&&se.sap_code.toLowerCase().includes(ce)||se.hsn_code&&typeof se.hsn_code=="string"&&se.hsn_code.toLowerCase().includes(ce),oe=o==="all"||(se.status||"PENDING").toUpperCase()===(o&&typeof o=="string"?o.toUpperCase():"")||(se.status||"PENDING").toLowerCase().replace(/_/g," ")===(o&&typeof o=="string"?o.toLowerCase().replace(/_/g," "):""),ee=c==="all"||se.platform.id.toString()===c,we=new Date(se.order_date),P=u===""||Di(we,new Date(u))||Qs(we,new Date(u)),F=h===""||Ao(we,new Date(h))||Qs(we,new Date(h));let U=!0,j=!0;if(se.expiry_date){const M=new Date(se.expiry_date);U=y===""||Di(M,new Date(y))||Qs(M,new Date(y)),j=g===""||Ao(M,new Date(g))||Qs(M,new Date(g))}else U=y==="",j=g==="";return q&&oe&&ee&&P&&F&&U&&j}),k=R.length,L=R.reduce((se,ce)=>se+ce.quantity,0),ie=R.reduce((se,ce)=>se+parseFloat(ce.landing_rate||"0")*ce.quantity,0),fe=se=>{switch(se&&typeof se=="string"?se.toLowerCase().replace(/_/g," "):"pending"){case"pending":return"default";case"invoiced":return"secondary";case"dispatched":return"secondary";case"delivered":return"secondary";case"cancelled":return"destructive";case"expired":return"destructive";case"price diff":case"price difference":return"outline";case"mov issue":return"outline";case"stock issue":return"outline";case"hold":return"outline";case"cn":return"outline";case"rtv":return"outline";default:return"default"}};return _?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading order items..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx(ke,{type:"text",placeholder:"Search order items...",value:r,onChange:se=>s(se.target.value),className:"pl-10 w-80 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-gray-200 dark:border-gray-600"})]}),n.jsxs(ue,{variant:"outline",onClick:()=>i(!a),className:"flex items-center space-x-2",children:[n.jsx(hp,{className:"h-4 w-4"}),n.jsx("span",{children:"Filter"}),(o!=="all"||c!=="all"||u!==""||h!==""||y!==""||g!=="")&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[R.length," of ",v.length," items"]}),n.jsxs(ue,{variant:"outline",onClick:I,disabled:_,className:"flex items-center space-x-2",children:[n.jsx(pa,{className:`h-4 w-4 ${_?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(ue,{variant:"outline",onClick:D,disabled:R.length===0,className:"flex items-center space-x-2",children:[n.jsx(Ed,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})]})]}),a&&n.jsx(ve,{className:"border border-gray-200 dark:border-gray-700",children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Filters"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ue,{variant:"ghost",size:"sm",onClick:C,children:"Clear All"}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>i(!1),children:n.jsx(ei,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),n.jsxs(Ur,{value:o,onValueChange:l,children:[n.jsx(Or,{className:"mt-2",children:n.jsx(Vr,{placeholder:"All Status"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Status"}),n.jsx(ft,{value:"pending",children:"Pending"}),n.jsx(ft,{value:"invoiced",children:"Invoiced"}),n.jsx(ft,{value:"dispatched",children:"Dispatched"}),n.jsx(ft,{value:"delivered",children:"Delivered"}),n.jsx(ft,{value:"price difference",children:"Price Difference"}),n.jsx(ft,{value:"mov issue",children:"MOV Issue"}),n.jsx(ft,{value:"stock issue",children:"Stock Issue"}),n.jsx(ft,{value:"cancelled",children:"Cancelled"}),n.jsx(ft,{value:"expired",children:"Expired"}),n.jsx(ft,{value:"hold",children:"Hold"}),n.jsx(ft,{value:"cn",children:"CN"}),n.jsx(ft,{value:"rtv",children:"RTV"})]})]})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Platform"}),n.jsxs(Ur,{value:c,onValueChange:d,children:[n.jsx(Or,{className:"mt-2",children:n.jsx(Vr,{placeholder:"All Platforms"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Platforms"}),T.map(se=>n.jsx(ft,{value:se.id.toString(),children:se.pf_name},se.id))]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"h-4 w-4 text-gray-500"}),n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Date Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order Date From"}),n.jsx(ke,{type:"date",value:u,onChange:se=>f(se.target.value),className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order Date To"}),n.jsx(ke,{type:"date",value:h,onChange:se=>p(se.target.value),className:"mt-2"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date From"}),n.jsx(ke,{type:"date",value:y,onChange:se=>m(se.target.value),className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date To"}),n.jsx(ke,{type:"date",value:g,onChange:se=>w(se.target.value),className:"mt-2"})]})]})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("div",{className:"text-2xl font-bold",children:k}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Items"})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("div",{className:"text-2xl font-bold",children:L}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Quantity"})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",ie.toLocaleString("en-IN")]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})})]}),v.length===0?n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(be,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-gray-800 dark:to-gray-700 rounded-full flex items-center justify-center mb-6",children:n.jsx(ht,{className:"w-10 h-10 text-blue-500 dark:text-blue-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Order Items Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-6 max-w-md",children:"No order items have been created yet. Create purchase orders to see items here."})]})}):R.length===0?n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(be,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-yellow-100 dark:from-gray-800 dark:to-gray-700 rounded-full flex items-center justify-center mb-6",children:n.jsx(vn,{className:"w-10 h-10 text-orange-500 dark:text-orange-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Matching Order Items"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-6 max-w-md",children:"No order items match your current search and filter criteria."}),n.jsx(ue,{onClick:C,variant:"outline",children:"Clear Filters"})]})}):n.jsx("div",{className:"space-y-4",children:R.map((se,ce)=>n.jsxs(ve,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300 hover:scale-[1.01]",children:[n.jsx(Oe,{className:"pb-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-gray-800 dark:to-gray-900 border-b border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx(Me,{className:"text-xl font-bold text-gray-900 dark:text-white",children:se.item_name}),n.jsxs("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mt-1",children:[se.po_number,"  ",se.platform_name]})]}),n.jsxs(of,{children:[n.jsx(lf,{asChild:!0,children:n.jsxs(ue,{variant:"outline",size:"sm",className:"flex items-center space-x-2 px-3 py-1",disabled:S.isPending||!se.id,children:[n.jsx(rt,{variant:fe(se.status||"PENDING"),className:"text-xs font-semibold border-none bg-transparent p-0",children:(se.status||"PENDING").toUpperCase()}),n.jsx(Ci,{className:"h-3 w-3"})]})}),n.jsxs(ld,{align:"end",className:"w-52 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg [&>*]:text-gray-900 [&>*]:dark:text-gray-100",children:[n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"PENDING")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"default",className:"text-xs mr-2",children:"PENDING"}),n.jsx("span",{style:{color:"#111827"},children:"Pending"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"INVOICED")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"secondary",className:"text-xs mr-2",children:"INVOICED"}),n.jsx("span",{style:{color:"#111827"},children:"Invoiced"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"DISPATCHED")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"secondary",className:"text-xs mr-2",children:"DISPATCHED"}),n.jsx("span",{style:{color:"#111827"},children:"Dispatched"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"DELIVERED")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"secondary",className:"text-xs mr-2",children:"DELIVERED"}),n.jsx("span",{style:{color:"#111827"},children:"Delivered"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"PRICE_DIFF")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"PRICE DIFF"}),n.jsx("span",{style:{color:"#111827"},children:"Price Difference"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"MOV_ISSUE")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"MOV ISSUE"}),n.jsx("span",{style:{color:"#111827"},children:"MOV Issue"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"STOCK_ISSUE")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"STOCK ISSUE"}),n.jsx("span",{style:{color:"#111827"},children:"Stock Issue"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"CANCELLED")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"destructive",className:"text-xs mr-2",children:"CANCELLED"}),n.jsx("span",{style:{color:"#111827"},children:"Cancelled"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"EXPIRED")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"destructive",className:"text-xs mr-2",children:"EXPIRED"}),n.jsx("span",{style:{color:"#111827"},children:"Expired"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"HOLD")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"HOLD"}),n.jsx("span",{style:{color:"#111827"},children:"Hold"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"CN")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"CN"}),n.jsx("span",{style:{color:"#111827"},children:"CN"})]}),n.jsxs(Br,{onClick:q=>{q.preventDefault(),q.stopPropagation(),b(se.id,"RTV")},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 font-medium",style:{color:"#111827"},children:[n.jsx(rt,{variant:"outline",className:"text-xs mr-2",children:"RTV"}),n.jsx("span",{style:{color:"#111827"},children:"RTV"})]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:["",(parseFloat(se.landing_rate||"0")*se.quantity).toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Item Total"})]})]})}),n.jsxs(be,{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Quantity"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:se.quantity})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Landing Rate"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["",parseFloat(se.landing_rate||"0").toFixed(2)]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"SAP Code"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:se.sap_code||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"HSN Code"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:se.hsn_code||"N/A"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Order: ",Ot(new Date(se.order_date),"MMM dd, yyyy")]})]}),se.expiry_date&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full"}),n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Expires: ",Ot(new Date(se.expiry_date),"MMM dd, yyyy")]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[se.basic_rate&&n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Basic: ",parseFloat(se.basic_rate).toFixed(2)]}),se.gst_rate&&n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["GST: ",parseFloat(se.gst_rate).toFixed(2),"%"]})]})})]})]})]},se.id||`order-item-${ce}`))})]})}function Ure({onCreatePO:e,onUploadPO:t}){return n.jsxs(of,{children:[n.jsx(lf,{asChild:!0,children:n.jsxs(ue,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"New PO",n.jsx(Ci,{className:"h-4 w-4 ml-2"})]})}),n.jsxs(ld,{align:"end",className:"w-56",children:[n.jsxs(Br,{onClick:t,className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx(cs,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Upload PO"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Upload CSV/Excel files"})]})]}),n.jsxs(Br,{onClick:e,className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx(xn,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Create PO"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Manual PO creation"})]})]})]})]})}const Vre=Sd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Rc=x.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:Te(Vre({variant:t}),e),...r}));Rc.displayName="Alert";const $re=x.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Te("mb-1 font-medium leading-none tracking-tight",e),...t}));$re.displayName="AlertTitle";const Mc=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Te("text-sm [&_p]:leading-relaxed",e),...t}));Mc.displayName="AlertDescription";const tw=class tw{static async autoPopulate(t){try{const r=await fetch(`${this.baseUrl}/auto-populate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uploadType:t.uploadType,identifier:t.identifier,platform:t.platform})});if(!r.ok){const a=await r.json();throw new Error(a.error||`HTTP ${r.status}`)}const s=await r.json();return{found:s.found,data:s.data,source:s.source,message:s.message}}catch(r){return console.error("Auto-populate error:",r),{found:!1,source:"error",message:r instanceof Error?r.message:"Unknown error occurred"}}}static async getAvailableTables(t){try{const r=await fetch(`${this.baseUrl}/sql-query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
            SELECT table_name FROM information_schema.tables 
            WHERE table_schema = 'public' 
            AND (
              (table_name LIKE 'SC_%' AND $1 = 'secondary-sales') OR
              (table_name LIKE 'INV_%' AND $1 = 'inventory') OR
              (table_name LIKE 'po_%' OR table_name LIKE 'pf_po%' AND $1 = 'po')
            )
            ORDER BY table_name
          `,params:[t]})});if(r.ok)return(await r.json()).map(a=>a.table_name)}catch(r){console.error("Failed to get available tables:",r)}return[]}};tw.baseUrl="/api";let my=tw;function zre(){const[e,t]=x.useState(!1),[r,s]=x.useState(null),[a,i]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(null),u=x.useCallback(async(h,p,y)=>{if(!p.trim()){s("Identifier is required");return}t(!0),s(null),i(null),l(null),d(null);try{const m=await my.autoPopulate({uploadType:h,identifier:p.trim(),platform:y});m.found?(i(m.data),l(m.source),d(m.message),console.log(" Auto-populate successful:",m)):(s(m.message),d(m.message),console.log(" Auto-populate found no data:",m))}catch(m){const g=m instanceof Error?m.message:"Failed to auto-populate data";s(g),console.error(" Auto-populate error:",m)}finally{t(!1)}},[]),f=x.useCallback(()=>{i(null),s(null),l(null),d(null)},[]);return{isLoading:e,error:r,data:a,source:o,message:c,autoPopulate:u,clearData:f}}function qre({uploadType:e,onDataPopulated:t,className:r="",platforms:s=[],placeholder:a,searchLabel:i}){const[o,l]=x.useState(""),[c,d]=x.useState("all"),{isLoading:u,error:f,data:h,source:p,message:y,autoPopulate:m,clearData:g}=zre(),w=()=>{if(a)return a;switch(e){case"secondary-sales":return"Enter order ID, SKU, or item name...";case"inventory":return"Enter SKU, product name, or listing ID...";case"po":return"Enter PO number, series, or item code...";default:return"Enter search term..."}},v=()=>{if(i)return i;switch(e){case"secondary-sales":return"Search Secondary Sales";case"inventory":return"Search Inventory";case"po":return"Search Purchase Orders";default:return"Search Records"}},_=async()=>{o.trim()&&await m(e,o,c==="all"?void 0:c)},N=()=>{h&&p&&(t(h,p),l(""),g())},T=b=>{b.key==="Enter"&&(b.preventDefault(),_())},S=b=>b.split("-").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(" ");return n.jsxs(ve,{className:`border-2 border-dashed border-blue-300 bg-blue-50/50 ${r}`,children:[n.jsxs(Oe,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ta,{className:"h-5 w-5 text-blue-600"}),n.jsx(Me,{className:"text-lg text-blue-900",children:"Auto-Populate from Master Data"})]}),n.jsxs(kt,{className:"text-blue-700",children:["Search and populate from existing ",S(e)," records in the database"]})]}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700",children:v()}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ke,{value:o,onChange:b=>l(b.target.value),onKeyPress:T,placeholder:w(),className:"pl-10 h-10",disabled:u})]})]}),s.length>0&&n.jsxs("div",{className:"w-32",children:[n.jsx(Se,{className:"text-sm font-medium text-gray-700",children:"Platform"}),n.jsxs(Ur,{value:c,onValueChange:d,children:[n.jsx(Or,{className:"mt-1 h-10",children:n.jsx(Vr,{placeholder:"Any"})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"Any Platform"}),s.map(b=>n.jsx(ft,{value:b,children:b},b))]})]})]})]}),n.jsx(ue,{onClick:_,disabled:u||!o.trim(),className:"w-full h-10",variant:"outline",children:u?n.jsxs(n.Fragment,{children:[n.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Search Master Data"]})})]}),f&&n.jsxs(Rc,{variant:"destructive",children:[n.jsx(Qr,{className:"h-4 w-4"}),n.jsx(Mc,{children:f})]}),h&&p&&n.jsxs(Rc,{className:"border-green-200 bg-green-50",children:[n.jsx(Ea,{className:"h-4 w-4 text-green-600"}),n.jsxs(Mc,{className:"text-green-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:y}),n.jsx("div",{className:"flex items-center gap-2 mt-1",children:n.jsxs(rt,{variant:"secondary",className:"text-xs",children:["Source: ",p]})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ue,{onClick:N,size:"sm",className:"h-8",children:"Use This Data"}),n.jsx(ue,{onClick:g,size:"sm",variant:"outline",className:"h-8 w-8 p-0",children:n.jsx(ei,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"mt-3 p-2 bg-white rounded border text-xs text-gray-600",children:[n.jsx("div",{className:"font-medium mb-1",children:"Preview:"}),n.jsxs("div",{className:"space-y-1",children:[Object.entries(h).slice(0,5).map(([b,I])=>n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("span",{className:"font-medium",children:[b,":"]}),n.jsxs("span",{className:"truncate",children:[String(I).slice(0,50),"..."]})]},b)),Object.keys(h).length>5&&n.jsxs("div",{className:"text-gray-500 italic",children:["... and ",Object.keys(h).length-5," more fields"]})]})]})]})]}),!h&&!f&&!u&&o&&n.jsxs(Rc,{children:[n.jsx(Qr,{className:"h-4 w-4"}),n.jsx(Mc,{children:'Enter a search term and click "Search Master Data" to find existing records.'})]})]})]})}const _j=[{id:"flipkart",name:"Flipkart Grocery",description:"Upload Flipkart Grocery PO files",endpoint:"/api/flipkart-grocery-pos",queryKey:"/api/flipkart-grocery-pos"},{id:"zepto",name:"Zepto",description:"Upload Zepto PO files",endpoint:"/api/zepto-pos",queryKey:"/api/zepto-pos"},{id:"citymall",name:"City Mall",description:"Upload City Mall PO files",endpoint:"/api/city-mall-pos",queryKey:"/api/city-mall-pos"},{id:"blinkit",name:"Blinkit",description:"Upload Blinkit PO files",endpoint:"/api/blinkit-pos",queryKey:"/api/blinkit-pos"},{id:"swiggy",name:"Swiggy Instamart",description:"Upload Swiggy PO files",endpoint:"/api/swiggy-pos",queryKey:"/api/swiggy-pos"},{id:"bigbasket",name:"BigBasket",description:"Upload BigBasket PO files",endpoint:"/api/bigbasket-pos",queryKey:"/api/bigbasket-pos"},{id:"zomato",name:"Zomato",description:"Upload Zomato PO files",endpoint:"/api/zomato-pos",queryKey:"/api/zomato-pos"},{id:"dealshare",name:"Dealshare",description:"Upload Dealshare PO files",endpoint:"/api/dealshare-pos",queryKey:"/api/dealshare-pos"}];function Wre({onComplete:e}){const[t,r]=x.useState("platform"),[s,a]=x.useState(""),[i,o]=x.useState(null),[l,c]=x.useState(null),[d,u]=x.useState(!1),{toast:f}=Mr(),h=Wr(),p=_j.find(C=>C.id===s),y=()=>{r("platform"),a(""),o(null),c(null),u(!1)},m=zt({mutationFn:async C=>{const R=new FormData;R.append("file",C),R.append("platform",s);const k=await fetch("/api/po/preview",{method:"POST",body:R});if(!k.ok){const L=await k.json();throw new Error(L.error||"Failed to preview file")}return k.json()},onSuccess:C=>{c(C),r("preview")},onError:C=>{f({title:"Preview failed",description:C.message,variant:"destructive"})}}),g=zt({mutationFn:async C=>{const R=await fetch(`/api/po/import/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!R.ok){const k=await R.json();throw R.status===409&&k.type==="duplicate_po"?new Error(k.error):new Error(k.error||"Failed to import PO")}return R.json()},onSuccess:async C=>{var R,k;if(console.log(" Upload response data:",C),C.results&&Array.isArray(C.results)){const L=C.results.filter(fe=>fe.status==="success"),ie=C.results.filter(fe=>fe.status==="failed");f({title:"PO import completed",description:`Successfully imported ${L.length} of ${C.results.length} POs${ie.length>0?`. ${ie.length} failed.`:""}`}),L.length>0&&(console.log(" Multi-PO upload successful, updating PO list"),console.log(" Aggressively refreshing all queries..."),await Promise.all([h.invalidateQueries({queryKey:[p.queryKey]}),h.invalidateQueries({queryKey:["/api/pos"]}),h.invalidateQueries({queryKey:["/api/order-items"]})]),await h.refetchQueries({queryKey:["/api/pos"]}),setTimeout(()=>{f({title:"POs added to system",description:`${L.length} PO${L.length>1?"s are":" is"} now available in your PO list.`,duration:4e3})},1500))}else{f({title:"PO imported successfully",description:`PO ${C.po_number||((R=C.po)==null?void 0:R.po_number)||"Unknown"} has been created`});let L=C.id||((k=C.po)==null?void 0:k.id)||C.poId||C.po_id;console.log(" Extracted PO ID:",L,"from data:",C),console.log(" Data keys:",Object.keys(C)),console.log(" Data.po keys:",C.po?Object.keys(C.po):"no po object"),console.log(" Upload successful, updating PO list"),console.log(" Single PO: Aggressively refreshing all queries..."),await Promise.all([h.invalidateQueries({queryKey:[p.queryKey]}),h.invalidateQueries({queryKey:["/api/pos"]}),h.invalidateQueries({queryKey:["/api/order-items"]})]),await h.refetchQueries({queryKey:["/api/pos"]}),setTimeout(()=>{f({title:"PO added to system",description:"The PO is now available in your PO list. You can edit it from the View POs tab.",duration:4e3})},1500)}y(),await Promise.all([h.invalidateQueries({queryKey:[p.queryKey]}),h.invalidateQueries({queryKey:["/api/pos"]}),h.invalidateQueries({queryKey:["/api/order-items"]}),h.refetchQueries({queryKey:["/api/pos"]})]),e==null||e()},onError:C=>{f({title:"Import failed",description:C.message,variant:"destructive"})}}),w=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?u(!0):C.type==="dragleave"&&u(!1)},v=C=>{C.preventDefault(),C.stopPropagation(),u(!1);const R=C.dataTransfer.files;R&&R[0]&&N(R[0])},_=C=>{const R=C.target.files;R&&R[0]&&N(R[0])},N=C=>{["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(C.type)||C.name.endsWith(".csv")||C.name.endsWith(".xls")||C.name.endsWith(".xlsx")?(o(C),c(null)):f({title:"Invalid file type",description:"Please upload a CSV or Excel file",variant:"destructive"})},T=C=>{a(C),r("upload")},S=()=>{if(!i){f({title:"No file selected",description:"Please select a file to preview",variant:"destructive"});return}m.mutate(i)},b=()=>{l&&g.mutate(l)},I=(C,R)=>{console.log(" Auto-populated data received:",{data:C,source:R});const k={header:C,lines:Array.isArray(C)?C:[C],source:R,autoPopulated:!0};c(k),r("preview"),f({title:"Data Auto-Populated",description:`Successfully loaded data from ${R}`})},D=()=>{var C,R;switch(t){case"platform":return n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Select Platform"]}),n.jsx(kt,{children:"Choose the e-commerce platform for your purchase order"})]}),n.jsx(be,{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_j.map(k=>n.jsx(ue,{variant:"outline",className:"h-20 text-left justify-start p-4 hover:bg-blue-50 hover:border-blue-300",onClick:()=>T(k.id),children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-base",children:k.name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Upload ",k.name," PO files"]})]})},k.id))})})]});case"upload":return n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"Upload ",p==null?void 0:p.name," PO File"]}),n.jsxs(kt,{children:["Upload CSV or Excel files containing"," ",p==null?void 0:p.name," purchase order data"]})]}),n.jsxs(be,{className:"space-y-6",children:[n.jsx(qre,{uploadType:"po",onDataPopulated:I,platforms:[(p==null?void 0:p.name)||s],searchLabel:`Search Existing ${p==null?void 0:p.name} POs`,placeholder:"Enter PO number, series, or item code...",className:"mb-4"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or upload new file"})})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:v,children:[n.jsx(xn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:i?"File Selected":`Drop your ${p==null?void 0:p.name} CSV/Excel file here`}),n.jsxs("p",{className:"text-sm text-gray-500",children:["or"," ",n.jsx(Se,{htmlFor:"file-upload",className:"text-blue-600 hover:underline cursor-pointer",children:"browse to choose a file"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports .csv, .xls, and .xlsx files"})]}),n.jsx(ke,{id:"file-upload",type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:_})]}),i&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ad,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:i.name}),n.jsxs("p",{className:"text-sm text-green-600",children:[(i.size/1024).toFixed(1)," KB"]})]})]}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>o(null),children:n.jsx(ei,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(ue,{onClick:S,disabled:m.isPending,className:"flex-1",children:m.isPending?"Processing...":"Preview File"}),n.jsx(ue,{variant:"outline",onClick:()=>r("platform"),children:"Back"})]})]})]})]});case"preview":return n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(ad,{className:"h-5 w-5"}),"Preview & Import"]}),n.jsx(kt,{children:"Review the parsed data before importing to database"})]}),n.jsx(be,{className:"space-y-6",children:l&&n.jsxs("div",{className:"space-y-6",children:[l.poList&&Array.isArray(l.poList)?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Multiple POs Found"}),n.jsxs(rt,{variant:"secondary",children:[l.poList.length," POs detected"]})]}),l.poList.map((k,L)=>{var ie,fe,se,ce;return n.jsxs(ve,{className:"border-l-4 border-l-blue-500",children:[n.jsx(Oe,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Me,{className:"text-base",children:["PO #",((ie=k.header)==null?void 0:ie.po_number)||`Unknown ${L+1}`]}),n.jsxs(rt,{variant:"outline",children:[((fe=k.lines)==null?void 0:fe.length)||0," items"]})]})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx("span",{className:"font-medium text-blue-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((se=k.lines)==null?void 0:se.length)||0})]}),n.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[n.jsx("span",{className:"font-medium text-green-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:k.totalQuantity||0})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[n.jsx("span",{className:"font-medium text-purple-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-purple-900",children:["",k.totalAmount||"0"]})]}),((ce=k.header)==null?void 0:ce.order_date)&&n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[n.jsx("span",{className:"font-medium text-orange-800",children:"Order Date"}),n.jsx("p",{className:"text-sm font-medium text-orange-900",children:k.header.order_date})]})]}),k.lines&&k.lines.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Line Items Preview"}),n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3 font-medium",children:"Item Code"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Description"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"UOM"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Landing Rate"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Total"})]})}),n.jsx("tbody",{children:k.lines.map((q,oe)=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3 font-medium",children:q.item_code||"N/A"}),n.jsx("td",{className:"p-3",children:q.product_description||"N/A"}),n.jsx("td",{className:"p-3",children:q.grammage||"N/A"}),n.jsx("td",{className:"p-3",children:q.quantity||0}),n.jsxs("td",{className:"p-3",children:["",q.landing_rate||"0"]}),n.jsxs("td",{className:"p-3",children:["",q.total_amount||"0"]})]},oe))})]})})]})]})})]},L)})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"PO Details"}),l.header&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{className:"text-base",children:"Header Information"})}),n.jsx(be,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:Object.entries(l.header).map(([k,L])=>n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-gray-600 capitalize",children:[k.replace(/_/g," "),":"]}),n.jsx("p",{className:"mt-1",children:L})]},k))})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.totalItems||((C=l.lines)==null?void 0:C.length)||0}),n.jsx("div",{className:"text-sm text-blue-600",children:"Total Items"})]}),l.totalQuantity&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.totalQuantity}),n.jsx("div",{className:"text-sm text-green-600",children:"Total Quantity"})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",l.totalAmount||((R=l.header)==null?void 0:R.grand_total)||"0.00"]}),n.jsx("div",{className:"text-sm text-purple-600",children:"Total Amount"})]})]}),l.lines&&l.lines.length>0&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{className:"text-base",children:"Line Items Preview"}),n.jsxs(kt,{children:["Showing all ",l.lines.length," items"]})]}),n.jsx(be,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsx("tr",{className:"border-b",children:(p==null?void 0:p.id)==="zepto"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"SKU"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Brand"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"SAP ID"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"HSN Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"PO Qty"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Remaining"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Cost Price"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"MRP"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Total Value"})]}):(p==null?void 0:p.id)==="citymall"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Item"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Price"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Total"})]}):(p==null?void 0:p.id)==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Title"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"FSN/ISBN"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Brand"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Supplier Price"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Total"})]}):(p==null?void 0:p.id)==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Item Description"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Item Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"HSN Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"MRP"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Line Total"})]}):(p==null?void 0:p.id)==="bigbasket"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Description"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"SKU Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"HSN Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"MRP"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Total Value"})]}):(p==null?void 0:p.id)==="zomato"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Product Name"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Product Number"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"HSN Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Price Per Unit"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"UoM"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"GST Rate"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Line Total"})]}):(p==null?void 0:p.id)==="dealshare"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"SKU"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Product Name"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"HSN Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"MRP"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Buying Price"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"GST %"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Gross Amount"})]}):n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"text-left p-2 font-medium",children:"Item"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Code"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Price"}),n.jsx("th",{className:"text-left p-2 font-medium",children:"Total"})]})})}),n.jsx("tbody",{children:l.lines.map((k,L)=>n.jsx("tr",{className:"border-b last:border-b-0",children:(p==null?void 0:p.id)==="zepto"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.sku||"N/A"}),n.jsx("td",{className:"p-2",children:k.brand||"N/A"}),n.jsx("td",{className:"p-2",children:k.sap_id||"N/A"}),n.jsx("td",{className:"p-2",children:k.hsn_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.po_qty||0}),n.jsx("td",{className:"p-2",children:k.remaining_qty||0}),n.jsxs("td",{className:"p-2",children:["",k.cost_price||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.mrp||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.total_value||"0.00"]})]}):(p==null?void 0:p.id)==="citymall"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.article_name||"N/A"}),n.jsx("td",{className:"p-2",children:k.article_id||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||0}),n.jsxs("td",{className:"p-2",children:["",k.base_cost_price||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.total_amount||"0.00"]})]}):(p==null?void 0:p.id)==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.title||"N/A"}),n.jsx("td",{className:"p-2",children:k.fsn_isbn||"N/A"}),n.jsx("td",{className:"p-2",children:k.brand||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||0}),n.jsxs("td",{className:"p-2",children:["",k.supplier_price||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.total_amount||"0.00"]})]}):(p==null?void 0:p.id)==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.item_description||"N/A"}),n.jsx("td",{className:"p-2",children:k.item_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.hsn_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||0}),n.jsxs("td",{className:"p-2",children:["",k.mrp||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.line_total||"0.00"]})]}):(p==null?void 0:p.id)==="bigbasket"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.description||"N/A"}),n.jsx("td",{className:"p-2",children:k.sku_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.hsn_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||0}),n.jsxs("td",{className:"p-2",children:["",k.mrp||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.total_value||"0.00"]})]}):(p==null?void 0:p.id)==="zomato"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.product_name||"N/A"}),n.jsx("td",{className:"p-2",children:k.product_number||"N/A"}),n.jsx("td",{className:"p-2",children:k.hsn_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity_ordered||0}),n.jsxs("td",{className:"p-2",children:["",k.price_per_unit||"0.00"]}),n.jsx("td",{className:"p-2",children:k.uom||"N/A"}),n.jsxs("td",{className:"p-2",children:[k.gst_rate||"0.00","%"]}),n.jsxs("td",{className:"p-2",children:["",k.line_total||"0.00"]})]}):(p==null?void 0:p.id)==="dealshare"?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.sku||"N/A"}),n.jsx("td",{className:"p-2",children:k.product_name||"N/A"}),n.jsx("td",{className:"p-2",children:k.hsn_code||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||0}),n.jsxs("td",{className:"p-2",children:["",k.mrp_tax_inclusive||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.buying_price||"0.00"]}),n.jsxs("td",{className:"p-2",children:[k.gst_percent||"0.00","%"]}),n.jsxs("td",{className:"p-2",children:["",k.gross_amount||"0.00"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-2",children:k.item_name||k.sku||"N/A"}),n.jsx("td",{className:"p-2",children:k.item_code||k.sku||"N/A"}),n.jsx("td",{className:"p-2",children:k.quantity||k.po_qty||0}),n.jsxs("td",{className:"p-2",children:["",k.cost_price||k.mrp||"0.00"]}),n.jsxs("td",{className:"p-2",children:["",k.total_value||k.total_amount||"0.00"]})]})},L))})]})})})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[n.jsx(ue,{onClick:b,disabled:g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:g.isPending?"Importing...":"Import to Database"}),n.jsx(ue,{variant:"outline",onClick:()=>r("upload"),disabled:g.isPending,children:"Back"})]})]})})]});default:return null}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[n.jsxs("div",{className:`flex items-center gap-2 ${t==="platform"?"text-blue-600":t==="upload"||t==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${t==="platform"?"bg-blue-100 text-blue-600":t==="upload"||t==="preview"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:"1"}),n.jsx("span",{className:"font-medium",children:"Select Platform"})]}),n.jsx(ts,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:`flex items-center gap-2 ${t==="upload"?"text-blue-600":t==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${t==="upload"?"bg-blue-100 text-blue-600":t==="preview"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:"2"}),n.jsx("span",{className:"font-medium",children:"Upload File"})]}),n.jsx(ts,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:`flex items-center gap-2 ${t==="preview"?"text-blue-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${t==="preview"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:"3"}),n.jsx("span",{className:"font-medium",children:"Preview & Import"})]})]})})}),D()]})}function Hre(){const e=Wr(),[t,r]=x.useState("list"),[s,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(0);return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx(ve,{className:"shadow-lg border-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:n.jsx(Oe,{className:"border-b border-blue-100 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Me,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Platform Purchase Orders"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Create, manage, and track purchase orders for e-commerce platforms"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ure,{onCreatePO:()=>{o(!0),a(!1)},onUploadPO:()=>{a(!0),o(!1)}}),n.jsx("div",{className:"flex items-center space-x-4 text-sm",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"System Online"})]})})]})]})})}),n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(u_,{value:t,onValueChange:r,className:"w-full",children:[!s&&!i&&n.jsx(Oe,{className:"border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-gray-800 dark:to-gray-900",children:n.jsxs(Wp,{className:"grid w-full grid-cols-2 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm shadow-md rounded-xl",children:[n.jsxs(Sl,{value:"list",className:"flex items-center space-x-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-600 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[n.jsx(Xk,{className:"h-4 w-4"}),n.jsx("span",{children:"View POs"})]}),n.jsxs(Sl,{value:"analytics",className:"flex items-center space-x-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white",children:[n.jsx(Gk,{className:"h-4 w-4"}),n.jsx("span",{children:"Order Items"})]})]})}),n.jsxs(be,{className:"p-0",children:[!s&&!i&&n.jsxs(n.Fragment,{children:[n.jsx(El,{value:"list",className:"mt-0",children:n.jsx("div",{className:"p-6",children:n.jsx(Lre,{},l)})}),n.jsx(El,{value:"analytics",className:"mt-0",children:n.jsx("div",{className:"p-6",children:n.jsx(Bre,{})})})]}),s&&n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>a(!1),className:"flex items-center space-x-2",children:[n.jsx($t,{className:"h-4 w-4"}),n.jsx("span",{children:"Back"})]}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Upload Purchase Order"})]})}),n.jsx(Wre,{onComplete:()=>{console.log(" Platform tabs: Upload completed, refreshing data..."),e.invalidateQueries({queryKey:["/api/pos"]}),e.invalidateQueries({queryKey:["/api/order-items"]}),a(!1),r("list"),c(d=>d+1),setTimeout(()=>{console.log(" Dispatching po-created event..."),window.dispatchEvent(new Event("po-created"))},100)}})]}),i&&n.jsxs("div",{className:"p-0",children:[n.jsx("div",{className:"p-6 border-b bg-white",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>o(!1),className:"flex items-center space-x-2",children:[n.jsx($t,{className:"h-4 w-4"}),n.jsx("span",{children:"Back"})]}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Create New Purchase Order"})]})}),n.jsx(jI,{onSuccess:()=>{o(!1),r("list"),c(d=>d+1),setTimeout(()=>{window.dispatchEvent(new Event("po-created"))},100)}})]})]})]})})]})}function Kre(){return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:n.jsx(Hre,{})})})}var Gre="Separator",wj="horizontal",Qre=["horizontal","vertical"],h6=x.forwardRef((e,t)=>{const{decorative:r,orientation:s=wj,...a}=e,i=Yre(s)?s:wj,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ct.div,{"data-orientation":i,...l,...a,ref:t})});h6.displayName=Gre;function Yre(e){return Qre.includes(e)}var m6=h6;const Af=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(m6,{ref:a,decorative:r,orientation:t,className:Te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Af.displayName=m6.displayName;function Xre(){const e=Uf(),[,t]=Fs(),{toast:r}=Mr(),s=Wr(),a=e.id,{data:i,isLoading:o,error:l}=Dt({queryKey:[`/api/pos/${a}`],enabled:!!a}),c=()=>{t(`/po-edit/${a}`)},d=async()=>{if(i&&confirm(`Are you sure you want to delete PO ${i.po_number}?`))try{console.log(" Starting PO deletion from details page..."),await kn("DELETE",`/api/pos/${a}`),await Promise.all([s.invalidateQueries({queryKey:["/api/pos"]}),s.invalidateQueries({queryKey:["/api/order-items"]}),s.invalidateQueries({queryKey:[`/api/pos/${a}`]})]),console.log(" Cache invalidated after deletion"),r({title:"Success",description:"Purchase order deleted successfully"}),t("/platform-po")}catch(m){console.error(" PO deletion failed:",m),r({title:"Error",description:"Failed to delete purchase order",variant:"destructive"})}},u=()=>{i&&r({title:"Download Started",description:`Downloading PO ${i.po_number}`})},f=m=>{switch(m.toLowerCase()){case"open":return"default";case"closed":return"secondary";case"cancelled":return"destructive";case"expired":return"destructive";case"duplicate":return"outline";default:return"default"}},h=m=>{const g=m.reduce((v,_)=>v+_.quantity,0),w=m.reduce((v,_)=>v+parseFloat(_.landing_rate)*_.quantity,0);return{totalQuantity:g,totalValue:w}};if(o)return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase order details..."})]})})});if(l||!i)return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Purchase Order Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The requested purchase order could not be found."}),n.jsxs(ue,{onClick:()=>t("/platform-po"),children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to Purchase Orders"]})]})})});const{totalQuantity:p,totalValue:y}=h(i.orderItems);return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 shadow-lg border-b border-blue-100 dark:border-gray-700 px-6 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(ue,{variant:"outline",onClick:()=>t("/platform-po"),className:"hover:bg-blue-50",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:i.po_number}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:[i.platform.pf_name,"  Created ",Ot(new Date(i.order_date),"MMM dd, yyyy")]})]}),n.jsx(rt,{variant:f(i.status),className:"px-3 py-1 text-sm font-semibold",children:i.status})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ue,{variant:"outline",onClick:u,children:[n.jsx(Ed,{className:"mr-2 h-4 w-4"}),"Download"]}),n.jsxs(ue,{variant:"outline",onClick:c,children:[n.jsx(mp,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(ue,{variant:"outline",onClick:d,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[n.jsx(vi,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ve,{className:"lg:col-span-2",children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center",children:[n.jsx(ht,{className:"mr-2 h-5 w-5"}),"Purchase Order Details"]})}),n.jsx(be,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Order Date"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rr,{className:"mr-2 h-4 w-4 text-gray-400"}),n.jsx("span",{className:"font-semibold",children:Ot(new Date(i.order_date),"MMM dd, yyyy")})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Expiry Date"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Yk,{className:"mr-2 h-4 w-4 text-gray-400"}),n.jsx("span",{className:"font-semibold",children:i.expiry_date?Ot(new Date(i.expiry_date),"MMM dd, yyyy"):"Not set"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(hm,{className:"mr-2 h-4 w-4 text-gray-400"}),n.jsxs("span",{className:"font-semibold",children:[i.city,", ",i.state]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Distributor"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fv,{className:"mr-2 h-4 w-4 text-gray-400"}),n.jsx("span",{className:"font-semibold",children:i.serving_distributor||"Not assigned"})]})]})]})})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center",children:[n.jsx(oo,{className:"mr-2 h-5 w-5"}),"Order Summary"]})}),n.jsx(be,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Items"}),n.jsx("span",{className:"font-semibold",children:i.orderItems.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Quantity"}),n.jsx("span",{className:"font-semibold",children:p})]}),n.jsx(Af,{}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-lg font-medium",children:"Total Value"}),n.jsxs("span",{className:"text-lg font-bold text-primary",children:["",y.toFixed(2)]})]})]})})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{children:["Order Items (",i.orderItems.length,")"]})}),n.jsx(be,{children:n.jsx("div",{className:"space-y-4",children:i.orderItems.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No items in this purchase order"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg font-medium text-sm",children:[n.jsx("div",{className:"col-span-4",children:"Item Name"}),n.jsx("div",{className:"col-span-2 text-center",children:"Quantity"}),n.jsx("div",{className:"col-span-2 text-center",children:"Landing Rate"}),n.jsx("div",{className:"col-span-2 text-center",children:"Total"}),n.jsx("div",{className:"col-span-2 text-center",children:"Status"})]}),i.orderItems.map(m=>n.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"col-span-4",children:[n.jsx("p",{className:"font-medium",children:m.item_name}),m.hsn_code&&n.jsxs("p",{className:"text-sm text-gray-500",children:["HSN: ",m.hsn_code]})]}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsx("span",{className:"font-semibold",children:m.quantity})}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsxs("span",{className:"font-semibold",children:["",parseFloat(m.landing_rate).toFixed(2)]})}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsxs("span",{className:"font-semibold",children:["",(parseFloat(m.landing_rate)*m.quantity).toFixed(2)]})}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsx(rt,{variant:"outline",className:"text-xs",children:"Active"})})]},m.id))]})})})]})]})})]})}function Zre(){const e=Uf(),[,t]=Fs(),r=e.id;return!r||isNaN(parseInt(r))?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-white to-purple-50/20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Invalid PO ID"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The purchase order ID provided is not valid."}),n.jsxs(ue,{onClick:()=>t("/platform-po"),children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-white to-purple-50/20",children:[n.jsx("header",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800 shadow-lg border-b border-green-100 dark:border-gray-700 px-6 py-6",children:n.jsx("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(ue,{variant:"outline",onClick:()=>t("/platform-po"),className:"hover:bg-green-50",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Edit Purchase Order"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Update purchase order details and line items"})]})]})})}),n.jsx("main",{children:n.jsx(jD,{onError:(s,a)=>{console.error("PO Edit Form Error:",s,a)},children:n.jsx(jI,{editMode:!0,editPoId:r,onSuccess:()=>t("/platform-po")})})})]})}const Hn=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Te("w-full caption-bottom text-sm",e),...t})}));Hn.displayName="Table";const Kn=x.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Te("[&_tr]:border-b",e),...t}));Kn.displayName="TableHeader";const Gn=x.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Te("[&_tr:last-child]:border-0",e),...t}));Gn.displayName="TableBody";const Jre=x.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Jre.displayName="TableFooter";const Yt=x.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Yt.displayName="TableRow";const X=x.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));X.displayName="TableHead";const Z=x.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Z.displayName="TableCell";const ene=x.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Te("mt-4 text-sm text-muted-foreground",e),...t}));ene.displayName="TableCaption";function tne(){var v,_,N,T;const[e,t]=x.useState(null),[r,s]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{toast:c}=Mr(),d=Wr(),u=zt({mutationFn:async S=>{const b=new FormData;b.append("file",S),b.append("platform","flipkart");const I=await fetch("/api/po/preview",{method:"POST",body:b});if(!I.ok){const D=await I.json();throw new Error(D.error||"Failed to preview file")}return I.json()},onSuccess:S=>{s(S),i(!0),c({title:"File previewed successfully",description:`Found ${S.totalItems} items`})},onError:S=>{c({title:"Preview failed",description:S.message,variant:"destructive"})}}),f=zt({mutationFn:async S=>{const b=await fetch("/api/po/import/flipkart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!b.ok){const I=await b.json();throw new Error(I.error||"Failed to import PO")}return b.json()},onSuccess:S=>{c({title:"PO imported successfully",description:`PO ${S.po_number} has been created`}),t(null),s(null),i(!1),d.invalidateQueries({queryKey:["/api/flipkart-grocery-pos"]})},onError:S=>{c({title:"Import failed",description:S.message,variant:"destructive"})}}),h=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?l(!0):S.type==="dragleave"&&l(!1)},p=S=>{S.preventDefault(),S.stopPropagation(),l(!1);const b=S.dataTransfer.files;b&&b[0]&&m(b[0])},y=S=>{const b=S.target.files;b&&b[0]&&m(b[0])},m=S=>{["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(S.type)||S.name.endsWith(".csv")||S.name.endsWith(".xls")||S.name.endsWith(".xlsx")?(t(S),s(null),i(!1)):c({title:"Invalid file type",description:"Please upload a CSV or Excel file",variant:"destructive"})},g=()=>{if(!e){c({title:"No file selected",description:"Please select a file to preview",variant:"destructive"});return}u.mutate(e)},w=()=>{if(!r){c({title:"No data to import",description:"Please preview the file first",variant:"destructive"});return}f.mutate({header:r.header,lines:r.lines})};return n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-6xl",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Flipkart Grocery PO Upload"}),n.jsx("p",{className:"text-gray-600",children:"Upload, review, and import Flipkart grocery purchase orders"})]})}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Upload Flipkart Grocery PO File"]}),n.jsx(kt,{children:"Upload CSV or Excel files containing Flipkart grocery purchase order data"})]}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:p,children:[n.jsx(xn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:e?"File Selected":"Drop your Flipkart CSV/Excel file here"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["or"," ",n.jsx(Se,{htmlFor:"file-upload",className:"text-blue-600 hover:underline cursor-pointer",children:"browse to choose a file"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports .csv, .xls, and .xlsx files"})]}),n.jsx(ke,{id:"file-upload",type:"file",accept:".csv,.xls,.xlsx,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:y,className:"hidden"})]}),e&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-green-800",children:e.name}),n.jsxs("p",{className:"text-sm text-green-600",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),n.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{t(null),s(null),i(!1)},children:"Remove"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(ue,{onClick:g,disabled:!e||u.isPending,className:"flex-1",variant:"outline",children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),u.isPending?"Analyzing...":"Preview & Review"]})})]})]}),a&&r&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-5 w-5"}),"File Preview & Review"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"PO Number"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((v=r.header)==null?void 0:v.po_number)||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:r.totalItems||0})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:r.totalQuantity||0})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",r.totalAmount||"0"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"PO Header Information"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"PO Number:"})," ",((_=r.header)==null?void 0:_.po_number)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"PO Date:"})," ",((N=r.header)==null?void 0:N.po_date)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(rt,{variant:"outline",children:((T=r.header)==null?void 0:T.status)||"Open"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Vendor:"})," Flipkart Grocery"]})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"Line Items Preview"}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"Item Code"}),n.jsx(X,{children:"Description"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"Unit Price"}),n.jsx(X,{children:"Total"})]})}),n.jsx(Gn,{children:r.lines.map((S,b)=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:S.item_code||"N/A"}),n.jsx(Z,{children:S.item_name||S.product_description||"N/A"}),n.jsx(Z,{children:S.quantity||"N/A"}),n.jsxs(Z,{children:["",S.unit_price||S.basic_cost_price||"N/A"]}),n.jsxs(Z,{children:["",S.total_amount||S.line_total||"N/A"]})]},b))})]})})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsxs(ue,{onClick:w,disabled:f.isPending,className:"flex-1",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),f.isPending?"Importing...":"Import to Database"]})})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Instructions"})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Upload File"}),n.jsx("p",{className:"text-gray-600",children:"Upload your Flipkart grocery CSV or Excel file"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Preview & Review"}),n.jsx("p",{className:"text-gray-600",children:"Review the parsed data to ensure accuracy"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Import to Database"}),n.jsx("p",{className:"text-gray-600",children:"Import the validated data into the system"})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mt-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-blue-600 mt-0.5"}),n.jsx("div",{children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:"Note:"})," Please ensure your CSV file follows the standard Flipkart grocery format. Review all data before importing to maintain data integrity."]})})]})})]})})]})]})]})})}function rne(){const[e,t]=x.useState(""),{data:r,isLoading:s}=Dt({queryKey:["/api/flipkart-grocery-pos"]}),a=(r==null?void 0:r.filter(o=>{var l,c,d;return((l=o.po_number)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))||((c=o.supplier_name)==null?void 0:c.toLowerCase().includes(e.toLowerCase()))||((d=o.category)==null?void 0:d.toLowerCase().includes(e.toLowerCase()))}))||[],i=o=>{const l={Open:"default",Closed:"secondary",Cancelled:"destructive",Pending:"outline"};return n.jsx(rt,{variant:l[o]||"outline",children:o})};return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Flipkart Grocery POs"}),n.jsx("p",{className:"text-muted-foreground",children:"View and manage imported Flipkart grocery purchase orders"})]}),n.jsx(en,{href:"/flipkart-grocery-upload",children:n.jsxs(ue,{children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Import New PO"]})})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Search & Filter"})}),n.jsx(be,{children:n.jsx("div",{className:"flex gap-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(ke,{placeholder:"Search by PO number, supplier, or category...",value:e,onChange:o=>t(o.target.value),className:"pl-10"})]})})})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{children:["Purchase Orders (",a.length,")"]}),n.jsx(kt,{children:s?"Loading purchase orders...":"Click on any PO to view details"})]}),n.jsx(be,{children:s?n.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((o,l)=>n.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"},l))}):a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No purchase orders"}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e?"No POs match your search criteria.":"Get started by importing a Flipkart grocery PO."}),!e&&n.jsx("div",{className:"mt-6",children:n.jsx(en,{href:"/flipkart-grocery-upload",children:n.jsxs(ue,{children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Import First PO"]})})})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"PO Number"}),n.jsx(X,{children:"Supplier"}),n.jsx(X,{children:"Category"}),n.jsx(X,{children:"Order Date"}),n.jsx(X,{children:"Total Amount"}),n.jsx(X,{children:"Status"}),n.jsx(X,{children:"Created By"}),n.jsx(X,{className:"w-24",children:"Actions"})]})}),n.jsx(Gn,{children:a.map(o=>n.jsxs(Yt,{className:"hover:bg-muted/50",children:[n.jsx(Z,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),o.po_number]})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:o.supplier_name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:o.supplier_email})]})]})}),n.jsx(Z,{children:n.jsx(rt,{variant:"outline",children:o.category})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),new Date(o.order_date).toLocaleDateString()]})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(o.total_amount||"0").toLocaleString()]})]})}),n.jsx(Z,{children:i(o.status)}),n.jsx(Z,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:o.created_by}),n.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(o.created_at).toLocaleDateString()})]})}),n.jsx(Z,{children:n.jsx(en,{href:`/flipkart-grocery-po/${o.id}`,children:n.jsx(ue,{variant:"ghost",size:"sm",children:n.jsx(on,{className:"h-4 w-4"})})})})]},o.id))})]})})})]})]})})]})}function nne(){const{id:e}=Uf(),{data:t,isLoading:r,error:s}=Dt({queryKey:[`/api/flipkart-grocery-pos/${e}`]}),{data:a,isLoading:i}=Dt({queryKey:[`/api/flipkart-grocery-pos/${e}/lines`]});if(r)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((l,c)=>n.jsx("div",{className:"h-32 bg-muted animate-pulse rounded"},c))})});if(s||!t)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ht,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-2 text-sm font-semibold",children:"PO Not Found"}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"The requested purchase order could not be found."}),n.jsx("div",{className:"mt-6",children:n.jsx(en,{href:"/flipkart-grocery-pos",children:n.jsxs(ue,{children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]})})})]})})})});const o=l=>{const c={Open:"default",Closed:"secondary",Cancelled:"destructive",Pending:"outline"};return n.jsx(rt,{variant:c[l]||"outline",children:l})};return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(en,{href:"/flipkart-grocery-pos",children:n.jsx(ue,{variant:"ghost",size:"sm",children:n.jsx($t,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:["PO #",t.po_number]}),n.jsx("p",{className:"text-muted-foreground",children:"Flipkart Grocery Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[o(t.status),n.jsx(rt,{variant:"outline",children:t.category}),n.jsx(en,{href:`/flipkart-grocery-po/${e}/edit`,children:n.jsxs(ue,{variant:"outline",size:"sm",children:[n.jsx(mp,{className:"mr-2 h-4 w-4"}),"Edit"]})})]})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ls,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:t.total_quantity})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Taxable Value"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",parseFloat(t.total_taxable_value||"0").toLocaleString()]})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Tax Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",parseFloat(t.total_tax_amount||"0").toLocaleString()]})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oB,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",parseFloat(t.total_amount||"0").toLocaleString()]})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-5 w-5"}),"Supplier Information"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:t.supplier_name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact"}),n.jsx("p",{children:t.supplier_contact||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{children:t.supplier_email||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"GSTIN"}),n.jsx("p",{className:"font-mono text-sm",children:t.supplier_gstin||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),n.jsx("p",{className:"text-sm leading-relaxed",children:t.supplier_address||"-"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"Order Information"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(t.order_date).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"PO Expiry"}),n.jsx("p",{children:t.po_expiry_date?new Date(t.po_expiry_date).toLocaleDateString():"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Mode of Payment"}),n.jsx("p",{children:t.mode_of_payment||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Credit Term"}),n.jsx("p",{children:t.credit_term||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contract Ref ID"}),n.jsx("p",{className:"font-mono text-sm",children:t.contract_ref_id||"-"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(hm,{className:"h-5 w-5"}),"Distribution & Location"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Distributor"}),n.jsx("p",{className:"font-medium",children:t.distributor||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Region"}),n.jsx("p",{children:t.region||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"State"}),n.jsx("p",{children:t.state||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"City"}),n.jsx("p",{children:t.city||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Area"}),n.jsx("p",{children:t.area||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dispatch From"}),n.jsx("p",{className:"text-sm leading-relaxed",children:t.dispatch_from||"-"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(hm,{className:"h-5 w-5"}),"Billing Address"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),n.jsx("p",{className:"text-sm leading-relaxed",children:t.billed_to_address||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"GSTIN"}),n.jsx("p",{className:"font-mono text-sm",children:t.billed_to_gstin||"-"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(hm,{className:"h-5 w-5"}),"Shipping Address"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),n.jsx("p",{className:"text-sm leading-relaxed",children:t.shipped_to_address||"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"GSTIN"}),n.jsx("p",{className:"font-mono text-sm",children:t.shipped_to_gstin||"-"})]})]})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Line Items"}),n.jsx(kt,{children:i?"Loading line items...":`${(a==null?void 0:a.length)||0} items in this purchase order`})]}),n.jsx(be,{children:i?n.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((l,c)=>n.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"},c))}):a&&a.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"Item"}),n.jsx(X,{children:"Brand"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"Unit Price"}),n.jsx(X,{children:"Tax"}),n.jsx(X,{children:"Total"})]})}),n.jsx(Gn,{children:a.map(l=>n.jsxs(Yt,{children:[n.jsx(Z,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:l.title}),n.jsx("div",{className:"text-xs text-muted-foreground",children:l.fsn_isbn?`FSN: ${l.fsn_isbn}`:""})]})}),n.jsx(Z,{children:l.brand||"-"}),n.jsx(Z,{className:"font-mono text-sm",children:l.hsn_code||"-"}),n.jsx(Z,{children:n.jsxs("div",{children:[n.jsxs("div",{children:[l.quantity," ",l.uom]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pending: ",l.pending_quantity]})]})}),n.jsxs(Z,{children:["",parseFloat(l.supplier_price||"0").toFixed(2)]}),n.jsxs(Z,{children:["",parseFloat(l.tax_amount||"0").toFixed(2)]}),n.jsxs(Z,{className:"font-medium",children:["",parseFloat(l.total_amount||"0").toFixed(2)]})]},l.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ht,{className:"mx-auto h-8 w-8 text-muted-foreground"}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No line items found"})]})})]})]})})]})}var Nj=1,sne=.9,ane=.8,ine=.17,xg=.1,gg=.999,one=.9999,lne=.99,cne=/[\\\/_+.#"@\[\(\{&]/,dne=/[\\\/_+.#"@\[\(\{&]/g,une=/[\s-]/,p6=/[\s-]/g;function py(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?Nj:lne;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,h,p,y;d>=0;)f=py(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=Nj:cne.test(e.charAt(d-1))?(f*=ane,p=e.slice(a,d-1).match(dne),p&&a>0&&(f*=Math.pow(gg,p.length))):une.test(e.charAt(d-1))?(f*=sne,y=e.slice(a,d-1).match(p6),y&&a>0&&(f*=Math.pow(gg,y.length))):(f*=ine,a>0&&(f*=Math.pow(gg,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=one)),(f<xg&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(h=py(e,t,r,s,d+1,i+2,o),h*xg>f&&(f=h*xg)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function bj(e){return e.toLowerCase().replace(p6," ")}function fne(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,py(e,t,bj(e),bj(t),0,0,{})}var nu='[cmdk-group=""]',vg='[cmdk-group-items=""]',hne='[cmdk-group-heading=""]',x6='[cmdk-item=""]',jj=`${x6}:not([aria-disabled="true"])`,xy="cmdk-item-select",tc="data-value",mne=(e,t,r)=>fne(e,t,r),g6=x.createContext(void 0),dh=()=>x.useContext(g6),v6=x.createContext(void 0),V_=()=>x.useContext(v6),y6=x.createContext(void 0),_6=x.forwardRef((e,t)=>{let r=rc(()=>{var P,F;return{search:"",value:(F=(P=e.value)!=null?P:e.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=rc(()=>new Set),a=rc(()=>new Map),i=rc(()=>new Map),o=rc(()=>new Set),l=w6(e),{label:c,children:d,value:u,onValueChange:f,filter:h,shouldFilter:p,loop:y,disablePointerSelection:m=!1,vimBindings:g=!0,...w}=e,v=yn(),_=yn(),N=yn(),T=x.useRef(null),S=Sne();Dl(()=>{if(u!==void 0){let P=u.trim();r.current.value=P,b.emit()}},[u]),Dl(()=>{S(6,L)},[]);let b=x.useMemo(()=>({subscribe:P=>(o.current.add(P),()=>o.current.delete(P)),snapshot:()=>r.current,setState:(P,F,U)=>{var j,M,J,_e;if(!Object.is(r.current[P],F)){if(r.current[P]=F,P==="search")k(),C(),S(1,R);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(N);le?le.focus():(j=document.getElementById(v))==null||j.focus()}if(S(7,()=>{var le;r.current.selectedItemId=(le=ie())==null?void 0:le.id,b.emit()}),U||S(5,L),((M=l.current)==null?void 0:M.value)!==void 0){let le=F??"";(_e=(J=l.current).onValueChange)==null||_e.call(J,le);return}}b.emit()}},emit:()=>{o.current.forEach(P=>P())}}),[]),I=x.useMemo(()=>({value:(P,F,U)=>{var j;F!==((j=i.current.get(P))==null?void 0:j.value)&&(i.current.set(P,{value:F,keywords:U}),r.current.filtered.items.set(P,D(F,U)),S(2,()=>{C(),b.emit()}))},item:(P,F)=>(s.current.add(P),F&&(a.current.has(F)?a.current.get(F).add(P):a.current.set(F,new Set([P]))),S(3,()=>{k(),C(),r.current.value||R(),b.emit()}),()=>{i.current.delete(P),s.current.delete(P),r.current.filtered.items.delete(P);let U=ie();S(4,()=>{k(),(U==null?void 0:U.getAttribute("id"))===P&&R(),b.emit()})}),group:P=>(a.current.has(P)||a.current.set(P,new Set),()=>{i.current.delete(P),a.current.delete(P)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:N,labelId:_,listInnerRef:T}),[]);function D(P,F){var U,j;let M=(j=(U=l.current)==null?void 0:U.filter)!=null?j:mne;return P?M(P,r.current.search,F):0}function C(){if(!r.current.search||l.current.shouldFilter===!1)return;let P=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(j=>{let M=a.current.get(j),J=0;M.forEach(_e=>{let le=P.get(_e);J=Math.max(le,J)}),F.push([j,J])});let U=T.current;fe().sort((j,M)=>{var J,_e;let le=j.getAttribute("id"),pe=M.getAttribute("id");return((J=P.get(pe))!=null?J:0)-((_e=P.get(le))!=null?_e:0)}).forEach(j=>{let M=j.closest(vg);M?M.appendChild(j.parentElement===M?j:j.closest(`${vg} > *`)):U.appendChild(j.parentElement===U?j:j.closest(`${vg} > *`))}),F.sort((j,M)=>M[1]-j[1]).forEach(j=>{var M;let J=(M=T.current)==null?void 0:M.querySelector(`${nu}[${tc}="${encodeURIComponent(j[0])}"]`);J==null||J.parentElement.appendChild(J)})}function R(){let P=fe().find(U=>U.getAttribute("aria-disabled")!=="true"),F=P==null?void 0:P.getAttribute(tc);b.setState("value",F||void 0)}function k(){var P,F,U,j;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let M=0;for(let J of s.current){let _e=(F=(P=i.current.get(J))==null?void 0:P.value)!=null?F:"",le=(j=(U=i.current.get(J))==null?void 0:U.keywords)!=null?j:[],pe=D(_e,le);r.current.filtered.items.set(J,pe),pe>0&&M++}for(let[J,_e]of a.current)for(let le of _e)if(r.current.filtered.items.get(le)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=M}function L(){var P,F,U;let j=ie();j&&(((P=j.parentElement)==null?void 0:P.firstChild)===j&&((U=(F=j.closest(nu))==null?void 0:F.querySelector(hne))==null||U.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function ie(){var P;return(P=T.current)==null?void 0:P.querySelector(`${x6}[aria-selected="true"]`)}function fe(){var P;return Array.from(((P=T.current)==null?void 0:P.querySelectorAll(jj))||[])}function se(P){let F=fe()[P];F&&b.setState("value",F.getAttribute(tc))}function ce(P){var F;let U=ie(),j=fe(),M=j.findIndex(_e=>_e===U),J=j[M+P];(F=l.current)!=null&&F.loop&&(J=M+P<0?j[j.length-1]:M+P===j.length?j[0]:j[M+P]),J&&b.setState("value",J.getAttribute(tc))}function q(P){let F=ie(),U=F==null?void 0:F.closest(nu),j;for(;U&&!j;)U=P>0?bne(U,nu):jne(U,nu),j=U==null?void 0:U.querySelector(jj);j?b.setState("value",j.getAttribute(tc)):ce(P)}let oe=()=>se(fe().length-1),ee=P=>{P.preventDefault(),P.metaKey?oe():P.altKey?q(1):ce(1)},we=P=>{P.preventDefault(),P.metaKey?se(0):P.altKey?q(-1):ce(-1)};return x.createElement(ct.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:P=>{var F;(F=w.onKeyDown)==null||F.call(w,P);let U=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||U))switch(P.key){case"n":case"j":{g&&P.ctrlKey&&ee(P);break}case"ArrowDown":{ee(P);break}case"p":case"k":{g&&P.ctrlKey&&we(P);break}case"ArrowUp":{we(P);break}case"Home":{P.preventDefault(),se(0);break}case"End":{P.preventDefault(),oe();break}case"Enter":{P.preventDefault();let j=ie();if(j){let M=new Event(xy);j.dispatchEvent(M)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:Tne},c),sx(e,P=>x.createElement(v6.Provider,{value:b},x.createElement(g6.Provider,{value:I},P))))}),pne=x.forwardRef((e,t)=>{var r,s;let a=yn(),i=x.useRef(null),o=x.useContext(y6),l=dh(),c=w6(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;Dl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=N6(a,i,[e.value,e.children,i],e.keywords),f=V_(),h=Fo(S=>S.value&&S.value===u.current),p=Fo(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);x.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(xy,y),()=>S.removeEventListener(xy,y)},[p,e.onSelect,e.disabled]);function y(){var S,b;m(),(b=(S=c.current).onSelect)==null||b.call(S,u.current)}function m(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:w,onSelect:v,forceMount:_,keywords:N,...T}=e;return x.createElement(ct.div,{ref:Ti(i,t),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||l.getDisablePointerSelection()?void 0:m,onClick:g?void 0:y},e.children)}),xne=x.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=yn(),l=x.useRef(null),c=x.useRef(null),d=yn(),u=dh(),f=Fo(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Dl(()=>u.group(o),[]),N6(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(ct.div,{ref:Ti(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),sx(e,p=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},x.createElement(y6.Provider,{value:h},p))))}),gne=x.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=x.useRef(null),i=Fo(o=>!o.search);return!r&&!i?null:x.createElement(ct.div,{ref:Ti(a,t),...s,"cmdk-separator":"",role:"separator"})}),vne=x.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=V_(),o=Fo(d=>d.search),l=Fo(d=>d.selectedItemId),c=dh();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(ct.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),yne=x.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=x.useRef(null),o=x.useRef(null),l=Fo(d=>d.selectedItemId),c=dh();return x.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(f),h.unobserve(d)}}},[]),x.createElement(ct.div,{ref:Ti(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},sx(e,d=>x.createElement("div",{ref:Ti(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),_ne=x.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return x.createElement($1,{open:r,onOpenChange:s},x.createElement(Ep,{container:o},x.createElement(Ad,{"cmdk-overlay":"",className:a}),x.createElement(Pd,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(_6,{ref:t,...l}))))}),wne=x.forwardRef((e,t)=>Fo(r=>r.filtered.count===0)?x.createElement(ct.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Nne=x.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return x.createElement(ct.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},sx(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),ms=Object.assign(_6,{List:yne,Item:pne,Input:vne,Group:xne,Separator:gne,Dialog:_ne,Empty:wne,Loading:Nne});function bne(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function jne(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function w6(e){let t=x.useRef(e);return Dl(()=>{t.current=e}),t}var Dl=typeof window>"u"?x.useEffect:x.useLayoutEffect;function rc(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Fo(e){let t=V_(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function N6(e,t,r,s=[]){let a=x.useRef(),i=dh();return Dl(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(tc,l),a.current=l}),a}var Sne=()=>{let[e,t]=x.useState(),r=rc(()=>new Map);return Dl(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Ene(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function sx({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(Ene(t),{ref:t.ref},r(t.props.children)):r(t)}var Tne={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Cne=Ep,b6=x.forwardRef(({className:e,...t},r)=>n.jsx(Ad,{ref:r,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));b6.displayName=Ad.displayName;const kne=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Cne,{children:[n.jsx(b6,{}),n.jsxs(Pd,{ref:s,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Tp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ei,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kne.displayName=Pd.displayName;const Ane=x.forwardRef(({className:e,...t},r)=>n.jsx(Gf,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));Ane.displayName=Gf.displayName;const Pne=x.forwardRef(({className:e,...t},r)=>n.jsx(Qf,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Pne.displayName=Qf.displayName;const j6=x.forwardRef(({className:e,...t},r)=>n.jsx(ms,{ref:r,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));j6.displayName=ms.displayName;const S6=x.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(vn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(ms.Input,{ref:r,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));S6.displayName=ms.Input.displayName;const E6=x.forwardRef(({className:e,...t},r)=>n.jsx(ms.List,{ref:r,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));E6.displayName=ms.List.displayName;const T6=x.forwardRef((e,t)=>n.jsx(ms.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));T6.displayName=ms.Empty.displayName;const C6=x.forwardRef(({className:e,...t},r)=>n.jsx(ms.Group,{ref:r,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));C6.displayName=ms.Group.displayName;const Dne=x.forwardRef(({className:e,...t},r)=>n.jsx(ms.Separator,{ref:r,className:Te("-mx-1 h-px bg-border",e),...t}));Dne.displayName=ms.Separator.displayName;const k6=x.forwardRef(({className:e,...t},r)=>n.jsx(ms.Item,{ref:r,className:Te("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));k6.displayName=ms.Item.displayName;var $_="Popover",[A6,Eie]=Xn($_,[Lo]),uh=Lo(),[One,$o]=A6($_),P6=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=uh(t),c=x.useRef(null),[d,u]=x.useState(!1),[f=!1,h]=No({prop:s,defaultProp:a,onChange:i});return n.jsx(R1,{...l,children:n.jsx(One,{scope:t,contentId:yn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:o,children:r})})};P6.displayName=$_;var D6="PopoverAnchor",Fne=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$o(D6,r),i=uh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(qf,{...i,...s,ref:t})});Fne.displayName=D6;var O6="PopoverTrigger",F6=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$o(O6,r),i=uh(r),o=Et(t,a.triggerRef),l=n.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":B6(a.open),...s,ref:o,onClick:Ue(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(qf,{asChild:!0,...i,children:l})});F6.displayName=O6;var z_="PopoverPortal",[Ine,Rne]=A6(z_,{forceMount:void 0}),I6=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=$o(z_,t);return n.jsx(Ine,{scope:t,forceMount:r,children:n.jsx(bn,{present:r||i.open,children:n.jsx(jd,{asChild:!0,container:a,children:s})})})};I6.displayName=z_;var gd="PopoverContent",R6=x.forwardRef((e,t)=>{const r=Rne(gd,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=$o(gd,e.__scopePopover);return n.jsx(bn,{present:s||i.open,children:i.modal?n.jsx(Lne,{...a,ref:t}):n.jsx(Bne,{...a,ref:t})})});R6.displayName=gd;var Mne=wo("PopoverContent.RemoveScroll"),Lne=x.forwardRef((e,t)=>{const r=$o(gd,e.__scopePopover),s=x.useRef(null),a=Et(t,s),i=x.useRef(!1);return x.useEffect(()=>{const o=s.current;if(o)return Sp(o)},[]),n.jsx(Kf,{as:Mne,allowPinchZoom:!0,children:n.jsx(M6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Bne=x.forwardRef((e,t)=>{const r=$o(gd,e.__scopePopover),s=x.useRef(!1),a=x.useRef(!1);return n.jsx(M6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),M6=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=$o(gd,r),p=uh(r);return bp(),n.jsx(Hf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Rl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(yp,{"data-state":B6(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L6="PopoverClose",Une=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$o(L6,r);return n.jsx(ct.button,{type:"button",...s,ref:t,onClick:Ue(e.onClick,()=>a.onOpenChange(!1))})});Une.displayName=L6;var Vne="PopoverArrow",$ne=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=uh(r);return n.jsx(_p,{...a,...s,ref:t})});$ne.displayName=Vne;function B6(e){return e?"open":"closed"}var zne=P6,qne=F6,Wne=I6,U6=R6;const gy=zne,vy=qne,$0=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(Wne,{children:n.jsx(U6,{ref:a,align:t,sideOffset:r,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));$0.displayName=U6.displayName;function Hne({onItemSelect:e,placeholder:t="Search items for Flipkart Grocery...",className:r}){const[s,a]=x.useState(!1),[i,o]=x.useState(""),[l,c]=x.useState(null),[d,u]=x.useState(1),f=XF(i,300),{data:h=[],isLoading:p}=Dt({queryKey:["flipkart-items",f],queryFn:async()=>{if(!f||f.length<2)return[];const w=await fetch(`/api/items?search=${encodeURIComponent(f)}&platform=flipkart`);if(!w.ok)throw new Error("Failed to fetch items");return w.json()},enabled:f.length>=2,staleTime:5*60*1e3}),y=w=>{c(w),a(!1),o(w.itemname)},m=()=>{l&&d>0&&(e(l,d),c(null),u(1),o(""))},g=w=>w?`${w.toFixed(2)}`:"N/A";return n.jsxs(ve,{className:"w-full",children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-5 w-5"}),"Add Item from Master"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Search Items"}),n.jsxs(gy,{open:s,onOpenChange:a,children:[n.jsx(vy,{asChild:!0,children:n.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":s,className:Te("w-full justify-between",r),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),l?l.itemname:t]}),n.jsx(Ci,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx($0,{className:"w-full p-0",align:"start",children:n.jsxs(j6,{children:[n.jsx(S6,{placeholder:"Search items...",value:i,onValueChange:o}),n.jsxs(E6,{children:[n.jsx(T6,{children:p?"Searching...":"No items found."}),n.jsx(C6,{children:h.map(w=>n.jsx(k6,{value:w.itemcode,onSelect:()=>y(w),className:"flex flex-col items-start gap-2 p-3",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ad,{className:Te("mr-2 h-4 w-4",(l==null?void 0:l.id)===w.id?"opacity-100":"opacity-0")}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:w.itemname}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Code: ",w.itemcode," | ",w.brand," | ",w.uom]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(rt,{variant:"secondary",children:g(w.supplier_price)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["MRP: ",g(w.mrp)]})]})]})},w.id))})]})]})})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx(Af,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold",children:"Selected Item Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Item Name:"}),n.jsx("p",{className:"font-medium",children:l.itemname})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Code:"}),n.jsx("p",{className:"font-medium",children:l.itemcode})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Brand:"}),n.jsx("p",{className:"font-medium",children:l.brand||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"UOM:"}),n.jsx("p",{className:"font-medium",children:l.uom||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Supplier Price:"}),n.jsx("p",{className:"font-medium text-green-600",children:g(l.supplier_price)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"MRP:"}),n.jsx("p",{className:"font-medium",children:g(l.mrp)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Tax Rate:"}),n.jsxs("p",{className:"font-medium",children:[l.taxrate,"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("p",{className:"font-medium",children:l.type||"N/A"})]})]}),n.jsx(Af,{}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Quantity"}),n.jsx(ke,{type:"number",min:"1",value:d,onChange:w=>u(parseInt(w.target.value)||1),className:"w-24"})]}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(Se,{children:"Basic Amount (Total)"}),n.jsxs("div",{className:"h-10 px-3 py-2 border rounded-md bg-muted flex items-center",children:[n.jsx("span",{className:"font-semibold text-lg text-green-600",children:g((l.supplier_price||0)*d)}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",g(l.supplier_price),"  ",d,")"]})]})]})]}),n.jsxs(ue,{onClick:m,className:"w-full",size:"lg",children:[n.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Add ",d," x ",l.itemname]})]})]})]})]})}function Kne(){const[,e]=Fs(),{toast:t}=Mr(),r=Wr(),a=Uf().id,[i,o]=x.useState({po_number:"",supplier_name:"",supplier_address:"",supplier_contact:"",supplier_email:"",supplier_gstin:"",billed_to_address:"",billed_to_gstin:"",shipped_to_address:"",shipped_to_gstin:"",nature_of_supply:"Goods",nature_of_transaction:"Intra-State",po_expiry_date:"",category:"",order_date:"",mode_of_payment:"",contract_ref_id:"",contract_version:"",credit_term:"",distributor:"",area:"",city:"",region:"",state:"",dispatch_from:"",total_quantity:0,total_taxable_value:0,total_tax_amount:0,total_amount:0,status:"Open"}),[l,c]=x.useState([]),{data:d,isLoading:u}=Dt({queryKey:[`/api/flipkart-grocery-pos/${a}`],enabled:!!a}),{data:f,isLoading:h}=Dt({queryKey:[`/api/flipkart-grocery-pos/${a}/lines`],enabled:!!a});x.useEffect(()=>{if(d){const N=d,T=!N.distributor||!N.area||!N.city||!N.region||!N.state||!N.dispatch_from;let S={distributor:N.distributor||"",area:N.area||"",city:N.city||"",region:N.region||"",state:N.state||"",dispatch_from:N.dispatch_from||""};if(T&&N.supplier_address){const I=(D=>{const C={area:"",city:"",state:"",region:""};if(!D)return C;const R=D.split(/[,;\n]/).map(k=>k.trim()).filter(Boolean);for(const k of R){const L=k.toLowerCase();L.includes("maharashtra")||L.includes("mh")?C.state="Maharashtra":L.includes("karnataka")||L.includes("ka")?C.state="Karnataka":L.includes("tamil nadu")||L.includes("tn")?C.state="Tamil Nadu":L.includes("gujarat")||L.includes("gj")?C.state="Gujarat":L.includes("rajasthan")||L.includes("rj")?C.state="Rajasthan":L.includes("punjab")||L.includes("pb")?C.state="Punjab":L.includes("haryana")||L.includes("hr")?C.state="Haryana":L.includes("uttar pradesh")||L.includes("up")?C.state="Uttar Pradesh":L.includes("west bengal")||L.includes("wb")?C.state="West Bengal":L.includes("andhra pradesh")||L.includes("ap")?C.state="Andhra Pradesh":L.includes("telangana")||L.includes("ts")?C.state="Telangana":L.includes("kerala")||L.includes("kl")?C.state="Kerala":L.includes("odisha")||L.includes("or")?C.state="Odisha":(L.includes("delhi")||L.includes("dl"))&&(C.state="Delhi"),L.includes("mumbai")||L.includes("bombay")?C.city="Mumbai":L.includes("bangalore")||L.includes("bengaluru")?C.city="Bangalore":L.includes("hyderabad")?C.city="Hyderabad":L.includes("chennai")||L.includes("madras")?C.city="Chennai":L.includes("kolkata")||L.includes("calcutta")?C.city="Kolkata":L.includes("pune")?C.city="Pune":L.includes("ahmedabad")?C.city="Ahmedabad":L.includes("jaipur")?C.city="Jaipur":L.includes("surat")?C.city="Surat":L.includes("lucknow")?C.city="Lucknow":L.includes("kanpur")?C.city="Kanpur":L.includes("nagpur")?C.city="Nagpur":L.includes("indore")?C.city="Indore":L.includes("bhopal")?C.city="Bhopal":L.includes("visakhapatnam")||L.includes("vizag")?C.city="Visakhapatnam":L.includes("patna")?C.city="Patna":L.includes("vadodara")||L.includes("baroda")?C.city="Vadodara":L.includes("ghaziabad")?C.city="Ghaziabad":L.includes("ludhiana")?C.city="Ludhiana":L.includes("agra")?C.city="Agra":L.includes("nashik")?C.city="Nashik":L.includes("faridabad")?C.city="Faridabad":L.includes("meerut")?C.city="Meerut":L.includes("rajkot")?C.city="Rajkot":L.includes("kalyan")?C.city="Kalyan":L.includes("vasai")?C.city="Vasai":L.includes("varanasi")||L.includes("benaras")?C.city="Varanasi":L.includes("srinagar")?C.city="Srinagar":L.includes("aurangabad")?C.city="Aurangabad":L.includes("dhanbad")?C.city="Dhanbad":L.includes("amritsar")?C.city="Amritsar":L.includes("navi mumbai")?C.city="Navi Mumbai":L.includes("allahabad")||L.includes("prayagraj")?C.city="Prayagraj":L.includes("ranchi")?C.city="Ranchi":L.includes("howrah")?C.city="Howrah":L.includes("coimbatore")?C.city="Coimbatore":L.includes("jabalpur")?C.city="Jabalpur":L.includes("gwalior")?C.city="Gwalior":L.includes("vijayawada")?C.city="Vijayawada":L.includes("jodhpur")?C.city="Jodhpur":L.includes("madurai")?C.city="Madurai":L.includes("raipur")?C.city="Raipur":L.includes("kota")?C.city="Kota":L.includes("chandigarh")?C.city="Chandigarh":L.includes("guwahati")&&(C.city="Guwahati")}if(C.state){const k=["Punjab","Haryana","Delhi","Uttar Pradesh","Rajasthan"],L=["Tamil Nadu","Kerala","Karnataka","Andhra Pradesh","Telangana"],ie=["Maharashtra","Gujarat"],fe=["West Bengal","Odisha"];k.includes(C.state)?C.region="North":L.includes(C.state)?C.region="South":ie.includes(C.state)?C.region="West":fe.includes(C.state)?C.region="East":C.region="Central"}return!C.area&&R.length>0&&(C.area=R[R.length-1]),C})(N.supplier_address);S={distributor:S.distributor||N.supplier_name||"",area:S.area||I.area,city:S.city||I.city,region:S.region||I.region,state:S.state||I.state,dispatch_from:S.dispatch_from||N.shipped_to_address||""}}o({...N,...S,order_date:N.order_date?new Date(N.order_date).toISOString().split("T")[0]:"",po_expiry_date:N.po_expiry_date?new Date(N.po_expiry_date).toISOString().split("T")[0]:""})}},[d]),x.useEffect(()=>{f&&c(f.map(N=>({...N,required_by_date:N.required_by_date?new Date(N.required_by_date).toISOString().split("T")[0]:""})))},[f]);const p=zt({mutationFn:async N=>{const T=await fetch(`/api/flipkart-grocery-pos/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!T.ok)throw new Error("Failed to update PO");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/flipkart-grocery-pos"]}),r.invalidateQueries({queryKey:[`/api/flipkart-grocery-pos/${a}`]}),t({title:"Success",description:"Flipkart Grocery PO updated successfully"}),e("/flipkart-grocery-pos")},onError:()=>{t({title:"Error",description:"Failed to update Flipkart Grocery PO",variant:"destructive"})}}),y=N=>{N.preventDefault();const T=l.reduce((C,R)=>C+(R.quantity||0),0),S=l.reduce((C,R)=>C+(R.taxable_value||0),0),b=l.reduce((C,R)=>C+(R.tax_amount||0),0),I=l.reduce((C,R)=>C+(R.total_amount||0),0),D={...i,total_quantity:T,total_taxable_value:S,total_tax_amount:b,total_amount:I};p.mutate({header:D,lines:l})},m=(N,T)=>{o(S=>({...S,[N]:T}))},g=(N,T,S)=>{c(b=>{const I=[...b];if(I[N]={...I[N],[T]:S},["quantity","supplier_price","igst_rate","sgst_rate","cgst_rate","cess_rate"].includes(T)){const D=I[N],C=D.quantity||0,R=D.supplier_price||0;D.taxable_value=C*R;const k=(D.igst_rate||0)*R/100,L=(D.sgst_rate||0)*R/100,ie=(D.cgst_rate||0)*R/100,fe=(D.cess_rate||0)*R/100;D.igst_amount_per_unit=k,D.sgst_amount_per_unit=L,D.cgst_amount_per_unit=ie,D.cess_amount_per_unit=fe,D.tax_amount=C*(k+L+ie+fe),D.total_amount=D.taxable_value+D.tax_amount}return I})},w=()=>{c(N=>[...N,{line_number:N.length+1,hsn_code:"",fsn_isbn:"",quantity:0,pending_quantity:0,uom:"pcs",title:"",brand:"",type:"",ean:"",vertical:"",required_by_date:"",supplier_mrp:0,supplier_price:0,taxable_value:0,igst_rate:0,igst_amount_per_unit:0,sgst_rate:0,sgst_amount_per_unit:0,cgst_rate:0,cgst_amount_per_unit:0,cess_rate:0,cess_amount_per_unit:0,tax_amount:0,total_amount:0,status:"Pending"}])},v=N=>{c(T=>T.filter((S,b)=>b!==N))},_=(N,T)=>{const S=N.supplier_price||0,b=S,I=N.taxrate||5,D=I/2,C=I/2,R={line_number:l.length+1,hsn_code:"",fsn_isbn:N.itemcode,quantity:T,pending_quantity:T,uom:N.uom||"pcs",title:N.itemname,brand:N.brand||"",type:N.type||"",ean:"",vertical:N.itemgroup||"",required_by_date:"",supplier_mrp:N.mrp||0,supplier_price:S,taxable_value:b*T,igst_rate:0,igst_amount_per_unit:0,sgst_rate:D,sgst_amount_per_unit:b*D/100,cgst_rate:C,cgst_amount_per_unit:b*C/100,cess_rate:0,cess_amount_per_unit:0,tax_amount:0,total_amount:0,status:"Pending"},k=R.sgst_amount_per_unit*T,L=R.cgst_amount_per_unit*T;R.tax_amount=k+L,R.total_amount=R.taxable_value+R.tax_amount,c(ie=>[...ie,R])};return u||h?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx($n,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[n.jsx("header",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800 shadow-lg border-b border-green-100 dark:border-gray-700 px-6 py-6",children:n.jsx("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(ue,{variant:"outline",onClick:()=>e("/flipkart-grocery-pos"),className:"hover:bg-green-50",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Edit Flipkart Grocery PO"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Update purchase order details"})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto p-6",children:n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(ve,{className:"shadow-xl border-0",children:[n.jsx(Oe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-900 border-b",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx(Me,{className:"text-2xl",children:"PO Header Information"}),n.jsx(kt,{children:"Basic purchase order details"})]})]})}),n.jsxs(be,{className:"p-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"PO Number"}),n.jsx(ke,{value:i.po_number,onChange:N=>m("po_number",N.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Supplier Name"}),n.jsx(ke,{value:i.supplier_name,onChange:N=>m("supplier_name",N.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Distributor"}),n.jsx(ke,{value:i.distributor,onChange:N=>m("distributor",N.target.value),placeholder:"SELECT DISTRIBUTOR"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Region"}),n.jsx(ke,{value:i.region,onChange:N=>m("region",N.target.value),placeholder:"SELECT REGION"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"State"}),n.jsx(ke,{value:i.state,onChange:N=>m("state",N.target.value),placeholder:"SELECT STATE"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"City"}),n.jsx(ke,{value:i.city,onChange:N=>m("city",N.target.value),placeholder:"SELECT STATE FIRST"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Area"}),n.jsx(ke,{value:i.area,onChange:N=>m("area",N.target.value),placeholder:"DEFAULT"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Dispatch From"}),n.jsx(ke,{value:i.dispatch_from,onChange:N=>m("dispatch_from",N.target.value),placeholder:"SELECT DISPATCH LOCATION"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Category"}),n.jsx(ke,{value:i.category,onChange:N=>m("category",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Order Date"}),n.jsx(ke,{type:"date",value:i.order_date,onChange:N=>m("order_date",N.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"PO Expiry Date"}),n.jsx(ke,{type:"date",value:i.po_expiry_date,onChange:N=>m("po_expiry_date",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Status"}),n.jsxs(Ur,{value:i.status,onValueChange:N=>m("status",N),children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"Open",children:"Open"}),n.jsx(ft,{value:"Closed",children:"Closed"}),n.jsx(ft,{value:"Cancelled",children:"Cancelled"}),n.jsx(ft,{value:"Pending",children:"Pending"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Supplier Contact"}),n.jsx(ke,{value:i.supplier_contact,onChange:N=>m("supplier_contact",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Supplier Email"}),n.jsx(ke,{type:"email",value:i.supplier_email,onChange:N=>m("supplier_email",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Supplier GSTIN"}),n.jsx(ke,{value:i.supplier_gstin,onChange:N=>m("supplier_gstin",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Mode of Payment"}),n.jsx(ke,{value:i.mode_of_payment,onChange:N=>m("mode_of_payment",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Contract Ref ID"}),n.jsx(ke,{value:i.contract_ref_id,onChange:N=>m("contract_ref_id",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Credit Term"}),n.jsx(ke,{value:i.credit_term,onChange:N=>m("credit_term",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nature of Supply"}),n.jsxs(Ur,{value:i.nature_of_supply,onValueChange:N=>m("nature_of_supply",N),children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"Goods",children:"Goods"}),n.jsx(ft,{value:"Services",children:"Services"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nature of Transaction"}),n.jsxs(Ur,{value:i.nature_of_transaction,onValueChange:N=>m("nature_of_transaction",N),children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"Intra-State",children:"Intra-State"}),n.jsx(ft,{value:"Inter-State",children:"Inter-State"})]})]})]})]}),n.jsx(Af,{className:"my-6"}),n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Supplier Address"}),n.jsx(Ac,{value:i.supplier_address,onChange:N=>m("supplier_address",N.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Billed To Address"}),n.jsx(Ac,{value:i.billed_to_address,onChange:N=>m("billed_to_address",N.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Shipped To Address"}),n.jsx(Ac,{value:i.shipped_to_address,onChange:N=>m("shipped_to_address",N.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Billed To GSTIN"}),n.jsx(ke,{value:i.billed_to_gstin,onChange:N=>m("billed_to_gstin",N.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Shipped To GSTIN"}),n.jsx(ke,{value:i.shipped_to_gstin,onChange:N=>m("shipped_to_gstin",N.target.value)})]})]})]})]})]}),n.jsx(Hne,{onItemSelect:_}),n.jsxs(ve,{className:"shadow-xl border-0",children:[n.jsx(Oe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-900 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx(Me,{className:"text-2xl",children:"Line Items"}),n.jsx(kt,{children:"Product details"})]})]}),n.jsxs(ue,{type:"button",onClick:w,variant:"outline",children:[n.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Add Manual Item"]})]})}),n.jsxs(be,{className:"p-8",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"S.No"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"FSN/ISBN"}),n.jsx(X,{children:"Title"}),n.jsx(X,{children:"Brand"}),n.jsx(X,{children:"Qty"}),n.jsx(X,{children:"UOM"}),n.jsx(X,{children:"Basic Amount"}),n.jsx(X,{children:"Taxable Value"}),n.jsx(X,{children:"SGST %"}),n.jsx(X,{children:"CGST %"}),n.jsx(X,{children:"Tax Amount"}),n.jsx(X,{children:"Total Amount"}),n.jsx(X,{children:"Status"}),n.jsx(X,{children:"Actions"})]})}),n.jsx(Gn,{children:l.map((N,T)=>{var S,b,I;return n.jsxs(Yt,{children:[n.jsx(Z,{children:N.line_number}),n.jsx(Z,{children:n.jsx(ke,{value:N.hsn_code,onChange:D=>g(T,"hsn_code",D.target.value),className:"w-24"})}),n.jsx(Z,{children:n.jsx(ke,{value:N.fsn_isbn,onChange:D=>g(T,"fsn_isbn",D.target.value),className:"w-32"})}),n.jsx(Z,{children:n.jsx(ke,{value:N.title,onChange:D=>g(T,"title",D.target.value),className:"w-48"})}),n.jsx(Z,{children:n.jsx(ke,{value:N.brand,onChange:D=>g(T,"brand",D.target.value),className:"w-24"})}),n.jsx(Z,{children:n.jsx(ke,{type:"number",value:N.quantity,onChange:D=>g(T,"quantity",parseInt(D.target.value)||0),className:"w-20"})}),n.jsx(Z,{children:n.jsx(ke,{value:N.uom,onChange:D=>g(T,"uom",D.target.value),className:"w-16"})}),n.jsx(Z,{children:n.jsx(ke,{type:"number",value:N.supplier_price,onChange:D=>g(T,"supplier_price",parseFloat(D.target.value)||0),className:"w-24"})}),n.jsx(Z,{children:n.jsxs(rt,{variant:"outline",children:["",((S=N.taxable_value)==null?void 0:S.toFixed(2))||"0.00"]})}),n.jsx(Z,{children:n.jsx(ke,{type:"number",value:N.sgst_rate,onChange:D=>g(T,"sgst_rate",parseFloat(D.target.value)||0),className:"w-16"})}),n.jsx(Z,{children:n.jsx(ke,{type:"number",value:N.cgst_rate,onChange:D=>g(T,"cgst_rate",parseFloat(D.target.value)||0),className:"w-16"})}),n.jsx(Z,{children:n.jsxs(rt,{variant:"secondary",children:["",((b=N.tax_amount)==null?void 0:b.toFixed(2))||"0.00"]})}),n.jsx(Z,{children:n.jsxs(rt,{variant:"default",children:["",((I=N.total_amount)==null?void 0:I.toFixed(2))||"0.00"]})}),n.jsx(Z,{children:n.jsxs(Ur,{value:N.status,onValueChange:D=>g(T,"status",D),children:[n.jsx(Or,{className:"w-28",children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"Pending",children:"Pending"}),n.jsx(ft,{value:"Delivered",children:"Delivered"}),n.jsx(ft,{value:"Cancelled",children:"Cancelled"})]})]})}),n.jsx(Z,{children:n.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(T),children:n.jsx(vi,{className:"h-4 w-4 text-red-500"})})})]},T)})})]})}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsxs("div",{className:"space-y-2 text-right",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Quantity: ",n.jsx("span",{className:"font-semibold",children:l.reduce((N,T)=>N+(T.quantity||0),0)})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Taxable: ",n.jsxs("span",{className:"font-semibold",children:["",l.reduce((N,T)=>N+(T.taxable_value||0),0).toFixed(2)]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Tax: ",n.jsxs("span",{className:"font-semibold",children:["",l.reduce((N,T)=>N+(T.tax_amount||0),0).toFixed(2)]})]}),n.jsxs("div",{className:"text-lg font-bold",children:["Grand Total: ",l.reduce((N,T)=>N+(T.total_amount||0),0).toFixed(2)]})]})})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[n.jsx(ue,{type:"button",variant:"outline",onClick:()=>e("/flipkart-grocery-pos"),children:"Cancel"}),n.jsx(ue,{type:"submit",disabled:p.isPending,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:p.isPending?n.jsxs(n.Fragment,{children:[n.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($f,{className:"mr-2 h-4 w-4"}),"Update PO"]})})]})]})})]})}function Gne(){var v,_,N,T;const[e,t]=x.useState(null),[r,s]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{toast:c}=Mr(),d=Wr(),u=zt({mutationFn:async S=>{const b=new FormData;b.append("file",S),b.append("platform","zepto");const I=await fetch("/api/po/preview",{method:"POST",body:b});if(!I.ok){const D=await I.json();throw new Error(D.error||"Failed to preview file")}return I.json()},onSuccess:S=>{s(S),i(!0),c({title:"File previewed successfully",description:`Found ${S.totalItems} items`})},onError:S=>{c({title:"Preview failed",description:S.message,variant:"destructive"})}}),f=zt({mutationFn:async S=>{const b=await fetch("/api/po/import/zepto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!b.ok){const I=await b.json();throw new Error(I.error||"Failed to import PO")}return b.json()},onSuccess:S=>{c({title:"PO imported successfully",description:`PO ${S.po_number} has been created`}),t(null),s(null),i(!1),d.invalidateQueries({queryKey:["/api/zepto-pos"]})},onError:S=>{c({title:"Import failed",description:S.message,variant:"destructive"})}}),h=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?l(!0):S.type==="dragleave"&&l(!1)},p=S=>{S.preventDefault(),S.stopPropagation(),l(!1);const b=S.dataTransfer.files;b&&b[0]&&m(b[0])},y=S=>{const b=S.target.files;b&&b[0]&&m(b[0])},m=S=>{["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(S.type)||S.name.endsWith(".csv")||S.name.endsWith(".xls")||S.name.endsWith(".xlsx")?(t(S),s(null),i(!1)):c({title:"Invalid file type",description:"Please upload a CSV or Excel file",variant:"destructive"})},g=()=>{if(!e){c({title:"No file selected",description:"Please select a file to preview",variant:"destructive"});return}u.mutate(e)},w=()=>{if(!r){c({title:"No data to import",description:"Please preview the file first",variant:"destructive"});return}f.mutate({header:r.header,lines:r.lines})};return n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-6xl",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Zepto PO Upload"}),n.jsx("p",{className:"text-gray-600",children:"Upload, review, and import Zepto purchase orders"})]})}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Upload Zepto PO File"]}),n.jsx(kt,{children:"Upload CSV or Excel files containing Zepto purchase order data"})]}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:p,children:[n.jsx(xn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:e?"File Selected":"Drop your Zepto CSV/Excel file here"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["or"," ",n.jsx(Se,{htmlFor:"file-upload",className:"text-blue-600 hover:underline cursor-pointer",children:"browse to choose a file"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports .csv, .xls, and .xlsx files"})]}),n.jsx(ke,{id:"file-upload",type:"file",accept:".csv,.xls,.xlsx,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:y,className:"hidden"})]}),e&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-green-800",children:e.name}),n.jsxs("p",{className:"text-sm text-green-600",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),n.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{t(null),s(null),i(!1)},children:"Remove"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(ue,{onClick:g,disabled:!e||u.isPending,className:"flex-1",variant:"outline",children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),u.isPending?"Analyzing...":"Preview & Review"]})})]})]}),a&&r&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-5 w-5"}),"File Preview & Review"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"PO Number"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((v=r.header)==null?void 0:v.po_number)||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:r.totalItems||0})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:r.totalQuantity||0})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",r.totalAmount||"0"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"PO Header Information"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"PO Number:"})," ",((_=r.header)==null?void 0:_.po_number)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"PO Date:"})," ",((N=r.header)==null?void 0:N.po_date)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(rt,{variant:"outline",children:((T=r.header)==null?void 0:T.status)||"Open"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Vendor:"})," Zepto"]})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"Line Items Preview"}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"SKU"}),n.jsx(X,{children:"Description"}),n.jsx(X,{children:"PO Quantity"}),n.jsx(X,{children:"Cost Price"}),n.jsx(X,{children:"Total Value"})]})}),n.jsx(Gn,{children:r.lines.map((S,b)=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:S.sku||"N/A"}),n.jsx(Z,{children:S.sku||"N/A"}),n.jsx(Z,{children:S.po_qty||"N/A"}),n.jsxs(Z,{children:["",S.cost_price||"N/A"]}),n.jsxs(Z,{children:["",S.total_value||"N/A"]})]},b))})]})})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsxs(ue,{onClick:w,disabled:f.isPending,className:"flex-1",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),f.isPending?"Importing...":"Import to Database"]})})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Instructions"})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Upload File"}),n.jsx("p",{className:"text-gray-600",children:"Upload your Zepto CSV or Excel file"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Preview & Review"}),n.jsx("p",{className:"text-gray-600",children:"Review the parsed data to ensure accuracy"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Import to Database"}),n.jsx("p",{className:"text-gray-600",children:"Import the validated data into the system"})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mt-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-blue-600 mt-0.5"}),n.jsx("div",{children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:"Note:"})," Please ensure your CSV file follows the standard Zepto format. Review all data before importing to maintain data integrity."]})})]})})]})})]})]})]})})}function Qne(){const[e,t]=x.useState(""),{data:r=[],isLoading:s}=Dt({queryKey:["/api/zepto-pos"]}),a=r.filter(o=>o.po_number.toLowerCase().includes(e.toLowerCase())||o.unique_brands.some(l=>l.toLowerCase().includes(e.toLowerCase()))||o.status.toLowerCase().includes(e.toLowerCase())),i=o=>{const l={Open:"bg-green-100 text-green-800 border-green-200",Closed:"bg-gray-100 text-gray-800 border-gray-200",Cancelled:"bg-red-100 text-red-800 border-red-200",Pending:"bg-yellow-100 text-yellow-800 border-yellow-200"};return n.jsx(rt,{variant:"outline",className:l[o]||"bg-blue-100 text-blue-800 border-blue-200",children:o})};return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Zepto POs"}),n.jsx("p",{className:"text-muted-foreground",children:"View and manage imported Zepto purchase orders"})]}),n.jsx(en,{href:"/zepto-upload",children:n.jsxs(ue,{children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Import New PO"]})})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Search & Filter"})}),n.jsx(be,{children:n.jsx("div",{className:"flex gap-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(ke,{placeholder:"Search by PO number, brand, or status...",value:e,onChange:o=>t(o.target.value),className:"pl-10"})]})})})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{children:["Purchase Orders (",a.length,")"]}),n.jsx(kt,{children:s?"Loading purchase orders...":"Click on any PO to view details"})]}),n.jsx(be,{children:s?n.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((o,l)=>n.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"},l))}):a.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ht,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No purchase orders found"}),n.jsx("p",{className:"text-muted-foreground",children:e?"No POs match your search criteria.":"Import your first Zepto PO to get started."}),!e&&n.jsx(en,{href:"/zepto-upload",children:n.jsxs(ue,{className:"mt-4",children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Import New PO"]})})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"PO Number"}),n.jsx(X,{children:"Status"}),n.jsx(X,{children:"Brands"}),n.jsx(X,{children:"Total Quantity"}),n.jsx(X,{children:"Total Amount"}),n.jsx(X,{children:"Line Items"}),n.jsx(X,{children:"Created"}),n.jsx(X,{children:"Actions"})]})}),n.jsx(Gn,{children:a.map(o=>n.jsxs(Yt,{className:"cursor-pointer hover:bg-muted/50",children:[n.jsxs(Z,{children:[n.jsx("div",{className:"font-medium",children:o.po_number}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created by: ",o.created_by||"System"]})]}),n.jsx(Z,{children:i(o.status)}),n.jsx(Z,{children:n.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[o.unique_brands.slice(0,3).map((l,c)=>n.jsx(rt,{variant:"outline",className:"text-xs",children:l},c)),o.unique_brands.length>3&&n.jsxs(rt,{variant:"outline",className:"text-xs",children:["+",o.unique_brands.length-3," more"]})]})}),n.jsx(Z,{children:n.jsx("div",{className:"font-medium",children:o.total_quantity.toLocaleString()})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"font-medium",children:["",Number(o.total_amount).toLocaleString()]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tax: ",Number(o.total_tax_amount).toLocaleString()]})]}),n.jsx(Z,{children:n.jsxs("div",{className:"font-medium",children:[o.poLines.length," items"]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Rr,{className:"h-3 w-3"}),new Date(o.created_at).toLocaleDateString()]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(o.created_at).toLocaleTimeString()})]}),n.jsx(Z,{children:n.jsx(en,{href:`/zepto-pos/${o.id}`,children:n.jsxs(ue,{variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",title:`View Zepto PO ${o.po_number}`,onClick:()=>console.log(`Navigating to /zepto-pos/${o.id} for PO ${o.po_number}`),children:[n.jsx(on,{className:"h-4 w-4 mr-1"}),"View Zepto PO"]})})})]},o.id))})]})})})]})]})})]})}function Yne(){const[e,t]=tk("/zepto-pos/:id"),r=t!=null&&t.id?parseInt(t.id):0,{data:s,isLoading:a,error:i}=Dt({queryKey:[`/api/zepto-pos/${r}`],enabled:!!r});if(console.log("ZeptoPoDetails component:",{poId:r,queryKey:`/api/zepto-pos/${r}`}),s&&console.log("Zepto PO data loaded:",{id:s.id,po_number:s.po_number}),a)return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ht,{className:"mx-auto h-12 w-12 text-muted-foreground animate-pulse"}),n.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Loading PO Details..."})]})})});if(i||!s)return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qr,{className:"mx-auto h-12 w-12 text-red-500"}),n.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"PO Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:"The purchase order you're looking for doesn't exist."}),n.jsx(en,{href:"/zepto-pos",children:n.jsxs(ue,{className:"mt-4",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]})})]})})});const o=c=>{const d={Open:"bg-green-100 text-green-800 border-green-200",Closed:"bg-gray-100 text-gray-800 border-gray-200",Cancelled:"bg-red-100 text-red-800 border-red-200",Pending:"bg-yellow-100 text-yellow-800 border-yellow-200"};return n.jsx(rt,{variant:"outline",className:d[c]||"bg-blue-100 text-blue-800 border-blue-200",children:c})},l=c=>{const d={Pending:"bg-yellow-100 text-yellow-800 border-yellow-200",Received:"bg-green-100 text-green-800 border-green-200",Cancelled:"bg-red-100 text-red-800 border-red-200"};return n.jsx(rt,{variant:"outline",className:d[c]||"bg-blue-100 text-blue-800 border-blue-200",children:c})};return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(en,{href:"/zepto-pos",children:n.jsx(ue,{variant:"ghost",size:"sm",children:n.jsx($t,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:s.po_number}),n.jsxs("p",{className:"text-muted-foreground",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"Zepto"})," Purchase Order Details"]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:o(s.status)})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Total Quantity"}),n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.total_quantity.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items ordered"})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Total Cost Value"}),n.jsx(J7,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",Number(s.total_cost_value).toLocaleString()]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Cost price total"})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Tax Amount"}),n.jsx(ef,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",Number(s.total_tax_amount).toLocaleString()]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total taxes"})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Total Amount"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",Number(s.total_amount).toLocaleString()]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Final amount"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Purchase Order Information"})}),n.jsxs(be,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"text-lg font-semibold",children:s.po_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("div",{className:"mt-1",children:o(s.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Number of Brands"}),n.jsx("p",{className:"text-lg",children:s.unique_brands.length})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Line Items"}),n.jsx("p",{className:"text-lg",children:s.poLines.length})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),n.jsx("p",{className:"text-lg",children:s.created_by||"System"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{children:new Date(s.created_at).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Brands"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.unique_brands.map((c,d)=>n.jsx(rt,{variant:"outline",children:c},d))})]})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{children:["Line Items (",s.poLines.length,")"]}),n.jsx(kt,{children:"Detailed breakdown of all items in this purchase order"})]}),n.jsx(be,{children:s.poLines.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ht,{className:"mx-auto h-8 w-8 text-muted-foreground"}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No line items found"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"Line #"}),n.jsx(X,{children:"SKU"}),n.jsx(X,{children:"Brand"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"PO Qty"}),n.jsx(X,{children:"Cost Price"}),n.jsx(X,{children:"CGST"}),n.jsx(X,{children:"SGST"}),n.jsx(X,{children:"IGST"}),n.jsx(X,{children:"MRP"}),n.jsx(X,{children:"Total Value"}),n.jsx(X,{children:"Status"})]})}),n.jsx(Gn,{children:s.poLines.map(c=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:c.line_number}),n.jsx(Z,{children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("p",{className:"font-medium truncate",title:c.sku,children:c.sku}),n.jsx("p",{className:"text-xs text-muted-foreground",children:c.sku_id})]})}),n.jsx(Z,{children:c.brand}),n.jsx(Z,{children:c.hsn_code}),n.jsx(Z,{className:"text-right",children:c.po_qty.toLocaleString()}),n.jsxs(Z,{className:"text-right",children:["",Number(c.cost_price).toFixed(2)]}),n.jsxs(Z,{className:"text-right",children:["",Number(c.cgst).toFixed(2)]}),n.jsxs(Z,{className:"text-right",children:["",Number(c.sgst).toFixed(2)]}),n.jsxs(Z,{className:"text-right",children:["",Number(c.igst).toFixed(2)]}),n.jsxs(Z,{className:"text-right",children:["",Number(c.mrp).toFixed(2)]}),n.jsxs(Z,{className:"text-right font-medium",children:["",Number(c.total_value).toFixed(2)]}),n.jsx(Z,{children:l(c.status)})]},c.id))})]})})})]})]})})]})}const Xne=Qe.object({po_number:Qe.string().min(1,"PO number is required"),status:Qe.string().min(1,"Status is required"),total_quantity:Qe.coerce.number().min(0,"Total quantity must be non-negative"),total_cost_value:Qe.coerce.number().min(0,"Total cost value must be non-negative"),total_tax_amount:Qe.coerce.number().min(0,"Total tax amount must be non-negative"),total_amount:Qe.coerce.number().min(0,"Total amount must be non-negative"),unique_brands:Qe.array(Qe.string()).default([])});Qe.object({line_number:Qe.coerce.number().min(1,"Line number is required"),sku:Qe.string().min(1,"SKU is required"),brand:Qe.string().min(1,"Brand is required"),sku_id:Qe.string().optional(),sap_id:Qe.string().optional(),hsn_code:Qe.string().optional(),ean_no:Qe.string().optional(),po_qty:Qe.coerce.number().min(0,"PO quantity must be non-negative"),asn_qty:Qe.coerce.number().min(0,"ASN quantity must be non-negative"),grn_qty:Qe.coerce.number().min(0,"GRN quantity must be non-negative"),remaining_qty:Qe.coerce.number().min(0,"Remaining quantity must be non-negative"),cost_price:Qe.string().min(1,"Cost price is required"),cgst:Qe.string().optional(),sgst:Qe.string().optional(),igst:Qe.string().optional(),cess:Qe.string().optional(),mrp:Qe.string().min(1,"MRP is required"),total_value:Qe.string().min(1,"Total value is required"),status:Qe.string().min(1,"Status is required")});function Zne({poId:e}){const[,t]=Fs(),{toast:r}=Mr(),s=Wr(),[a,i]=x.useState([]),{data:o,isLoading:l}=Dt({queryKey:[`/api/zepto-pos/${e}`],enabled:!!e}),c=cd({resolver:dd(Xne),defaultValues:{po_number:"",status:"Open",total_quantity:0,total_cost_value:0,total_tax_amount:0,total_amount:0,unique_brands:[]}});x.useEffect(()=>{o&&(c.reset({po_number:o.po_number,status:o.status,total_quantity:o.total_quantity,total_cost_value:o.total_cost_value,total_tax_amount:o.total_tax_amount,total_amount:o.total_amount,unique_brands:o.unique_brands||[]}),i(o.poLines.map(g=>({line_number:g.line_number,sku:g.sku,brand:g.brand,sku_id:g.sku_id||"",sap_id:g.sap_id||"",hsn_code:g.hsn_code||"",ean_no:g.ean_no||"",po_qty:g.po_qty,asn_qty:g.asn_qty,grn_qty:g.grn_qty,remaining_qty:g.remaining_qty,cost_price:g.cost_price,cgst:g.cgst||"",sgst:g.sgst||"",igst:g.igst||"",cess:g.cess||"",mrp:g.mrp,total_value:g.total_value,status:g.status}))))},[o,c]);const d=zt({mutationFn:async g=>kn("PUT",`/api/zepto-pos/${e}`,g),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/zepto-pos"]}),s.invalidateQueries({queryKey:["/api/pos"]}),r({title:"Success",description:"Zepto PO updated successfully"}),t("/platform-po")},onError:g=>{r({title:"Error",description:g instanceof Error?g.message:"Failed to update PO",variant:"destructive"})}}),u=zt({mutationFn:()=>kn("DELETE",`/api/zepto-pos/${e}`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/zepto-pos"]}),s.invalidateQueries({queryKey:["/api/pos"]}),r({title:"Success",description:"Zepto PO deleted successfully"}),t("/platform-po")},onError:g=>{r({title:"Error",description:g instanceof Error?g.message:"Failed to delete PO",variant:"destructive"})}}),f=g=>{const w=a.reduce((S,b)=>S+b.po_qty,0),v=a.reduce((S,b)=>S+parseFloat(b.cost_price||"0")*b.po_qty,0),_=a.reduce((S,b)=>{const I=parseFloat(b.cgst||"0"),D=parseFloat(b.sgst||"0"),C=parseFloat(b.igst||"0"),R=parseFloat(b.cess||"0");return S+(I+D+C+R)*b.po_qty},0),N=a.reduce((S,b)=>S+parseFloat(b.total_value||"0"),0),T={...g,total_quantity:w,total_cost_value:v,total_tax_amount:_,total_amount:N,unique_brands:Array.from(new Set(a.map(S=>S.brand)))};d.mutate({header:T,lines:a})},h=()=>{confirm(`Are you sure you want to delete PO ${o==null?void 0:o.po_number}? This action cannot be undone.`)&&u.mutate()},p=()=>{const g={line_number:a.length+1,sku:"",brand:"",sku_id:"",sap_id:"",hsn_code:"",ean_no:"",po_qty:0,asn_qty:0,grn_qty:0,remaining_qty:0,cost_price:"0.00",cgst:"0.00",sgst:"0.00",igst:"0.00",cess:"0.00",mrp:"0.00",total_value:"0.00",status:"Pending"};i([...a,g])},y=g=>{const v=a.filter((_,N)=>N!==g).map((_,N)=>({..._,line_number:N+1}));i(v)},m=(g,w,v)=>{const _=[...a];_[g]={..._[g],[w]:v},i(_)};return l?n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):o?n.jsxs("div",{className:"flex-1 overflow-y-auto h-full p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(ue,{variant:"ghost",onClick:()=>t("/platform-po"),className:"flex items-center space-x-2",children:[n.jsx($t,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to PO List"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Zepto PO"}),n.jsxs("p",{className:"text-muted-foreground",children:["Modify PO ",o.po_number]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{variant:o.status==="Open"?"default":"secondary",children:o.status}),n.jsxs(ue,{variant:"destructive",onClick:h,disabled:u.isPending,className:"flex items-center space-x-2",children:[n.jsx(vi,{className:"h-4 w-4"}),n.jsx("span",{children:"Delete PO"})]})]})]}),n.jsx(g0,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"PO Header Information"})}),n.jsxs(be,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(fa,{control:c.control,name:"po_number",render:({field:g})=>n.jsxs(Vs,{children:[n.jsx($s,{children:"PO Number"}),n.jsx(zs,{children:n.jsx(ke,{...g})}),n.jsx(qs,{})]})}),n.jsx(fa,{control:c.control,name:"status",render:({field:g})=>n.jsxs(Vs,{children:[n.jsx($s,{children:"Status"}),n.jsx(zs,{children:n.jsx(ke,{...g})}),n.jsx(qs,{})]})}),n.jsxs("div",{className:"text-sm",children:[n.jsx(Se,{children:"Created Date"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:Ot(new Date(o.created_at),"PPP")})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx(Se,{children:"Updated Date"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:Ot(new Date(o.updated_at),"PPP")})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx(Se,{children:"Created By"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:o.created_by})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx(Se,{children:"Uploaded By"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:o.uploaded_by})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center justify-between",children:["Line Items (",a.length,")",n.jsxs(ue,{type:"button",onClick:p,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(Xs,{className:"h-4 w-4"}),n.jsx("span",{children:"Add Line"})]})]})}),n.jsx(be,{children:n.jsx("div",{className:"space-y-4",children:a.map((g,w)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"font-medium",children:["Line ",g.line_number]}),n.jsxs(ue,{type:"button",onClick:()=>y(w),variant:"destructive",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(pB,{className:"h-4 w-4"}),n.jsx("span",{children:"Remove"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"SKU"}),n.jsx(ke,{value:g.sku,onChange:v=>m(w,"sku",v.target.value),placeholder:"Enter SKU"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"Brand"}),n.jsx(ke,{value:g.brand,onChange:v=>m(w,"brand",v.target.value),placeholder:"Enter brand"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"SAP ID"}),n.jsx(ke,{value:g.sap_id,onChange:v=>m(w,"sap_id",v.target.value),placeholder:"Enter SAP ID"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"HSN Code"}),n.jsx(ke,{value:g.hsn_code,onChange:v=>m(w,"hsn_code",v.target.value),placeholder:"Enter HSN code"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"PO Quantity"}),n.jsx(ke,{type:"number",value:g.po_qty,onChange:v=>m(w,"po_qty",parseInt(v.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"Cost Price"}),n.jsx(ke,{type:"number",step:"0.01",value:g.cost_price,onChange:v=>m(w,"cost_price",v.target.value),min:"0"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"MRP"}),n.jsx(ke,{type:"number",step:"0.01",value:g.mrp,onChange:v=>m(w,"mrp",v.target.value),min:"0"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"Total Value"}),n.jsx(ke,{type:"number",step:"0.01",value:g.total_value,onChange:v=>m(w,"total_value",v.target.value),min:"0"})]}),n.jsxs("div",{children:[n.jsx(Se,{children:"Status"}),n.jsx(ke,{value:g.status,onChange:v=>m(w,"status",v.target.value),placeholder:"Enter status"})]})]})]},w))})})]}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(ue,{type:"button",variant:"outline",onClick:()=>t("/platform-po"),children:"Cancel"}),n.jsxs(ue,{type:"submit",disabled:d.isPending,className:"flex items-center space-x-2",children:[n.jsx($f,{className:"h-4 w-4"}),n.jsx("span",{children:"Save Changes"})]})]})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"PO Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The requested Zepto PO could not be found."}),n.jsx(ue,{onClick:()=>t("/platform-po"),children:"Back to PO List"})]})}function Jne(){const{data:e=[],isLoading:t,error:r}=Dt({queryKey:["/api/city-mall-pos"]});if(t)return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"text-green-600",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"City Mall Purchase Orders"}),n.jsx("p",{className:"text-gray-600",children:"Loading purchase orders..."})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(o=>n.jsxs(ve,{className:"animate-pulse",children:[n.jsxs(Oe,{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},o))})]});if(r)return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"text-red-600",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"City Mall Purchase Orders"}),n.jsx("p",{className:"text-red-600",children:"Error loading purchase orders"})]})]})});const s=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(o)),a=o=>(typeof o=="string"?new Date(o):o).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),i=o=>{switch(o.toLowerCase()){case"open":return"default";case"closed":return"secondary";case"cancelled":return"destructive";default:return"outline"}};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"text-green-600",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"City Mall Purchase Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage and track City Mall purchase orders"})]})]}),n.jsx(en,{href:"/unified-po-upload",children:n.jsxs(ue,{children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Upload New PO"]})})]}),e.length>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ef,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Total POs"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ht,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Total Items"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.reduce((o,l)=>o+(l.total_quantity||0),0).toLocaleString()})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(oo,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Total Value"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s(e.reduce((o,l)=>o+Number(l.total_amount||0),0))})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Gm,{className:"h-4 w-4 text-orange-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Avg. PO Value"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s(e.reduce((o,l)=>o+Number(l.total_amount||0),0)/e.length)})]})})]}),e.length===0?n.jsx(ve,{children:n.jsxs(be,{className:"p-12 text-center",children:[n.jsx(ht,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Purchase Orders Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Upload a CSV file to get started with City Mall purchase orders."}),n.jsx(en,{href:"/unified-po-upload",children:n.jsxs(ue,{children:[n.jsx(ht,{className:"mr-2 h-4 w-4"}),"Upload First PO"]})})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(o=>{var l,c,d;return n.jsxs(ve,{className:"hover:shadow-md transition-shadow",children:[n.jsx(Oe,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Me,{className:"text-lg flex items-center space-x-2",children:n.jsx("span",{children:o.po_number})}),n.jsxs(kt,{className:"flex items-center space-x-1 mt-1",children:[n.jsx(Rr,{className:"h-3 w-3"}),n.jsx("span",{children:o.created_at?a(o.created_at):"N/A"})]})]}),n.jsx(rt,{variant:i(o.status||""),children:o.status})]})}),n.jsxs(be,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Items:"}),n.jsx("p",{className:"font-semibold",children:(o.total_quantity||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Value:"}),n.jsx("p",{className:"font-semibold",children:s(o.total_amount||0)})]})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"HSN Codes:"}),n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[(l=o.unique_hsn_codes)==null?void 0:l.slice(0,3).map((u,f)=>n.jsx(rt,{variant:"outline",className:"text-xs",children:u},f)),(((c=o.unique_hsn_codes)==null?void 0:c.length)||0)>3&&n.jsxs(rt,{variant:"outline",className:"text-xs",children:["+",(((d=o.unique_hsn_codes)==null?void 0:d.length)||0)-3]})]})]}),n.jsx("div",{className:"pt-2",children:n.jsx(en,{href:`/city-mall-pos/${o.id}`,children:n.jsxs(ue,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(on,{className:"mr-2 h-4 w-4"}),"View Details"]})})})]})]},o.id)})})]})}function ese(){var c,d,u;const[,e]=tk("/city-mall-pos/:id"),t=e!=null&&e.id?parseInt(e.id):void 0,{data:r,isLoading:s,error:a}=Dt({queryKey:["/api/city-mall-pos",t],enabled:!!t});if(s)return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(f=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},f))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});if(a||!r)return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"text-red-600",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"City Mall PO Details"}),n.jsx("p",{className:"text-red-600",children:"Purchase order not found"})]})]}),n.jsx(en,{href:"/city-mall-pos",children:n.jsxs(ue,{variant:"outline",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]})})]});const i=f=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(Number(f)),o=f=>(typeof f=="string"?new Date(f):f).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=f=>{switch(f.toLowerCase()){case"open":return"default";case"closed":return"secondary";case"cancelled":return"destructive";default:return"outline"}};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"text-green-600",size:20})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["City Mall PO: ",r.po_number]}),n.jsx("p",{className:"text-gray-600",children:"Purchase order details and line items"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{variant:l(r.status||""),children:r.status}),n.jsx(en,{href:"/city-mall-pos",children:n.jsxs(ue,{variant:"outline",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to POs"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ef,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"PO Number"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.po_number})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ht,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Total Items"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:(r.total_quantity||0).toLocaleString()})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(oo,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Total Value"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:i(r.total_amount||0)})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"h-4 w-4 text-orange-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Created"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.created_at?o(r.created_at):"N/A"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ve,{className:"lg:col-span-2",children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(xn,{size:20}),n.jsx("span",{children:"Purchase Order Information"})]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"PO Number"}),n.jsx("p",{className:"font-semibold",children:r.po_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(rt,{variant:l(r.status||""),children:r.status})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created By"}),n.jsx("p",{className:"font-semibold",children:r.created_by||"System"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Uploaded By"}),n.jsx("p",{className:"font-semibold",children:r.uploaded_by||"System"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created Date"}),n.jsx("p",{className:"font-semibold",children:r.created_at?o(r.created_at):"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),n.jsx("p",{className:"font-semibold",children:r.updated_at?o(r.updated_at):"N/A"})]})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(Gm,{size:20}),n.jsx("span",{children:"Summary"})]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-bold",children:(r.total_quantity||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Base Amount"}),n.jsx("p",{className:"text-lg font-semibold",children:i(r.total_base_amount||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"IGST Amount"}),n.jsx("p",{className:"text-lg font-semibold",children:i(r.total_igst_amount||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CESS Amount"}),n.jsx("p",{className:"text-lg font-semibold",children:i(r.total_cess_amount||0)})]}),n.jsxs("div",{className:"pt-2 border-t",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:i(r.total_amount||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Unique HSN Codes"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(c=r.unique_hsn_codes)==null?void 0:c.map((f,h)=>n.jsx(rt,{variant:"outline",className:"text-xs",children:f},h))})]})]})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(ht,{size:20}),n.jsxs("span",{children:["Line Items (",((d=r.poLines)==null?void 0:d.length)||0,")"]})]}),n.jsx(kt,{children:"Detailed breakdown of all items in this purchase order"})]}),n.jsx(be,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"#"}),n.jsx(X,{children:"Article ID"}),n.jsx(X,{children:"Article Name"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{className:"text-right",children:"Qty"}),n.jsx(X,{className:"text-right",children:"MRP"}),n.jsx(X,{className:"text-right",children:"Cost Price"}),n.jsx(X,{className:"text-right",children:"Base Amount"}),n.jsx(X,{className:"text-right",children:"IGST %"}),n.jsx(X,{className:"text-right",children:"IGST "}),n.jsx(X,{className:"text-right",children:"Total Amount"}),n.jsx(X,{children:"Status"})]})}),n.jsx(Gn,{children:(u=r.poLines)==null?void 0:u.map(f=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:f.line_number}),n.jsx(Z,{className:"font-mono text-sm",children:f.article_id}),n.jsx(Z,{className:"max-w-xs truncate",title:f.article_name||"",children:f.article_name}),n.jsx(Z,{children:n.jsx(rt,{variant:"outline",className:"text-xs",children:f.hsn_code})}),n.jsx(Z,{className:"text-right font-semibold",children:(f.quantity||0).toLocaleString()}),n.jsx(Z,{className:"text-right",children:i(f.mrp||0)}),n.jsx(Z,{className:"text-right",children:i(f.base_cost_price||0)}),n.jsx(Z,{className:"text-right font-semibold",children:i(f.base_amount||0)}),n.jsxs(Z,{className:"text-right",children:[Number(f.igst_percent||0).toFixed(1),"%"]}),n.jsx(Z,{className:"text-right",children:i(f.igst_amount||0)}),n.jsx(Z,{className:"text-right font-bold text-green-600",children:i(f.total_amount||0)}),n.jsx(Z,{children:n.jsx(rt,{variant:"outline",className:"text-xs",children:f.status})})]},f.id))})]})})})]})]})}function tse(){var f,h,p,y;const[e,t]=x.useState(null),[r,s]=x.useState(!1),[a,i]=x.useState(null),{toast:o}=Mr(),l=Wr(),c=m=>{var w;const g=(w=m.target.files)==null?void 0:w[0];if(g){if(!g.name.toLowerCase().endsWith(".xlsx")&&!g.name.toLowerCase().endsWith(".xls")){o({title:"Invalid File Type",description:"Please select an Excel file (.xlsx or .xls)",variant:"destructive"});return}t(g),i(null)}},d=async()=>{if(!e){o({title:"No File Selected",description:"Please select an Excel file to upload",variant:"destructive"});return}s(!0);try{const m=new FormData;m.append("file",e);const g=await fetch("/api/blinkit-po/upload",{method:"POST",body:m});if(!g.ok){const v=await g.json();throw new Error(v.details||v.error||"Upload failed")}const w=await g.json();i(w),await l.invalidateQueries({queryKey:["/api/blinkit-pos"]}),o({title:"Upload Successful",description:`Blinkit PO uploaded with ${w.totalItems} items`})}catch(m){console.error("Upload error:",m),o({title:"Upload Failed",description:m instanceof Error?m.message:"Failed to upload file",variant:"destructive"})}finally{s(!1)}},u=()=>{t(null),i(null);const m=document.getElementById("file-input");m&&(m.value="")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Upload Blinkit Purchase Order"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Upload Excel files from Blinkit with purchase order data including detailed tax breakdown"})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"File Upload"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"file-input",children:"Select Blinkit Excel File"}),n.jsx(ke,{id:"file-input",type:"file",accept:".xlsx,.xls",onChange:c,className:"cursor-pointer"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Accepts Excel files (.xlsx, .xls) with Blinkit purchase order format"})]}),e&&n.jsxs(Rc,{children:[n.jsx(Qr,{className:"h-4 w-4"}),n.jsxs(Mc,{children:["Selected file: ",n.jsx("strong",{children:e.name})," (",(e.size/1024).toFixed(1)," KB)"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ue,{onClick:d,disabled:!e||r,className:"flex items-center gap-2",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(cs,{className:"h-4 w-4"}),"Upload File"]})}),e&&n.jsx(ue,{variant:"outline",onClick:u,children:"Reset"})]})]})]}),a&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2 text-green-600",children:[n.jsx(Ea,{className:"h-5 w-5"}),"Upload Success"]})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"PO Number:"})," ",(f=a.po)==null?void 0:f.po_number]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Items:"})," ",a.totalItems]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Quantity:"})," ",(h=a.po)==null?void 0:h.total_quantity]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Net Amount:"})," ",(p=a.po)==null?void 0:p.net_amount]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",(y=a.po)==null?void 0:y.status]})]})})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Blinkit File Format Requirements"})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsx("p",{children:n.jsx("strong",{children:"Required columns:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"# (Line Number)"}),n.jsx("li",{children:"Item Code"}),n.jsx("li",{children:"HSN Code"}),n.jsx("li",{children:"Product UPC"}),n.jsx("li",{children:"Product Description"}),n.jsx("li",{children:"Grammage"}),n.jsx("li",{children:"Basic Cost Price"}),n.jsx("li",{children:"CGST%, SGST%, IGST%, CESS%, Additional CES"}),n.jsx("li",{children:"Tax Amount, Landing Rate, Quantity, MRP, Margin%"}),n.jsx("li",{children:"Total Amount"})]}),n.jsxs("p",{className:"mt-4",children:[n.jsx("strong",{children:"Summary data"})," should be included at the bottom with Total Quantity, Total Items, Net amount, and Cart Discount."]})]})})]})]})}function rse(){const[e,t]=x.useState(null),{data:r,isLoading:s}=Dt({queryKey:["/api/blinkit-pos"]}),a=l=>{switch(l.toLowerCase()){case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},i=l=>l==null?"0.00":`${(typeof l=="string"?parseFloat(l):l).toLocaleString("en-IN",{minimumFractionDigits:2})}`,o=l=>l?(typeof l=="string"?new Date(l):l).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Blinkit Purchase Order Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["PO Number: ",e.po_number]})]}),n.jsx(ue,{variant:"outline",onClick:()=>t(null),children:" Back to List"})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"Purchase Order Summary"]})}),n.jsxs(be,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx(rt,{className:a(e.status||"unknown"),children:e.status||"Unknown"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:e.total_items})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ef,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:e.total_quantity})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Basic Cost"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:i(e.total_basic_cost)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tax Amount"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:i(e.total_tax_amount)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Net Amount"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold text-green-600",children:i(e.net_amount)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cart Discount"}),n.jsx("span",{className:"font-semibold",children:i(e.cart_discount)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:o(e.created_at)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),n.jsx("span",{children:e.created_by||"N/A"})]})]}),e.unique_hsn_codes&&e.unique_hsn_codes.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"HSN Codes"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.unique_hsn_codes.map((l,c)=>n.jsx(rt,{variant:"outline",children:l||"N/A"},c))})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{children:["Line Items (",e.poLines.length,")"]})}),n.jsx(be,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{className:"w-16",children:"#"}),n.jsx(X,{children:"Item Code"}),n.jsx(X,{children:"Description"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"UPC"}),n.jsx(X,{children:"Grammage"}),n.jsx(X,{className:"text-right",children:"Qty"}),n.jsx(X,{className:"text-right",children:"Basic Cost"}),n.jsx(X,{className:"text-right",children:"CGST%"}),n.jsx(X,{className:"text-right",children:"SGST%"}),n.jsx(X,{className:"text-right",children:"IGST%"}),n.jsx(X,{className:"text-right",children:"Tax Amount"}),n.jsx(X,{className:"text-right",children:"Landing Rate"}),n.jsx(X,{className:"text-right",children:"MRP"}),n.jsx(X,{className:"text-right",children:"Total Amount"})]})}),n.jsx(Gn,{children:e.poLines.map(l=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:l.line_number}),n.jsx(Z,{className:"font-mono text-sm",children:l.item_code}),n.jsx(Z,{className:"max-w-xs truncate",title:l.product_description||"",children:l.product_description||"N/A"}),n.jsx(Z,{children:l.hsn_code||"N/A"}),n.jsx(Z,{className:"font-mono text-sm",children:l.product_upc||"N/A"}),n.jsx(Z,{children:l.grammage||"N/A"}),n.jsx(Z,{className:"text-right",children:l.quantity}),n.jsx(Z,{className:"text-right",children:i(l.basic_cost_price)}),n.jsxs(Z,{className:"text-right",children:[l.cgst_percent||"0","%"]}),n.jsxs(Z,{className:"text-right",children:[l.sgst_percent||"0","%"]}),n.jsxs(Z,{className:"text-right",children:[l.igst_percent||"0","%"]}),n.jsx(Z,{className:"text-right",children:i(l.tax_amount)}),n.jsx(Z,{className:"text-right",children:i(l.landing_rate)}),n.jsx(Z,{className:"text-right",children:i(l.mrp)}),n.jsx(Z,{className:"text-right font-semibold",children:i(l.total_amount)})]},l.id))})]})})})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Blinkit Purchase Orders"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage Blinkit purchase orders uploaded from Excel files"})]}),!r||r.length===0?n.jsx(ve,{children:n.jsxs(be,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Blinkit POs Found"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"Upload Excel files from Blinkit to see purchase orders here"})]})}):n.jsx("div",{className:"grid gap-4",children:r.map(l=>n.jsx(ve,{className:"hover:shadow-md transition-shadow",children:n.jsx(be,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:l.po_number}),n.jsx(rt,{className:a(l.status||"unknown"),children:l.status||"Unknown"})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ht,{className:"h-4 w-4"}),n.jsxs("span",{children:[l.total_items," items"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ef,{className:"h-4 w-4"}),n.jsxs("span",{children:[l.total_quantity," qty"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(oo,{className:"h-4 w-4"}),n.jsx("span",{children:i(l.net_amount)})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rr,{className:"h-4 w-4"}),n.jsx("span",{children:o(l.created_at)})]})]})]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>t(l),className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4"}),"View Details"]})]})})},l.id))})]})}function nse(){const[e,t]=x.useState(null),[r,s]=x.useState(!1),{toast:a}=Mr(),i=Wr(),o=zt({mutationFn:async f=>{const h=new FormData;h.append("file",f);const p=await fetch("/api/swiggy-pos/upload",{method:"POST",body:h});if(!p.ok){const y=await p.json();throw new Error(y.error||"Failed to upload file")}return p.json()},onSuccess:f=>{a({title:"Success",description:`Swiggy PO uploaded successfully! PO Number: ${f.po_number}`}),t(null),i.invalidateQueries({queryKey:["/api/swiggy-pos"]})},onError:f=>{a({title:"Upload failed",description:f.message,variant:"destructive"})}}),l=f=>{f.preventDefault(),f.stopPropagation(),f.type==="dragenter"||f.type==="dragover"?s(!0):f.type==="dragleave"&&s(!1)},c=f=>{f.preventDefault(),f.stopPropagation(),s(!1);const h=f.dataTransfer.files;if(h&&h[0]){const p=h[0];p.type==="application/vnd.ms-excel"||p.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||p.name.endsWith(".xls")||p.name.endsWith(".xlsx")?t(p):a({title:"Invalid file type",description:"Please upload an Excel file (.xls or .xlsx)",variant:"destructive"})}},d=f=>{const h=f.target.files;if(h&&h[0]){const p=h[0];p.type==="application/vnd.ms-excel"||p.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||p.name.endsWith(".xls")||p.name.endsWith(".xlsx")?t(p):a({title:"Invalid file type",description:"Please upload an Excel file (.xls or .xlsx)",variant:"destructive"})}},u=()=>{if(!e){a({title:"No file selected",description:"Please select an Excel file to upload",variant:"destructive"});return}o.mutate(e)};return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Swiggy PO Upload"}),n.jsx("p",{className:"text-gray-600",children:"Upload and process Swiggy purchase order Excel files"})]})}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(lB,{className:"h-5 w-5"}),"Upload Swiggy PO File"]})}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:c,children:[n.jsx(cs,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:e?"File Selected":"Drop your Excel file here"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["or"," ",n.jsx(Se,{htmlFor:"file-upload",className:"text-blue-600 hover:underline cursor-pointer",children:"browse to choose a file"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports .xls and .xlsx files"})]}),n.jsx(ke,{id:"file-upload",type:"file",accept:".xls,.xlsx,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:d,className:"hidden"})]}),e&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-green-800",children:e.name}),n.jsxs("p",{className:"text-sm text-green-600",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),n.jsx(ue,{variant:"outline",size:"sm",onClick:()=>t(null),children:"Remove"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx(ue,{onClick:u,disabled:!e||o.isPending,className:"flex-1",children:o.isPending?"Uploading...":"Upload & Process"})})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"File Format Guidelines"})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Supported Format:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[n.jsx("li",{children:"Excel files (.xls, .xlsx)"}),n.jsx("li",{children:"XML-based Excel format from Swiggy"}),n.jsx("li",{children:"Files should contain PO header and line item details"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Expected Data:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[n.jsx("li",{children:'PO Number (should contain "SOTY-" pattern)'}),n.jsx("li",{children:"PO Date"}),n.jsx("li",{children:"Item codes and descriptions"}),n.jsx("li",{children:"Quantities and pricing information"})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:"Note:"})," The system will automatically extract PO details from the Excel structure. Make sure your file follows the standard Swiggy PO format."]})})]})})]})]})]})}const Sj=[{id:"flipkart",name:"Flipkart Grocery",endpoint:"/api/po/import/flipkart",queryKey:"/api/flipkart-grocery-pos"},{id:"zepto",name:"Zepto",endpoint:"/api/po/import/zepto",queryKey:"/api/zepto-pos"},{id:"citymall",name:"City Mall",endpoint:"/api/po/import/citymall",queryKey:"/api/city-mall-pos"},{id:"blinkit",name:"Blinkit",endpoint:"/api/po/import/blinkit",queryKey:"/api/blinkit-pos"},{id:"swiggy",name:"Swiggy Instamart",endpoint:"/api/po/import/swiggy",queryKey:"/api/swiggy-pos"}];function sse(){var I,D,C,R,k,L,ie,fe,se,ce,q,oe,ee,we,P,F,U,j;const[e,t]=x.useState("platform"),[r,s]=x.useState(""),[a,i]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(!1),{toast:u}=Mr(),f=Wr(),h=Sj.find(M=>M.id===r),p=zt({mutationFn:async M=>{const J=new FormData;J.append("file",M),J.append("platform",r);const _e=await fetch("/api/po/preview",{method:"POST",body:J});if(!_e.ok){const le=await _e.json();throw new Error(le.error||"Failed to preview file")}return _e.json()},onSuccess:M=>{l(M),t("preview"),u({title:"File previewed successfully",description:`Found ${M.totalItems} items`})},onError:M=>{u({title:"Preview failed",description:M.message,variant:"destructive"})}}),y=zt({mutationFn:async M=>{const J=await fetch(`/api/po/import/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!J.ok){const _e=await J.json();throw new Error(_e.error||"Failed to import PO")}return J.json()},onSuccess:M=>{if(M.results&&Array.isArray(M.results)){const J=M.results.filter(le=>le.status==="success"),_e=M.results.filter(le=>le.status==="failed");u({title:"PO import completed",description:`Successfully imported ${J.length} of ${M.results.length} POs${_e.length>0?`. ${_e.length} failed.`:""}`})}else u({title:"PO imported successfully",description:`PO ${M.po_number} has been created`});S(),f.invalidateQueries({queryKey:[h.queryKey]})},onError:M=>{u({title:"Import failed",description:M.message,variant:"destructive"})}}),m=M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?d(!0):M.type==="dragleave"&&d(!1)},g=M=>{M.preventDefault(),M.stopPropagation(),d(!1);const J=M.dataTransfer.files;J&&J[0]&&v(J[0])},w=M=>{const J=M.target.files;J&&J[0]&&v(J[0])},v=M=>{["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(M.type)||M.name.endsWith(".csv")||M.name.endsWith(".xls")||M.name.endsWith(".xlsx")?(i(M),l(null)):u({title:"Invalid file type",description:"Please upload a CSV or Excel file",variant:"destructive"})},_=M=>{s(M),t("upload")},N=()=>{if(!a){u({title:"No file selected",description:"Please select a file to preview",variant:"destructive"});return}p.mutate(a)},T=()=>{if(!o){u({title:"No data to import",description:"Please preview the file first",variant:"destructive"});return}o.poList?y.mutate({poList:o.poList}):y.mutate({header:o.header,lines:o.lines})},S=()=>{t("platform"),s(""),i(null),l(null)},b=()=>{e==="upload"?(t("platform"),i(null)):e==="preview"&&(t("upload"),l(null))};return n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-6xl",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Purchase Order Upload"}),n.jsx("p",{className:"text-gray-600",children:"Upload and import purchase orders from all platforms"})]})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 ${e==="platform"?"text-blue-600":e==="upload"||e==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e==="platform"?"bg-blue-100 text-blue-600":e==="upload"||e==="preview"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:"1"}),n.jsx("span",{className:"font-medium",children:"Select Platform"})]}),n.jsx(ts,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:`flex items-center gap-2 ${e==="upload"?"text-blue-600":e==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e==="upload"?"bg-blue-100 text-blue-600":e==="preview"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:"2"}),n.jsx("span",{className:"font-medium",children:"Upload File"})]}),n.jsx(ts,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:`flex items-center gap-2 ${e==="preview"?"text-blue-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e==="preview"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:"3"}),n.jsx("span",{className:"font-medium",children:"Preview & Import"})]})]})})}),e==="platform"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Select Platform"]}),n.jsx(kt,{children:"Choose the e-commerce platform for your purchase order"})]}),n.jsx(be,{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Sj.map(M=>n.jsx(ue,{variant:"outline",className:"h-20 text-left justify-start p-4 hover:bg-blue-50 hover:border-blue-300",onClick:()=>_(M.id),children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-base",children:M.name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Upload ",M.name," PO files"]})]})},M.id))})})]}),e==="upload"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"Upload ",h==null?void 0:h.name," PO File"]}),n.jsxs(kt,{children:["Upload CSV or Excel files containing"," ",h==null?void 0:h.name," purchase order data"]})]}),n.jsxs(be,{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${c?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:g,children:[n.jsx(xn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:a?"File Selected":`Drop your ${h==null?void 0:h.name} CSV/Excel file here`}),n.jsxs("p",{className:"text-sm text-gray-500",children:["or"," ",n.jsx(Se,{htmlFor:"file-upload",className:"text-blue-600 hover:underline cursor-pointer",children:"browse to choose a file"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports .csv, .xls, and .xlsx files"})]}),n.jsx(ke,{id:"file-upload",type:"file",accept:".csv,.xls,.xlsx,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:w,className:"hidden"})]}),a&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-green-800",children:a.name}),n.jsxs("p",{className:"text-sm text-green-600",children:[(a.size/1024/1024).toFixed(2)," MB"]})]}),n.jsx(ue,{variant:"outline",size:"sm",onClick:()=>i(null),children:"Remove"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(ue,{variant:"outline",onClick:b,children:[n.jsx($t,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs(ue,{onClick:N,disabled:!a||p.isPending,className:"flex-1",children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),p.isPending?"Analyzing...":"Preview & Review"]})]})]})]}),e==="preview"&&o&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-5 w-5"}),"File Preview & Review - ",h==null?void 0:h.name]})}),n.jsxs(be,{className:"space-y-4",children:[o.poList?n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-600"}),n.jsxs("h3",{className:"text-lg font-semibold",children:["Multiple POs Found: ",o.totalPOs," Purchase Orders"]})]}),o.poList.map((M,J)=>n.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[n.jsxs("h4",{className:"text-lg font-semibold mb-4 text-blue-600",children:["PO #",J+1,": ",M.header.po_number]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:M.totalItems})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:M.totalQuantity})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",M.totalAmount]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsxs(Yt,{children:[n.jsx(X,{children:"Item Code"}),n.jsx(X,{children:"Product Description"}),n.jsx(X,{children:"UOM"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"Landing Rate"}),n.jsx(X,{children:"Total Amount"})]})}),n.jsx(Gn,{children:M.lines.map((_e,le)=>n.jsxs(Yt,{children:[n.jsx(Z,{className:"font-medium",children:_e.item_code}),n.jsx(Z,{children:_e.product_description}),n.jsx(Z,{children:_e.grammage}),n.jsx(Z,{children:_e.quantity}),n.jsxs(Z,{children:["",_e.landing_rate]}),n.jsxs(Z,{children:["",_e.total_amount]})]},le))})]})})]},J))]}):n.jsxs(n.Fragment,{children:[r==="flipkart"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"PO Number"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((I=o.header)==null?void 0:I.po_number)||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:o.totalItems||0})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:o.totalQuantity||0})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",o.totalAmount||"0"]})]}),n.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"PO Date"}),n.jsx("p",{className:"text-lg font-bold text-orange-900",children:(D=o.header)!=null&&D.order_date?new Date(o.header.order_date).toLocaleDateString():"N/A"})]})]}):r==="swiggy"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"PO Number"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((C=o.header)==null?void 0:C.po_number)||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:o.totalItems||0})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:o.totalQuantity||0})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",(R=o.header)!=null&&R.grand_total?parseFloat(o.header.grand_total).toFixed(2):o.totalAmount||"0"]})]}),n.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"PO Date"}),n.jsx("p",{className:"text-lg font-bold text-orange-900",children:(k=o.header)!=null&&k.po_date?new Date(o.header.po_date).toLocaleDateString():"Not Available"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"PO Number"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:((L=o.header)==null?void 0:L.po_number)||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Items"}),n.jsx("p",{className:"text-lg font-bold text-green-900",children:o.totalItems||0})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Quantity"}),n.jsx("p",{className:"text-lg font-bold text-purple-900",children:o.totalQuantity||0})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:["",o.totalAmount||"0"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"PO Header Information"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:r==="flipkart"?n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Order Date:"})," ",(ie=o.header)!=null&&ie.order_date?new Date(o.header.order_date).toLocaleDateString():"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(rt,{variant:"outline",children:((fe=o.header)==null?void 0:fe.status)||"Open"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Platform:"})," ",h==null?void 0:h.name]})]}):r==="swiggy"?n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"PO Number:"})," ",((se=o.header)==null?void 0:se.po_number)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"PO Date:"})," ",(ce=o.header)!=null&&ce.po_date?new Date(o.header.po_date).toLocaleDateString():"Not Available"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Vendor Name:"})," ",((q=o.header)==null?void 0:q.vendor_name)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Payment Terms:"})," ",((oe=o.header)==null?void 0:oe.payment_terms)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(rt,{variant:"outline",children:((ee=o.header)==null?void 0:ee.status)||"Open"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Platform:"})," ",h==null?void 0:h.name]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"PO Number:"})," ",((we=o.header)==null?void 0:we.po_number)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"PO Date:"})," ",((P=o.header)==null?void 0:P.po_date)||((F=o.header)==null?void 0:F.order_date)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(rt,{variant:"outline",children:((U=o.header)==null?void 0:U.status)||"Open"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Platform:"})," ",h==null?void 0:h.name]})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"Line Items Preview (First 5 items)"}),r==="citymall"&&o.lines&&o.lines[0]&&n.jsxs("div",{className:"text-xs text-gray-500 mb-2 p-2 bg-gray-50 rounded",children:[n.jsx("div",{children:n.jsx("strong",{children:"Debug Info:"})}),n.jsxs("div",{children:["Article ID: ",o.lines[0].article_id||"MISSING"]}),n.jsxs("div",{children:["Article Name: ",o.lines[0].article_name||"MISSING"]}),n.jsxs("div",{children:["Keys: ",Object.keys(o.lines[0]).join(", ")]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsx(Yt,{children:r==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx(X,{children:"Item Name"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"Pending Quantity"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"UOM"}),n.jsx(X,{children:"Tax Amount"}),n.jsx(X,{children:"Total Amount"})]}):r==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx(X,{children:"Item Description"}),n.jsx(X,{children:"Item Code"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"MRP"}),n.jsx(X,{children:"Unit Cost"}),n.jsx(X,{children:"Taxable Value"})]}):r==="zepto"?n.jsxs(n.Fragment,{children:[n.jsx(X,{children:"SKU"}),n.jsx(X,{children:"Brand"}),n.jsx(X,{children:"SAP ID"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"PO Quantity"}),n.jsx(X,{children:"Cost Price"}),n.jsx(X,{children:"MRP"})]}):r==="citymall"?n.jsxs(n.Fragment,{children:[n.jsx(X,{children:"Item"}),n.jsx(X,{children:"Code"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"Price"}),n.jsx(X,{children:"Total"})]}):n.jsxs(n.Fragment,{children:[n.jsx(X,{children:"Item Name"}),n.jsx(X,{children:"HSN Code"}),n.jsx(X,{children:"Pending Quantity"}),n.jsx(X,{children:"Quantity"}),n.jsx(X,{children:"UOM"}),n.jsx(X,{children:"Tax Amount"}),n.jsx(X,{children:"Total Amount"})]})})}),n.jsx(Gn,{children:(j=o.lines)==null?void 0:j.map((M,J)=>n.jsx(Yt,{children:r==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium",children:M.title||M.item_name||"N/A"}),n.jsx(Z,{children:M.hsn_code||"N/A"}),n.jsx(Z,{children:M.pending_quantity||"N/A"}),n.jsx(Z,{children:M.quantity||"N/A"}),n.jsx(Z,{children:M.uom||"N/A"}),n.jsxs(Z,{children:["",M.tax_amount||"N/A"]}),n.jsxs(Z,{children:["",M.total_amount||"N/A"]})]}):r==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium",children:M.item_description||M.item_name||"N/A"}),n.jsx(Z,{children:M.item_code||"N/A"}),n.jsx(Z,{children:M.hsn_code||"Not Available"}),n.jsx(Z,{children:M.quantity||"N/A"}),n.jsxs(Z,{children:["",M.mrp||"N/A"]}),n.jsx(Z,{children:M.unit_base_cost?`${parseFloat(M.unit_base_cost).toFixed(2)}`:"Not Available"}),n.jsxs(Z,{children:["",M.taxable_value?parseFloat(M.taxable_value).toFixed(2):"N/A"]})]}):r==="zepto"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium",children:M.sku||"N/A"}),n.jsx(Z,{children:M.brand||"N/A"}),n.jsx(Z,{className:"text-blue-600 font-medium",children:M.sap_id||"Not Available"}),n.jsx(Z,{children:M.hsn_code||"N/A"}),n.jsx(Z,{children:M.po_qty||"N/A"}),n.jsxs(Z,{children:["",M.cost_price||"N/A"]}),n.jsxs(Z,{children:["",M.mrp||"N/A"]})]}):r==="citymall"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium",children:M.article_name||"N/A"}),n.jsx(Z,{children:M.article_id||"N/A"}),n.jsx(Z,{children:M.quantity||"N/A"}),n.jsxs(Z,{children:["",M.base_cost_price||"N/A"]}),n.jsxs(Z,{children:["",M.total_amount||"N/A"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium",children:M.title||M.item_name||"N/A"}),n.jsx(Z,{children:M.hsn_code||"N/A"}),n.jsx(Z,{children:M.pending_quantity||"N/A"}),n.jsx(Z,{children:M.quantity||"N/A"}),n.jsx(Z,{children:M.uom||"N/A"}),n.jsxs(Z,{children:["",M.tax_amount||"N/A"]}),n.jsxs(Z,{children:["",M.total_amount||"N/A"]})]})},J))})]})}),o.lines&&o.lines.length>5&&n.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing 5 of ",o.lines.length," items"]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsxs(ue,{variant:"outline",onClick:b,children:[n.jsx($t,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs(ue,{onClick:T,disabled:y.isPending,className:"flex-1",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),y.isPending?"Importing...":"Import to Database"]})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"How to Use"})}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Select Platform"}),n.jsx("p",{className:"text-gray-600",children:"Choose the e-commerce platform (Flipkart, Zepto, City Mall, Blinkit, or Swiggy)"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Upload File"}),n.jsx("p",{className:"text-gray-600",children:"Upload your CSV or Excel file containing the purchase order data"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Preview & Import"}),n.jsx("p",{className:"text-gray-600",children:"Review the parsed data and import it into the database"})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mt-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-blue-600 mt-0.5"}),n.jsx("div",{children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:"Note:"})," Make sure your files follow the standard format for each platform. Always review the preview before importing to ensure data accuracy."]})})]})})]})})]})]})})}function ase(){const{toast:e}=Mr(),[t,r]=x.useState(!1),{data:s=[],isLoading:a}=Dt({queryKey:["/api/sap-items-api"],refetchInterval:3e4}),i=zt({mutationFn:async()=>await(await kn("POST","/api/sap-items-api/sync")).json(),onSuccess:d=>{e({title:"Sync completed successfully",description:d.message}),xi.invalidateQueries({queryKey:["/api/sap-items-api"]})},onError:d=>{let u="Sync failed",f="Failed to sync SAP items";d.message.includes("503:")?(u="SQL Server Connection Failed",f="Unable to connect to SQL Server database. Please check VPN connection and server accessibility."):d.message.includes("500:")&&(f=d.message.split(": ")[1]||"Internal server error occurred"),e({title:u,description:f,variant:"destructive"})}}),o=()=>{i.mutate()},l=d=>new Date(d).toLocaleString(),c=s.length>0?new Date(Math.max(...s.map(d=>new Date(d.last_synced||d.created_at).getTime()))):null;return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"SAP Item Master Sync"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Synchronize item master data from SQL Server database"})]}),n.jsxs(ue,{onClick:o,disabled:i.isPending,className:"flex items-center gap-2",children:[i.isPending?n.jsx($n,{className:"h-4 w-4 animate-spin"}):n.jsx(pa,{className:"h-4 w-4"}),i.isPending?"Syncing...":"Sync Now"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Total Items"}),n.jsx(ta,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsx("div",{className:"text-2xl font-bold",children:a?n.jsx($n,{className:"h-6 w-6 animate-spin"}):s.length.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"In SAP API table"})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Last Sync"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(be,{children:[n.jsx("div",{className:"text-2xl font-bold",children:c?l(c.toISOString()).split(",")[0]:"Never"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:c?l(c.toISOString()).split(",")[1]:"No sync performed yet"})]})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Me,{className:"text-sm font-medium",children:"Sync Status"}),n.jsx(rt,{variant:i.isPending?"secondary":"default",children:i.isPending?"Running":"Ready"})]}),n.jsxs(be,{children:[n.jsx("div",{className:"text-2xl font-bold",children:i.isPending?n.jsx($n,{className:"h-6 w-6 animate-spin"}):"Idle"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.isPending?"Fetching from SQL Server...":"Click sync to update"})]})]})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"SAP Items"}),n.jsx(kt,{children:"Latest items synchronized from SAP B1 Hanna ERP"})]}),n.jsx(ue,{variant:"outline",size:"sm",onClick:()=>r(!t),children:t?"Show Less":`View All (${s.length})`})]})}),n.jsx(be,{children:a?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx($n,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Loading SAP items..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ta,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-lg font-medium",children:"No SAP items found"}),n.jsx("p",{className:"text-sm",children:'Click "Sync Now" to fetch items from SQL Server database'})]}):n.jsxs("div",{className:"space-y-2",children:[s.slice(0,t?s.length:10).map(d=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:d.itemcode}),d.brand&&n.jsx(rt,{variant:"outline",className:"text-xs",children:d.brand})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.itemname}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[d.type&&n.jsxs("span",{children:["Type: ",d.type]}),d.itemgroup&&n.jsxs("span",{children:["Group: ",d.itemgroup]}),d.uom&&n.jsxs("span",{children:["UOM: ",d.uom]})]})]}),n.jsx("div",{className:"text-right text-xs text-gray-500",children:n.jsxs("p",{children:["Synced: ",l(d.last_synced||d.created_at)]})})]},d.id)),!t&&s.length>10&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(ue,{variant:"outline",onClick:()=>r(!0),children:["Show ",s.length-10," more items"]})})]})})]})]})}function ise(e,t){return x.useReducer((r,s)=>t[r][s]??r,e)}var q_="ScrollArea",[V6,Tie]=Xn(q_),[ose,na]=V6(q_),$6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[d,u]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(null),[m,g]=x.useState(null),[w,v]=x.useState(0),[_,N]=x.useState(0),[T,S]=x.useState(!1),[b,I]=x.useState(!1),D=Et(t,R=>c(R)),C=Yf(a);return n.jsx(ose,{scope:r,type:s,dir:C,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:T,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:b,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:N,children:n.jsx(ct.div,{dir:C,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});$6.displayName=q_;var z6="ScrollAreaViewport",q6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=na(z6,r),l=x.useRef(null),c=Et(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});q6.displayName=z6;var ni="ScrollAreaScrollbar",W_=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=na(ni,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(lse,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(cse,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(W6,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(H_,{...s,ref:t}):null});W_.displayName=ni;var lse=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=na(ni,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(bn,{present:r||i,children:n.jsx(W6,{"data-state":i?"visible":"hidden",...s,ref:t})})}),cse=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=na(ni,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ix(()=>c("SCROLL_END"),100),[l,c]=ise("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),n.jsx(bn,{present:r||l!=="hidden",children:n.jsx(H_,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),W6=x.forwardRef((e,t)=>{const r=na(ni,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=ix(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return vd(r.viewport,c),vd(r.content,c),n.jsx(bn,{present:s||i,children:n.jsx(H_,{"data-state":i?"visible":"hidden",...a,ref:t})})}),H_=x.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=na(ni,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Y6(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return pse(h,o.current,l,p)}return r==="horizontal"?n.jsx(dse,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=Ej(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?n.jsx(use,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=Ej(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),dse=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=na(ni,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Et(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(K6,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ax(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),Z6(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:q0(o.paddingLeft),paddingEnd:q0(o.paddingRight)}})}})}),use=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=na(ni,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Et(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(K6,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ax(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),Z6(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:q0(o.paddingTop),paddingEnd:q0(o.paddingBottom)}})}})}),[fse,H6]=V6(ni),K6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,p=na(ni,r),[y,m]=x.useState(null),g=Et(t,D=>m(D)),w=x.useRef(null),v=x.useRef(""),_=p.viewport,N=s.content-s.viewport,T=hr(u),S=hr(c),b=ix(f,10);function I(D){if(w.current){const C=D.clientX-w.current.left,R=D.clientY-w.current.top;d({x:C,y:R})}}return x.useEffect(()=>{const D=C=>{const R=C.target;(y==null?void 0:y.contains(R))&&T(C,N)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[_,y,N,T]),x.useEffect(S,[s,S]),vd(y,b),vd(p.content,b),n.jsx(fse,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:hr(i),onThumbPointerUp:hr(o),onThumbPositionChange:S,onThumbPointerDown:hr(l),children:n.jsx(ct.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ue(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),w.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),I(D))}),onPointerMove:Ue(e.onPointerMove,I),onPointerUp:Ue(e.onPointerUp,D=>{const C=D.target;C.hasPointerCapture(D.pointerId)&&C.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),z0="ScrollAreaThumb",G6=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=H6(z0,e.__scopeScrollArea);return n.jsx(bn,{present:r||a.hasThumb,children:n.jsx(hse,{ref:t,...s})})}),hse=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=na(z0,r),o=H6(z0,r),{onThumbPositionChange:l}=o,c=Et(t,f=>o.onThumbChange(f)),d=x.useRef(void 0),u=ix(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!d.current){const p=xse(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,l]),n.jsx(ct.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ue(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Ue(e.onPointerUp,o.onThumbPointerUp)})});G6.displayName=z0;var K_="ScrollAreaCorner",Q6=x.forwardRef((e,t)=>{const r=na(K_,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(mse,{...e,ref:t}):null});Q6.displayName=K_;var mse=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=na(K_,r),[i,o]=x.useState(0),[l,c]=x.useState(0),d=!!(i&&l);return vd(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),vd(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ct.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function q0(e){return e?parseInt(e,10):0}function Y6(e,t){const r=e/t;return isNaN(r)?0:r}function ax(e){const t=Y6(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function pse(e,t,r,s="ltr"){const a=ax(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return X6([c,d],f)(e)}function Ej(e,t,r="ltr"){const s=ax(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=ry(e,c);return X6([0,o],[0,l])(d)}function X6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Z6(e,t){return e>0&&e<t}var xse=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function ix(e,t){const r=hr(e),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function vd(e,t){const r=hr(t);qr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var J6=$6,gse=q6,vse=Q6;const pu=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(J6,{ref:s,className:Te("relative overflow-hidden",e),...r,children:[n.jsx(gse,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(e5,{}),n.jsx(vse,{})]}));pu.displayName=J6.displayName;const e5=x.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(W_,{ref:s,orientation:t,className:Te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(G6,{className:"relative flex-1 rounded-full bg-border"})}));e5.displayName=W_.displayName;function yse(){var d;const[e,t]=x.useState(""),[r,s]=x.useState([]);Wr();const a=zt({mutationFn:async u=>{const f=await fetch("/api/sql-query/execute",{method:"POST",body:JSON.stringify({query:u}),headers:{"Content-Type":"application/json"}});if(!f.ok){const h=await f.json();throw new Error(h.error||"Query execution failed")}return f.json()},onSuccess:(u,f)=>{const h={id:Date.now().toString(),query:f,timestamp:new Date().toISOString(),status:"success",rowCount:u.rowCount,executionTime:u.executionTime};s(p=>[h,...p.slice(0,9)])},onError:(u,f)=>{const h={id:Date.now().toString(),query:f,timestamp:new Date().toISOString(),status:"error"};s(p=>[h,...p.slice(0,9)])}}),i=Dt({queryKey:["/api/sql-query/tables"],queryFn:async()=>{const u=await fetch("/api/sql-query/tables");if(!u.ok)throw new Error("Failed to fetch tables");return u.json()}}),o=Dt({queryKey:["/api/users-with-roles"],queryFn:async()=>{const u=await fetch("/api/users");if(!u.ok)throw new Error("Failed to fetch users");const f=await u.json();return await Promise.all(f.map(async p=>{if(p.role_id)try{const y=await fetch("/api/roles");if(y.ok){const g=(await y.json()).find(w=>w.id===p.role_id);return{...p,role:g}}}catch(y){console.error("Error fetching role for user:",p.username,y)}return p}))},refetchInterval:3e4}),l=()=>{e.trim()&&a.mutate(e.trim())},c=()=>{if(!a.data)return;const{columns:u,rows:f}=a.data,h=[u.join(","),...f.map(g=>g.map(w=>typeof w=="string"&&w.includes(",")?`"${w}"`:w).join(","))].join(`
`),p=new Blob([h],{type:"text/csv"}),y=URL.createObjectURL(p),m=document.createElement("a");m.href=y,m.download=`query-results-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(y)};return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"SQL Query Runner"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Execute custom SQL queries against your database"})]}),n.jsxs(rt,{variant:"secondary",className:"flex items-center gap-2",children:[n.jsx(ta,{size:16}),"Development Database"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(ON,{size:20}),"Query Editor"]}),n.jsx(kt,{children:"Write and execute SQL queries. Only SELECT statements are allowed for security."})]}),n.jsxs(be,{className:"space-y-4",children:[n.jsx(Ac,{placeholder:"SELECT * FROM your_table LIMIT 10;",value:e,onChange:u=>t(u.target.value),className:"min-h-[200px] font-mono text-sm"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ue,{onClick:l,disabled:!e.trim()||a.isPending,className:"flex items-center gap-2",children:[n.jsx(ON,{size:16}),a.isPending?"Executing...":"Execute Query"]}),a.data&&n.jsxs(ue,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[n.jsx(Ed,{size:16}),"Download CSV"]})]}),a.data&&n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Yk,{size:14}),a.data.executionTime,"ms"]}),n.jsxs("span",{children:[a.data.rowCount," rows"]})]})]})]})]}),a.error&&n.jsxs(Rc,{variant:"destructive",children:[n.jsx(pp,{className:"h-4 w-4"}),n.jsx(Mc,{children:((d=a.error)==null?void 0:d.message)||"Query execution failed"})]}),a.data&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{className:"flex items-center gap-2",children:[n.jsx(Ea,{size:20}),"Query Results"]})}),n.jsx(be,{children:n.jsx(pu,{className:"h-[400px] w-full",children:n.jsxs(Hn,{children:[n.jsx(Kn,{children:n.jsx(Yt,{children:a.data.columns.map(u=>n.jsx(X,{className:"font-semibold",children:u},u))})}),n.jsx(Gn,{children:a.data.rows.map((u,f)=>n.jsx(Yt,{children:u.map((h,p)=>n.jsx(Z,{className:"font-mono text-sm",children:h===null?n.jsx("span",{className:"text-gray-400 italic",children:"null"}):String(h)},p))},f))})]})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{className:"text-lg",children:"Database Tables"}),n.jsx(kt,{children:"Available tables in your database"})]}),n.jsx(be,{children:n.jsx(pu,{className:"h-[400px] w-full",children:n.jsx("div",{className:"pr-4",children:i.isLoading?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading tables..."}):i.data?n.jsx("div",{className:"space-y-2",children:i.data.map(u=>n.jsx("div",{className:"p-3 rounded bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors border",onClick:()=>t(`SELECT * FROM "${u}" LIMIT 10;`),children:n.jsx("span",{className:"font-mono text-sm break-all",children:u})},u))}):n.jsx("div",{className:"text-sm text-gray-500",children:"Failed to load tables"})})})})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"text-lg flex items-center gap-2",children:[n.jsx(vB,{size:18}),"Admin Users"]}),n.jsx(kt,{children:"System users with their assigned roles"})]}),n.jsx(be,{children:n.jsx(pu,{className:"h-[400px] w-full",children:n.jsx("div",{className:"pr-4",children:o.isLoading?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading users..."}):o.data?n.jsx("div",{className:"space-y-3",children:o.data.map(u=>n.jsxs("div",{className:"p-3 rounded border bg-white hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:u.username}),n.jsx("p",{className:"text-xs text-gray-500",children:u.email})]}),n.jsx(rt,{variant:u.status==="active"?"default":"secondary",className:"text-xs",children:u.status})]}),u.role?n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(rt,{variant:u.role.is_admin?"destructive":"outline",className:"text-xs",children:u.role.role_name}),u.role.is_admin&&n.jsx(rt,{variant:"secondary",className:"text-xs",children:"Admin"})]}):n.jsx(rt,{variant:"outline",className:"text-xs mb-2",children:"No Role Assigned"}),u.last_login&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Last login: ",new Date(u.last_login).toLocaleDateString()]})]},u.id))}):n.jsx("div",{className:"text-sm text-gray-500",children:"Failed to load users"})})})})]}),r.length>0&&n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{className:"text-lg",children:"Recent Queries"})}),n.jsx(be,{children:n.jsx(pu,{className:"h-[300px] w-full",children:n.jsx("div",{className:"pr-4 space-y-2",children:r.map(u=>n.jsxs("div",{className:"p-3 rounded border cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>t(u.query),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(rt,{variant:u.status==="success"?"default":"destructive",className:"text-xs",children:u.status}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(u.timestamp).toLocaleTimeString()})]}),n.jsx("p",{className:"text-xs font-mono text-gray-600 break-all",children:u.query.replace(/\s+/g," ")}),u.rowCount!==void 0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[u.rowCount," rows, ",u.executionTime,"ms"]})]},u.id))})})})]})]})]})]})}var yt=function(){return yt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yt.apply(this,arguments)};function _se(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function t5(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function fh(e){return e.mode==="multiple"}function hh(e){return e.mode==="range"}function ox(e){return e.mode==="single"}var wse={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Nse(e,t){return Ot(e,"LLLL y",t)}function bse(e,t){return Ot(e,"d",t)}function jse(e,t){return Ot(e,"LLLL",t)}function Sse(e){return"".concat(e)}function Ese(e,t){return Ot(e,"cccccc",t)}function Tse(e,t){return Ot(e,"yyyy",t)}var Cse=Object.freeze({__proto__:null,formatCaption:Nse,formatDay:bse,formatMonthCaption:jse,formatWeekNumber:Sse,formatWeekdayName:Ese,formatYearCaption:Tse}),kse=function(e,t,r){return Ot(e,"do MMMM (EEEE)",r)},Ase=function(){return"Month: "},Pse=function(){return"Go to next month"},Dse=function(){return"Go to previous month"},Ose=function(e,t){return Ot(e,"cccc",t)},Fse=function(e){return"Week n. ".concat(e)},Ise=function(){return"Year: "},Rse=Object.freeze({__proto__:null,labelDay:kse,labelMonthDropdown:Ase,labelNext:Pse,labelPrevious:Dse,labelWeekNumber:Fse,labelWeekday:Ose,labelYearDropdown:Ise});function Mse(){var e="buttons",t=wse,r=CI,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Cse,labels:Rse,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Lse(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=ds(s):t&&(i=new Date(t,0,1)),a?o=g_(a):r&&(o=new Date(r,11,31)),{fromDate:i?pd(i):void 0,toDate:o?pd(o):void 0}}var r5=x.createContext(void 0);function Bse(e){var t,r=e.initialProps,s=Mse(),a=Lse(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(ox(r)||fh(r)||hh(r))&&(c=r.onSelect);var d=yt(yt(yt({},s),r),{captionLayout:l,classNames:yt(yt({},s.classNames),r.classNames),components:yt({},r.components),formatters:yt(yt({},s.formatters),r.formatters),fromDate:i,labels:yt(yt({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:yt(yt({},s.modifiers),r.modifiers),modifiersClassNames:yt(yt({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:yt(yt({},s.styles),r.styles),toDate:o});return n.jsx(r5.Provider,{value:d,children:e.children})}function tr(){var e=x.useContext(r5);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function n5(e){var t=tr(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Use(e){return n.jsx("svg",yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function s5(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=tr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Use;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Vse(e){var t,r=tr(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(QG(s,a))for(var h=ds(s),p=s.getMonth();p<=a.getMonth();p++)f.push(og(h,p));else for(var h=ds(new Date),p=0;p<=11;p++)f.push(og(h,p));var y=function(g){var w=Number(g.target.value),v=og(ds(e.displayMonth),w);e.onChange(v)},m=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:s5;return n.jsx(m,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function $se(e){var t,r=e.displayMonth,s=tr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,h=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var p=a.getFullYear(),y=i.getFullYear(),m=p;m<=y;m++)h.push(Ob(EI(new Date),m));var g=function(v){var _=Ob(ds(r),Number(v.target.value));e.onChange(_)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:s5;return n.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:h.map(function(v){return n.jsx("option",{value:v.getFullYear(),children:u(v,{locale:o})},v.getFullYear())})})}function zse(e,t){var r=x.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function qse(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nf(i,a)<0){var d=-1*(c-1);a=Aa(i,d)}return o&&Nf(a,o)<0&&(a=o),ds(a)}function Wse(){var e=tr(),t=qse(e),r=zse(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=ds(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function Hse(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=ds(e),i=ds(Aa(a,s)),o=Nf(i,a),l=[],c=0;c<o;c++){var d=Aa(a,c);l.push(d)}return r&&(l=l.reverse()),l}function Kse(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=ds(e);if(!r)return Aa(l,o);var c=Nf(r,e);if(!(c<i))return Aa(l,o)}}function Gse(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=ds(e);if(!r)return Aa(l,-o);var c=Nf(l,r);if(!(c<=0))return Aa(l,-o)}}var a5=x.createContext(void 0);function Qse(e){var t=tr(),r=Wse(),s=r[0],a=r[1],i=Hse(s,t),o=Kse(s,t),l=Gse(s,t),c=function(f){return i.some(function(h){return y_(f,h)})},d=function(f,h){c(f)||(h&&Ao(f,h)?a(Aa(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(a5.Provider,{value:u,children:e.children})}function mh(){var e=x.useContext(a5);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tj(e){var t,r=tr(),s=r.classNames,a=r.styles,i=r.components,o=mh().goToMonth,l=function(u){o(Aa(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:n5,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(Vse,{onChange:l,displayMonth:e.displayMonth}),n.jsx($se,{onChange:l,displayMonth:e.displayMonth})]})}function Yse(e){return n.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xse(e){return n.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var W0=x.forwardRef(function(e,t){var r=tr(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=yt(yt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",yt({},e,{ref:t,type:"button",className:o,style:l}))});function Zse(e){var t,r,s=tr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=u(e.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Xse,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Yse;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(W0,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(W0,{name:"next-month","aria-label":y,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(w,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function Cj(e){var t=tr().numberOfMonths,r=mh(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return y_(e.displayMonth,y)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){s&&i(s)},p=function(){a&&i(a)};return n.jsx(Zse,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:p})}function Jse(e){var t,r=tr(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:n5,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(Tj,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(Tj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(Cj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Cj,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function eae(e){var t=tr(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function tae(e,t,r){for(var s=r?Cl(new Date):Za(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Bn(s,i);a.push(o)}return a}function rae(){var e=tr(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=tae(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function nae(){var e,t=tr(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:rae;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function sae(e){var t=tr(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var G_=x.createContext(void 0);function aae(e){if(!fh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(G_.Provider,{value:t,children:e.children})}return n.jsx(iae,{initialProps:e.initialProps,children:e.children})}function iae(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var y=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!y){var m=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!m){var g=s?t5([],s):[];if(u.selected){var w=g.findIndex(function(v){return as(d,v)});g.splice(w,1)}else g.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(h){return as(h,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(G_.Provider,{value:c,children:r})}function Q_(){var e=x.useContext(G_);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function oae(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?as(a,e)&&as(s,e)?void 0:as(a,e)?{from:a,to:void 0}:as(s,e)?void 0:Di(s,e)?{from:e,to:a}:{from:s,to:e}:a?Di(e,a)?{from:a,to:e}:{from:e,to:a}:s?Ao(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Y_=x.createContext(void 0);function lae(e){if(!hh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(Y_.Provider,{value:t,children:e.children})}return n.jsx(cae,{initialProps:e.initialProps,children:e.children})}function cae(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,y,m){var g,w;(g=t.onDayClick)===null||g===void 0||g.call(t,p,y,m);var v=oae(p,s);(w=t.onSelect)===null||w===void 0||w.call(t,v,p,y,m)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],as(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:ig(i,l-1),before:Bn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Bn(i,l-1)}),!i&&o&&u.disabled.push({after:ig(o,l-1),before:Bn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Bn(i,-c+1)}),u.disabled.push({after:Bn(i,c-1)})),i&&o){var f=qa(o,i)+1,h=c-f;u.disabled.push({before:ig(i,h)}),u.disabled.push({after:Bn(o,h)})}!i&&o&&(u.disabled.push({before:Bn(o,-c+1)}),u.disabled.push({after:Bn(o,c-1)}))}return n.jsx(Y_.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function X_(){var e=x.useContext(Y_);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ym(e){return Array.isArray(e)?t5([],e):e!==void 0?[e]:[]}function dae(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=ym(a)}),t}var Pa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Pa||(Pa={}));var uae=Pa.Selected,oi=Pa.Disabled,fae=Pa.Hidden,hae=Pa.Today,yg=Pa.RangeEnd,_g=Pa.RangeMiddle,wg=Pa.RangeStart,mae=Pa.Outside;function pae(e,t,r){var s,a=(s={},s[uae]=ym(e.selected),s[oi]=ym(e.disabled),s[fae]=ym(e.hidden),s[hae]=[e.today],s[yg]=[],s[_g]=[],s[wg]=[],s[mae]=[],s);return e.fromDate&&a[oi].push({before:e.fromDate}),e.toDate&&a[oi].push({after:e.toDate}),fh(e)?a[oi]=a[oi].concat(t.modifiers[oi]):hh(e)&&(a[oi]=a[oi].concat(r.modifiers[oi]),a[wg]=r.modifiers[wg],a[_g]=r.modifiers[_g],a[yg]=r.modifiers[yg]),a}var i5=x.createContext(void 0);function xae(e){var t=tr(),r=Q_(),s=X_(),a=pae(t,r,s),i=dae(t.modifiers),o=yt(yt({},a),i);return n.jsx(i5.Provider,{value:o,children:e.children})}function o5(){var e=x.useContext(i5);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function gae(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function vae(e){return!!(e&&typeof e=="object"&&"from"in e)}function yae(e){return!!(e&&typeof e=="object"&&"after"in e)}function _ae(e){return!!(e&&typeof e=="object"&&"before"in e)}function wae(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Nae(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=qa(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=qa(e,s)>=0&&qa(a,e)>=0;return o}return a?as(a,e):s?as(s,e):!1}function bae(e){return x_(e)}function jae(e){return Array.isArray(e)&&e.every(x_)}function Sae(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(bae(r))return as(e,r);if(jae(r))return r.includes(e);if(vae(r))return Nae(e,r);if(wae(r))return r.dayOfWeek.includes(e.getDay());if(gae(r)){var s=qa(r.before,e),a=qa(r.after,e),i=s>0,o=a<0,l=Di(r.before,r.after);return l?o&&i:i||o}return yae(r)?qa(e,r.after)>0:_ae(r)?qa(r.before,e)>0:typeof r=="function"?r(e):!1})}function Z_(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return Sae(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!y_(e,r)&&(a.outside=!0),a}function Eae(e,t){for(var r=ds(e[0]),s=g_(e[e.length-1]),a,i,o=r;o<=s;){var l=Z_(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Bn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Bn(o,1)}return i||a}var Tae=365;function l5(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,h={day:Bn,week:cy,month:Aa,year:WK,startOfWeek:function(g){return a.ISOWeek?Cl(g):Za(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?TI(g):v_(g,{locale:f,weekStartsOn:c})}},p=h[r](e,s==="after"?1:-1);s==="before"&&d?p=HK([d,p]):s==="after"&&u&&(p=KK([u,p]));var y=!0;if(i){var m=Z_(p,i);y=!m.disabled&&!m.hidden}return y?p:l.count>Tae?l.lastFocused:l5(p,{moveBy:r,direction:s,context:a,modifiers:i,retry:yt(yt({},l),{count:l.count+1})})}var c5=x.createContext(void 0);function Cae(e){var t=mh(),r=o5(),s=x.useState(),a=s[0],i=s[1],o=x.useState(),l=o[0],c=o[1],d=Eae(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},h=function(g){i(g)},p=tr(),y=function(g,w){if(a){var v=l5(a,{moveBy:g,direction:w,context:p,modifiers:r});as(a,v)||(t.goToDate(v,a),h(v))}},m={focusedDay:a,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return n.jsx(c5.Provider,{value:m,children:e.children})}function J_(){var e=x.useContext(c5);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function kae(e,t){var r=o5(),s=Z_(e,r,t);return s}var ew=x.createContext(void 0);function Aae(e){if(!ox(e.initialProps)){var t={selected:void 0};return n.jsx(ew.Provider,{value:t,children:e.children})}return n.jsx(Pae,{initialProps:e.initialProps,children:e.children})}function Pae(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(ew.Provider,{value:a,children:r})}function d5(){var e=x.useContext(ew);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Dae(e,t){var r=tr(),s=d5(),a=Q_(),i=X_(),o=J_(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,m=o.focusYearBefore,g=o.focusYearAfter,w=o.focusStartOfWeek,v=o.focusEndOfWeek,_=function(ce){var q,oe,ee,we;ox(r)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,ce):fh(r)?(oe=a.onDayClick)===null||oe===void 0||oe.call(a,e,t,ce):hh(r)?(ee=i.onDayClick)===null||ee===void 0||ee.call(i,e,t,ce):(we=r.onDayClick)===null||we===void 0||we.call(r,e,t,ce)},N=function(ce){var q;h(e),(q=r.onDayFocus)===null||q===void 0||q.call(r,e,t,ce)},T=function(ce){var q;f(),(q=r.onDayBlur)===null||q===void 0||q.call(r,e,t,ce)},S=function(ce){var q;(q=r.onDayMouseEnter)===null||q===void 0||q.call(r,e,t,ce)},b=function(ce){var q;(q=r.onDayMouseLeave)===null||q===void 0||q.call(r,e,t,ce)},I=function(ce){var q;(q=r.onDayPointerEnter)===null||q===void 0||q.call(r,e,t,ce)},D=function(ce){var q;(q=r.onDayPointerLeave)===null||q===void 0||q.call(r,e,t,ce)},C=function(ce){var q;(q=r.onDayTouchCancel)===null||q===void 0||q.call(r,e,t,ce)},R=function(ce){var q;(q=r.onDayTouchEnd)===null||q===void 0||q.call(r,e,t,ce)},k=function(ce){var q;(q=r.onDayTouchMove)===null||q===void 0||q.call(r,e,t,ce)},L=function(ce){var q;(q=r.onDayTouchStart)===null||q===void 0||q.call(r,e,t,ce)},ie=function(ce){var q;(q=r.onDayKeyUp)===null||q===void 0||q.call(r,e,t,ce)},fe=function(ce){var q;switch(ce.key){case"ArrowLeft":ce.preventDefault(),ce.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":ce.preventDefault(),ce.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":ce.preventDefault(),ce.stopPropagation(),d();break;case"ArrowUp":ce.preventDefault(),ce.stopPropagation(),u();break;case"PageUp":ce.preventDefault(),ce.stopPropagation(),ce.shiftKey?m():p();break;case"PageDown":ce.preventDefault(),ce.stopPropagation(),ce.shiftKey?g():y();break;case"Home":ce.preventDefault(),ce.stopPropagation(),w();break;case"End":ce.preventDefault(),ce.stopPropagation(),v();break}(q=r.onDayKeyDown)===null||q===void 0||q.call(r,e,t,ce)},se={onClick:_,onFocus:N,onBlur:T,onKeyDown:fe,onKeyUp:ie,onMouseEnter:S,onMouseLeave:b,onPointerEnter:I,onPointerLeave:D,onTouchCancel:C,onTouchEnd:R,onTouchMove:k,onTouchStart:L};return se}function Oae(){var e=tr(),t=d5(),r=Q_(),s=X_(),a=ox(e)?t.selected:fh(e)?r.selected:hh(e)?s.selected:void 0;return a}function Fae(e){return Object.values(Pa).includes(e)}function Iae(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(Fae(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function Rae(e,t){var r=yt({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=yt(yt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function Mae(e,t,r){var s,a,i,o=tr(),l=J_(),c=kae(e,t),d=Dae(e,c),u=Oae(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var S;c.outside||l.focusedDay&&f&&as(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Iae(o,c).join(" "),p=Rae(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),m=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:sae,g=n.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),w={style:p,className:h,children:g,role:"gridcell"},v=l.focusTarget&&as(l.focusTarget,e)&&!c.outside,_=l.focusedDay&&as(l.focusedDay,e),N=yt(yt(yt({},w),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=_||v?0:-1,s)),d),T={isButton:f,isHidden:y,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:w};return T}function Lae(e){var t=x.useRef(null),r=Mae(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(W0,yt({name:"day",ref:t},r.buttonProps)):n.jsx("div",yt({},r.divProps))}function Bae(e){var t=e.number,r=e.dates,s=tr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return n.jsx(W0,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function Uae(e){var t,r,s=tr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Lae,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Bae,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},HG(f))})]})}function kj(e,t,r){for(var s=r!=null&&r.ISOWeek?TI(t):v_(t,r),a=r!=null&&r.ISOWeek?Cl(e):Za(e,r),i=qa(s,a),o=[],l=0;l<=i;l++)o.push(Bn(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?kI(u):PI(u,r),h=d.find(function(p){return p.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function Vae(e,t){var r=kj(ds(e),g_(e),t);if(t!=null&&t.useFixedWeeks){var s=GG(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=cy(i,6-s),l=kj(cy(i,1),o,t);r.push.apply(r,l)}}return r}function $ae(e){var t,r,s,a=tr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,y=Vae(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:nae,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Uae,w=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:eae;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(m,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(v){return n.jsx(g,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),n.jsx(w,{displayMonth:e.displayMonth})]})}function zae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qae=zae()?x.useLayoutEffect:x.useEffect,Ng=!1,Wae=0;function Aj(){return"react-day-picker-".concat(++Wae)}function Hae(e){var t,r=e??(Ng?Aj():null),s=x.useState(r),a=s[0],i=s[1];return qae(function(){a===null&&i(Aj())},[]),x.useEffect(function(){Ng===!1&&(Ng=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Kae(e){var t,r,s=tr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=mh().displayMonths,d=Hae(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,m=!p&&!y;a==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),h=yt(yt({},h),o.caption_start)),y&&(f.push(i.caption_end),h=yt(yt({},h),o.caption_end)),m&&(f.push(i.caption_between),h=yt(yt({},h),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Jse;return n.jsxs("div",{className:f.join(" "),style:h,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx($ae,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Gae(e){var t=tr(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function Qae(e){var t,r,s=e.initialProps,a=tr(),i=J_(),o=mh(),l=x.useState(!1),c=l[0],d=l[1];x.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=yt(yt({},a.styles.root),a.style),h=Object.keys(s).filter(function(y){return y.startsWith("data-")}).reduce(function(y,m){var g;return yt(yt({},y),(g={},g[m]=s[m],g))},{}),p=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Gae;return n.jsx("div",yt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:n.jsx(p,{children:o.displayMonths.map(function(y,m){return n.jsx(Kae,{displayIndex:m,displayMonth:y},m)})})}))}function Yae(e){var t=e.children,r=_se(e,["children"]);return n.jsx(Bse,{initialProps:r,children:n.jsx(Qse,{children:n.jsx(Aae,{initialProps:r,children:n.jsx(aae,{initialProps:r,children:n.jsx(lae,{initialProps:r,children:n.jsx(xae,{children:n.jsx(Cae,{children:t})})})})})})})}function Xae(e){return n.jsx(Yae,yt({},e,{children:n.jsx(Qae,{initialProps:e})}))}function yy({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(Xae,{showOutsideDays:r,className:Te("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Te(nf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Te(nf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(nB,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(Qk,{className:"h-4 w-4"})},...s})}yy.displayName="Calendar";const Zae=Qe.object({po_number:Qe.string().min(1,"PO number is required"),distributor_id:Qe.string().min(1,"Distributor is required"),serving_distributor:Qe.string().optional(),order_date:Qe.date({required_error:"Order date is required"}),expiry_date:Qe.date().optional(),appointment_date:Qe.date().optional(),region:Qe.string().optional(),state:Qe.string().optional(),city:Qe.string().optional(),area:Qe.string().optional(),status:Qe.string().default("Open")});function Jae(){const[e,t]=x.useState([{item_name:"",sap_code:"",quantity:1,basic_rate:"",gst_rate:"",landing_rate:""}]),{toast:r}=Mr(),s=Wr(),[,a]=Fs(),i=cd({resolver:dd(Zae),defaultValues:{po_number:"",distributor_id:"",order_date:new Date,status:"Open"}}),{data:o=[]}=Dt({queryKey:["/api/distributors"]}),l=zt({mutationFn:async p=>await kn("POST","/api/distributor-pos",p),onSuccess:()=>{r({title:"Success",description:"Distributor purchase order created successfully"}),s.invalidateQueries({queryKey:["/api/distributor-pos"]}),a("/platform-po"),i.reset(),t([{item_name:"",sap_code:"",quantity:1,basic_rate:"",gst_rate:"",landing_rate:""}])},onError:p=>{r({title:"Error",description:p.message||"Failed to create purchase order",variant:"destructive"})}}),c=()=>{t([...e,{item_name:"",sap_code:"",quantity:1,basic_rate:"",gst_rate:"",landing_rate:""}])},d=p=>{e.length>1&&t(e.filter((y,m)=>m!==p))},u=(p,y,m)=>{const g=[...e];g[p]={...g[p],[y]:m},t(g)},f=(p,y)=>{const m=parseFloat(p)||0,g=parseFloat(y)||0;return(m+m*g/100).toFixed(2)},h=p=>{const y=e.filter(g=>g.item_name.trim()&&g.quantity>0&&g.basic_rate&&g.gst_rate);if(y.length===0){r({title:"Validation Error",description:"Please add at least one valid order item",variant:"destructive"});return}const m={...p,distributor_id:parseInt(p.distributor_id)};l.mutate({header:m,items:y.map(g=>({...g,landing_rate:f(g.basic_rate,g.gst_rate)}))})};return n.jsxs("form",{onSubmit:i.handleSubmit(h),className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsx(Me,{children:"Purchase Order Details"})}),n.jsx(be,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(ke,{id:"po_number",placeholder:"Enter PO number",...i.register("po_number")}),i.formState.errors.po_number&&n.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.po_number.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"distributor_id",children:"Distributor *"}),n.jsxs(Ur,{value:i.watch("distributor_id"),onValueChange:p=>i.setValue("distributor_id",p),children:[n.jsx(Or,{children:n.jsx(Vr,{placeholder:"Select distributor"})}),n.jsx(Fr,{children:o.map(p=>n.jsx(ft,{value:p.id.toString(),children:p.distributor_name},p.id))})]}),i.formState.errors.distributor_id&&n.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.distributor_id.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"serving_distributor",children:"Serving Distributor"}),n.jsx(ke,{id:"serving_distributor",placeholder:"Enter serving distributor (optional)",...i.register("serving_distributor")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Order Date *"}),n.jsxs(gy,{children:[n.jsx(vy,{asChild:!0,children:n.jsxs(ue,{variant:"outline",className:Te("w-full justify-start text-left font-normal",!i.watch("order_date")&&"text-muted-foreground"),children:[n.jsx(Rr,{className:"mr-2 h-4 w-4"}),i.watch("order_date")?Ot(i.watch("order_date"),"PPP"):"Pick a date"]})}),n.jsx($0,{className:"w-auto p-0",children:n.jsx(yy,{mode:"single",selected:i.watch("order_date"),onSelect:p=>i.setValue("order_date",p),initialFocus:!0})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Expiry Date"}),n.jsxs(gy,{children:[n.jsx(vy,{asChild:!0,children:n.jsxs(ue,{variant:"outline",className:Te("w-full justify-start text-left font-normal",!i.watch("expiry_date")&&"text-muted-foreground"),children:[n.jsx(Rr,{className:"mr-2 h-4 w-4"}),i.watch("expiry_date")?Ot(i.watch("expiry_date"),"PPP"):"Pick a date"]})}),n.jsx($0,{className:"w-auto p-0",children:n.jsx(yy,{mode:"single",selected:i.watch("expiry_date"),onSelect:p=>i.setValue("expiry_date",p),initialFocus:!0})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"region",children:"Region"}),n.jsx(ke,{id:"region",placeholder:"Enter region",...i.register("region")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"state",children:"State"}),n.jsx(ke,{id:"state",placeholder:"Enter state",...i.register("state")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"city",children:"City"}),n.jsx(ke,{id:"city",placeholder:"Enter city",...i.register("city")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"area",children:"Area"}),n.jsx(ke,{id:"area",placeholder:"Enter area",...i.register("area")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"status",children:"Status"}),n.jsxs(Ur,{value:i.watch("status"),onValueChange:p=>i.setValue("status",p),children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"Open",children:"Open"}),n.jsx(ft,{value:"Closed",children:"Closed"}),n.jsx(ft,{value:"Cancelled",children:"Cancelled"})]})]})]})]})})]}),n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Me,{children:"Order Items"}),n.jsxs(ue,{type:"button",onClick:c,variant:"outline",size:"sm",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})}),n.jsx(be,{children:n.jsx("div",{className:"space-y-4",children:e.map((p,y)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`item_name_${y}`,children:"Item Name *"}),n.jsx(ke,{id:`item_name_${y}`,value:p.item_name,onChange:m=>u(y,"item_name",m.target.value),placeholder:"Enter item name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`sap_code_${y}`,children:"SAP Code"}),n.jsx(ke,{id:`sap_code_${y}`,value:p.sap_code,onChange:m=>u(y,"sap_code",m.target.value),placeholder:"Enter SAP code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`quantity_${y}`,children:"Quantity *"}),n.jsx(ke,{id:`quantity_${y}`,type:"number",value:p.quantity,onChange:m=>u(y,"quantity",parseInt(m.target.value)||0),placeholder:"0",min:"1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`basic_rate_${y}`,children:"Basic Rate *"}),n.jsx(ke,{id:`basic_rate_${y}`,type:"number",step:"0.01",value:p.basic_rate,onChange:m=>{u(y,"basic_rate",m.target.value),u(y,"landing_rate",f(m.target.value,p.gst_rate))},placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`gst_rate_${y}`,children:"GST Rate (%) *"}),n.jsx(ke,{id:`gst_rate_${y}`,type:"number",step:"0.01",value:p.gst_rate,onChange:m=>{u(y,"gst_rate",m.target.value),u(y,"landing_rate",f(p.basic_rate,m.target.value))},placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Landing Rate"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ke,{value:p.landing_rate,readOnly:!0,className:"bg-gray-50",placeholder:"Auto-calculated"}),e.length>1&&n.jsx(ue,{type:"button",variant:"destructive",size:"sm",onClick:()=>d(y),children:n.jsx(vi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[n.jsx(Se,{htmlFor:`hsn_code_${y}`,children:"HSN Code"}),n.jsx(ke,{id:`hsn_code_${y}`,value:p.hsn_code||"",onChange:m=>u(y,"hsn_code",m.target.value),placeholder:"Enter HSN code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`category_${y}`,children:"Category"}),n.jsx(ke,{id:`category_${y}`,value:p.category||"",onChange:m=>u(y,"category",m.target.value),placeholder:"Enter category"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`subcategory_${y}`,children:"Subcategory"}),n.jsx(ke,{id:`subcategory_${y}`,value:p.subcategory||"",onChange:m=>u(y,"subcategory",m.target.value),placeholder:"Enter subcategory"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:`total_litres_${y}`,children:"Total Litres"}),n.jsx(ke,{id:`total_litres_${y}`,type:"number",step:"0.001",value:p.total_litres||"",onChange:m=>u(y,"total_litres",m.target.value),placeholder:"0.000"})]})]},y))})})]}),n.jsx("div",{className:"flex justify-end space-x-4",children:n.jsxs(ue,{type:"submit",disabled:l.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx($f,{className:"h-4 w-4 mr-2"}),l.isPending?"Creating...":"Create Purchase Order"]})})]})}function eie(){const[,e]=Fs(),[t,r]=x.useState(""),[s,a]=x.useState(!1),i=Wr(),{toast:o}=Mr(),{data:l=[],isLoading:c,refetch:d}=Dt({queryKey:["/api/distributor-pos"]}),u=zt({mutationFn:_=>kn("DELETE",`/api/distributor-pos/${_}`),onSuccess:async()=>{console.log(" Distributor PO deletion successful, refreshing cache..."),await Promise.all([i.invalidateQueries({queryKey:["/api/distributor-pos"]}),i.refetchQueries({queryKey:["/api/distributor-pos"]})]),console.log(" Distributor PO cache invalidated and queries refetched"),setTimeout(()=>{console.log(" Distributor PO backup refetch initiated"),d()},500),o({title:"Success",description:"Distributor purchase order deleted successfully"})},onError:()=>{o({title:"Error",description:"Failed to delete distributor purchase order",variant:"destructive"})}}),f=_=>{e(`/distributor-po-details/${_.id}`)},h=async _=>{await i.invalidateQueries({queryKey:[`/api/distributor-pos/${_.id}`],type:"all"}),e(`/distributor-po-edit/${_.id}`)},p=_=>{confirm(`Are you sure you want to delete PO ${_.po_number}?`)&&(console.log(` Deleting Distributor PO ${_.po_number} (ID: ${_.id})`),i.setQueryData(["/api/distributor-pos"],N=>N?N.filter(T=>T.id!==_.id):[]),u.mutate(_.id))},y=()=>{d(),o({title:"Refreshed",description:"Distributor purchase orders refreshed successfully"})},m=()=>{const _=v.map(S=>{const{totalQuantity:b,totalValue:I}=g(S.orderItems);return{"PO Number":S.po_number,Distributor:S.distributor.distributor_name,"Order Date":Ot(new Date(S.order_date),"yyyy-MM-dd"),"Expiry Date":S.expiry_date?Ot(new Date(S.expiry_date),"yyyy-MM-dd"):"",City:S.city||"",State:S.state||"",Status:S.status||"","Total Items":S.orderItems.length,"Total Quantity":b,"Total Value":I.toFixed(2),"Created Date":Ot(new Date(S.created_at),"yyyy-MM-dd")}}),N=ns.book_new(),T=ns.json_to_sheet(_);ns.book_append_sheet(N,T,"Distributor PO Summary"),nx(N,`distributor-pos-export-${Ot(new Date,"yyyy-MM-dd")}.xlsx`),o({title:"Export Successful",description:"Distributor purchase orders exported to Excel file"})},g=_=>{const N=_.reduce((S,b)=>S+b.quantity,0),T=_.reduce((S,b)=>S+parseFloat(b.landing_rate)*b.quantity,0);return{totalQuantity:N,totalValue:T}},w=_=>{switch(_==null?void 0:_.toLowerCase()){case"open":return"default";case"closed":return"secondary";case"cancelled":return"destructive";case"expired":return"destructive";default:return"default"}},v=l.filter(_=>{const N=t&&typeof t=="string"?t.toLowerCase():"";return N?_.po_number&&typeof _.po_number=="string"&&_.po_number.toLowerCase().includes(N)||_.distributor&&_.distributor.distributor_name&&typeof _.distributor.distributor_name=="string"&&_.distributor.distributor_name.toLowerCase().includes(N)||_.city&&typeof _.city=="string"&&_.city.toLowerCase().includes(N)||_.state&&typeof _.state=="string"&&_.state.toLowerCase().includes(N):!0});return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ke,{placeholder:"Search by PO number, distributor, city...",value:t,onChange:_=>r(_.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[n.jsx(hp,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:m,children:[n.jsx(Ed,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:y,children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(_=>_.status==="Open").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Open POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:l.filter(_=>_.status==="Closed").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Closed POs"})]})}),n.jsx(ve,{children:n.jsxs(be,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(_=>_.status==="Cancelled").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancelled POs"})]})})]}),v.length===0?n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Xs,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No distributor purchase orders"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't created any distributor purchase orders yet. Create your first PO to get started."}),n.jsx(en,{href:"/distributor-po",children:n.jsxs(ue,{className:"mt-4",children:[n.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Create First PO"]})})]})})}):n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{children:["Distributor Purchase Orders (",v.length,")"]})}),n.jsx(be,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left p-4 font-medium",children:"PO Number"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Distributor"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Order Date"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Location"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Items"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Total Value"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:v.map(_=>{const{totalQuantity:N,totalValue:T}=g(_.orderItems);return n.jsxs("tr",{className:"border-b hover:bg-gray-50/50",children:[n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:_.po_number}),n.jsx("div",{className:"text-sm text-gray-500",children:Ot(new Date(_.created_at),"MMM dd, yyyy")})]}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:_.distributor.distributor_name}),n.jsx("div",{className:"text-sm text-gray-500",children:_.distributor.distributor_code})]}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:Ot(new Date(_.order_date),"MMM dd, yyyy")}),_.expiry_date&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",Ot(new Date(_.expiry_date),"MMM dd, yyyy")]})]}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:_.city||"-"}),n.jsx("div",{className:"text-sm text-gray-500",children:_.state||"-"})]}),n.jsxs("td",{className:"p-4",children:[n.jsxs("div",{className:"font-medium",children:[_.orderItems.length," items"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[N," qty"]})]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"font-medium",children:["",T.toLocaleString("en-IN")]})}),n.jsx("td",{className:"p-4",children:n.jsx(rt,{variant:w(_.status||"Open"),children:_.status||"Open"})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>f(_),children:n.jsx(on,{className:"h-4 w-4"})}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>h(_),children:n.jsx(mp,{className:"h-4 w-4"})}),n.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>p(_),className:"text-red-600 hover:text-red-700",children:n.jsx(vi,{className:"h-4 w-4"})})]})})]},_.id)})})]})})})]})]})}function tie(){const{toast:e}=Mr(),[t,r]=x.useState(""),[s,a]=x.useState(!1),[i,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,g]=x.useState(""),[w,v]=x.useState(new Set),{data:_=[],isLoading:N,refetch:T}=Dt({queryKey:["/api/distributor-order-items"]});console.log(" DistributorOrderItems Debug:",{isLoading:N,itemsCount:_.length,items:_.slice(0,2)});const{data:S=[]}=Dt({queryKey:["/api/distributors"]}),b=zt({mutationFn:async({itemId:ee,status:we})=>(await kn("PATCH",`/api/distributor-order-items/${ee}`,{status:we})).json(),onSuccess:()=>{xi.invalidateQueries({queryKey:["/api/distributor-order-items"]}),e({title:"Status updated",description:"Item status has been updated successfully"})},onError:ee=>{e({title:"Update failed",description:ee.message||"Failed to update item status",variant:"destructive"})}}),I=(ee,we)=>{b.mutate({itemId:ee,status:we})},D=zt({mutationFn:async ee=>(await kn("PATCH","/api/distributor-order-items/bulk-approve",{itemIds:ee})).json(),onSuccess:()=>{xi.invalidateQueries({queryKey:["/api/distributor-order-items"]}),v(new Set),e({title:"Approval Successful",description:`${w.size} items have been approved successfully`})},onError:ee=>{e({title:"Approval Failed",description:ee.message||"Failed to approve selected items",variant:"destructive"})}}),C=()=>{if(w.size===0){e({title:"No Items Selected",description:"Please select items to approve",variant:"destructive"});return}D.mutate(Array.from(w))},R=ee=>{const we=new Set(w);we.has(ee)?we.delete(ee):we.add(ee),v(we)},k=_.filter(ee=>{try{const we=t&&typeof t=="string"?t.toLowerCase():"",P=!we||ee.item_name&&typeof ee.item_name=="string"&&ee.item_name.toLowerCase().includes(we)||ee.po_number&&typeof ee.po_number=="string"&&ee.po_number.toLowerCase().includes(we)||ee.distributor_name&&typeof ee.distributor_name=="string"&&ee.distributor_name.toLowerCase().includes(we)||ee.sap_code&&typeof ee.sap_code=="string"&&ee.sap_code.toLowerCase().includes(we)||ee.category&&typeof ee.category=="string"&&ee.category.toLowerCase().includes(we),F=i==="all"||ee.status&&ee.status===i,U=l==="all"||ee.distributor&&ee.distributor.id&&ee.distributor.id.toString()===l,j=ee.order_date?new Date(ee.order_date):new Date,M=!d||Di(j,new Date(d))||Qs(j,new Date(d)),J=!f||Ao(j,new Date(f))||Qs(j,new Date(f));let _e=!0,le=!0;if(ee.expiry_date){const pe=new Date(ee.expiry_date);_e=!p||Di(pe,new Date(p))||Qs(pe,new Date(p)),le=!m||Ao(pe,new Date(m))||Qs(pe,new Date(m))}return P&&F&&U&&M&&J&&_e&&le}catch(we){return console.error(" Error filtering distributor order item:",we,ee),!1}}),L=()=>{w.size===k.length?v(new Set):v(new Set(k.map(ee=>ee.id)))},ie=()=>{T(),e({title:"Refreshed",description:"Distributor order items list has been refreshed"})},fe=()=>{try{const ee=k.map(F=>({"PO Number":F.po_number||"N/A",Distributor:F.distributor_name||"N/A","Item Name":F.item_name||"N/A","SAP Code":F.sap_code||"N/A","HSN Code":F.hsn_code||"N/A",Quantity:F.quantity||0,"Basic Rate":parseFloat(F.basic_rate||"0"),"GST Rate":parseFloat(F.gst_rate||"0"),"Landing Rate":parseFloat(F.landing_rate||"0"),"Item Total":parseFloat((parseFloat(F.landing_rate||"0")*(F.quantity||0)).toFixed(2)),Status:F.status||"Pending","Order Date":F.order_date?Ot(new Date(F.order_date),"yyyy-MM-dd"):"N/A","Expiry Date":F.expiry_date?Ot(new Date(F.expiry_date),"yyyy-MM-dd"):"N/A",Category:F.category||"N/A",Subcategory:F.subcategory||"N/A","Total Litres":parseFloat(F.total_litres||"0")})),we=ns.book_new(),P=ns.json_to_sheet(ee);ns.book_append_sheet(we,P,"Distributor Order Items"),nx(we,`distributor-order-items-export-${Ot(new Date,"yyyy-MM-dd")}.xlsx`),e({title:"Export Successful",description:"Distributor order items exported to Excel file"})}catch(ee){console.error(" Error exporting distributor order items:",ee),e({title:"Export Failed",description:"Failed to export distributor order items to Excel",variant:"destructive"})}},se=()=>{o("all"),c("all"),u(""),h(""),y(""),g(""),r("")},ce=k.length,q=k.reduce((ee,we)=>ee+we.quantity,0),oe=k.reduce((ee,we)=>ee+parseFloat(we.landing_rate||"0")*we.quantity,0);return N?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ke,{placeholder:"Search items, PO number, distributor...",value:t,onChange:ee=>r(ee.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[w.size>0&&n.jsx(ue,{onClick:C,disabled:D.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:D.isPending?"Approving...":`APPROVE PO LINES (${w.size})`}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[n.jsx(hp,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:fe,children:[n.jsx(Ed,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(ue,{variant:"outline",size:"sm",onClick:ie,children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s&&n.jsxs(ve,{children:[n.jsx(Oe,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Me,{className:"text-lg",children:"Filters"}),n.jsxs(ue,{variant:"ghost",size:"sm",onClick:se,children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Clear All"]})]})}),n.jsx(be,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Status"}),n.jsxs(Ur,{value:i,onValueChange:o,children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Status"}),n.jsx(ft,{value:"Pending",children:"Pending"}),n.jsx(ft,{value:"Confirmed",children:"Confirmed"}),n.jsx(ft,{value:"Shipped",children:"Shipped"}),n.jsx(ft,{value:"Delivered",children:"Delivered"}),n.jsx(ft,{value:"Cancelled",children:"Cancelled"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Distributor"}),n.jsxs(Ur,{value:l,onValueChange:c,children:[n.jsx(Or,{children:n.jsx(Vr,{})}),n.jsxs(Fr,{children:[n.jsx(ft,{value:"all",children:"All Distributors"}),S.map(ee=>n.jsx(ft,{value:ee.id.toString(),children:ee.distributor_name},ee.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Order Date From"}),n.jsx(ke,{type:"date",value:d,onChange:ee=>u(ee.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Order Date To"}),n.jsx(ke,{type:"date",value:f,onChange:ee=>h(ee.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Expiry Date From"}),n.jsx(ke,{type:"date",value:p,onChange:ee=>y(ee.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Expiry Date To"}),n.jsx(ke,{type:"date",value:m,onChange:ee=>g(ee.target.value)})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("div",{className:"text-2xl font-bold",children:ce}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Items"})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("div",{className:"text-2xl font-bold",children:q}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Quantity"})]})]})})}),n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",oe.toLocaleString("en-IN")]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})})]}),n.jsx("div",{className:"mb-4 p-3 bg-yellow-100 border border-yellow-400 rounded-md",children:n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[" DEBUG: Items loaded: ",_.length," | Filtered: ",k.length," | Loading: ",N?"Yes":"No"]})}),k.length===0?n.jsx(ve,{children:n.jsx(be,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ht,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No order items found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No distributor order items match your current search and filter criteria."})]})})}):n.jsxs(ve,{children:[n.jsx(Oe,{children:n.jsxs(Me,{children:["Distributor Order Items (",k.length,")"]})}),n.jsx(be,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left p-4 font-medium",children:n.jsx("input",{type:"checkbox",checked:w.size===k.length&&k.length>0,onChange:L,className:"rounded border-gray-300"})}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Item Details"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"PO Number"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Distributor"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Rates"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Total"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),n.jsx("th",{className:"text-left p-4 font-medium",children:"Order Date"})]})}),n.jsx("tbody",{children:k.map(ee=>{const we=parseFloat(ee.landing_rate||"0")*ee.quantity;return console.log(" Rendering item:",{id:ee.id,status:ee.status,item_name:ee.item_name,item_name_type:typeof ee.item_name,po_number:ee.po_number,po_number_type:typeof ee.po_number,distributor_name:ee.distributor_name,distributor_name_type:typeof ee.distributor_name,sap_code:ee.sap_code,sap_code_type:typeof ee.sap_code,category:ee.category,category_type:typeof ee.category}),n.jsxs("tr",{className:"border-b hover:bg-gray-50/50",children:[n.jsx("td",{className:"p-4",children:n.jsx("input",{type:"checkbox",checked:w.has(ee.id),onChange:()=>R(ee.id),className:"rounded border-gray-300"})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:ee.item_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[ee.sap_code&&`SAP: ${ee.sap_code}`,ee.hsn_code&&` | HSN: ${ee.hsn_code}`]}),ee.category&&n.jsxs("div",{className:"text-sm text-gray-500",children:[ee.category,ee.subcategory&&` > ${ee.subcategory}`]})]}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"font-medium",children:ee.po_number})}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"font-medium",children:ee.distributor_name})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:ee.quantity}),ee.total_litres&&parseFloat(ee.total_litres)>0&&n.jsxs("div",{className:"text-sm text-gray-500",children:[parseFloat(ee.total_litres).toFixed(3),"L"]})]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{children:["Basic: ",parseFloat(ee.basic_rate||"0").toFixed(2)]}),n.jsxs("div",{children:["GST: ",parseFloat(ee.gst_rate||"0").toFixed(2),"%"]}),n.jsxs("div",{children:["Landing: ",parseFloat(ee.landing_rate||"0").toFixed(2)]})]})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"font-medium",children:["",we.toLocaleString("en-IN")]})}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"relative",children:n.jsxs("select",{value:ee.status||"PENDING",onChange:P=>I(ee.id,P.target.value),disabled:b.isPending,className:"w-full h-10 px-3 py-2 bg-white border-2 border-blue-300 rounded-md text-sm font-semibold shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200 cursor-pointer hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",style:{minWidth:"140px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#f8fafc",color:ee.status==="CANCELLED"?"#dc2626":ee.status==="DELIVERED"?"#059669":ee.status==="SHIPPED"?"#0284c7":ee.status==="CONFIRMED"?"#7c3aed":"#6b7280"},children:[n.jsx("option",{value:"PENDING",children:" Pending"}),n.jsx("option",{value:"CONFIRMED",children:" Confirmed"}),n.jsx("option",{value:"SHIPPED",children:" Shipped"}),n.jsx("option",{value:"DELIVERED",children:" Delivered"}),n.jsx("option",{value:"CANCELLED",children:" Cancelled"})]})})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium",children:Ot(new Date(ee.order_date),"MMM dd, yyyy")}),ee.expiry_date&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Exp: ",Ot(new Date(ee.expiry_date),"MMM dd, yyyy")]})]})]},ee.id)})})]})})})]})]})}function rie({onCreatePO:e}){return n.jsxs(of,{children:[n.jsx(lf,{asChild:!0,children:n.jsxs(ue,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"New PO",n.jsx(Ci,{className:"h-4 w-4 ml-2"})]})}),n.jsx(ld,{align:"end",className:"w-56",children:n.jsxs(Br,{onClick:e,className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx(xn,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Create PO"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Manual PO creation"})]})]})})]})}function nie(){const[e,t]=x.useState("list"),[r,s]=x.useState(!1);return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx(ve,{className:"shadow-lg border-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:n.jsx(Oe,{className:"border-b border-blue-100 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Me,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Distributor Purchase Orders"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Create and manage purchase orders for distributors"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rie,{onCreatePO:()=>{s(!0)}}),n.jsx("div",{className:"flex items-center space-x-4 text-sm",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"System Online"})]})})]})]})})}),n.jsx(ve,{className:"shadow-lg border-0",children:n.jsxs(u_,{value:e,onValueChange:t,className:"w-full",children:[!r&&n.jsx(Oe,{className:"border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-gray-800 dark:to-gray-900",children:n.jsxs(Wp,{className:"grid w-full grid-cols-2 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm shadow-md rounded-xl",children:[n.jsxs(Sl,{value:"list",className:"flex items-center space-x-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-600 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[n.jsx(Xk,{className:"h-4 w-4"}),n.jsx("span",{children:"View POs"})]}),n.jsxs(Sl,{value:"order-items",className:"flex items-center space-x-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white",children:[n.jsx(Gk,{className:"h-4 w-4"}),n.jsx("span",{children:"Order Items"})]})]})}),n.jsxs(be,{className:"p-0",children:[!r&&n.jsxs(n.Fragment,{children:[n.jsx(El,{value:"list",className:"mt-0",children:n.jsx("div",{className:"p-6",children:n.jsx(eie,{})})}),n.jsx(El,{value:"order-items",className:"mt-0",children:n.jsx("div",{className:"p-6",children:n.jsx(tie,{})})})]}),r&&n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>s(!1),className:"flex items-center space-x-2",children:[n.jsx($t,{className:"h-4 w-4"}),n.jsx("span",{children:"Back"})]}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Create New Distributor Purchase Order"})]})}),n.jsx(Jae,{})]})]})]})})]})}function sie(){return n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:n.jsx(nie,{})})})}const Pj=[{id:"amazon",name:"Amazon",description:"Upload Amazon secondary sales data",icon:Ls},{id:"zepto",name:"Zepto",description:"Upload Zepto secondary sales data",icon:Ls},{id:"blinkit",name:"Blinkit",description:"Upload Blinkit secondary sales data",icon:Ls},{id:"swiggy",name:"Swiggy",description:"Upload Swiggy secondary sales data",icon:Ls},{id:"jiomartsale",name:"Jio Mart Sale",description:"Upload Jio Mart Sale secondary sales data",icon:Ls},{id:"jiomartcancel",name:"Jio Mart Cancel",description:"Upload Jio Mart Cancel secondary sales data",icon:Ls},{id:"bigbasket",name:"BigBasket",description:"Upload BigBasket secondary sales data",icon:Ls},{id:"flipkart-grocery",name:"Flipkart Grocery",description:"Upload Flipkart Grocery secondary sales data (2-month auto range)",icon:Ls}],su=[{id:"jivo-wellness",name:"Jivo Wellness",description:"Jivo Wellness products sales data"},{id:"jivo-mart",name:"Jivo Mart",description:"Jivo Mart products sales data"},{id:"marketplace",name:"MarketPlace",description:"MarketPlace products sales data"},{id:"chirag",name:"Chirag",description:"Chirag business unit sales data"}],Dj=[{id:"daily",name:"Daily Report",description:"Upload daily sales report",icon:Rr},{id:"date-range",name:"Date Range Report",description:"Upload sales report for a specific date range",icon:Rr},{id:"2-month",name:"2-Month Auto Range",description:"Automatic 2-month rolling range (increments daily)",icon:Hm}];function aie(){var ie,fe,se,ce,q,oe,ee,we,P,F,U;const[e,t]=x.useState("platform"),[r,s]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState({startDate:"",endDate:""}),[u,f]=x.useState(null),[h,p]=x.useState(null),[y,m]=x.useState(!1),{toast:g}=Mr(),w=Wr(),v=Pj.find(j=>j.id===r),_=su.find(j=>j.id===a),N=()=>r==="flipkart-grocery"?Dj.filter(j=>j.id==="2-month"):Dj.filter(j=>j.id!=="2-month"),T=()=>r==="amazon"?su.filter(j=>j.id==="jivo-wellness"||j.id==="jivo-mart"):r==="flipkart-grocery"?su.filter(j=>j.id==="jivo-mart"||j.id==="chirag"):["zepto","blinkit","swiggy","jiomartsale","jiomartcancel","bigbasket"].includes(r)?su.filter(j=>j.id==="jivo-mart"):su,S=zt({mutationFn:async j=>{const M=new FormData;if(M.append("file",j),M.append("platform",r),M.append("businessUnit",a),M.append("periodType",o),o==="date-range")M.append("startDate",c.startDate),M.append("endDate",c.endDate);else if(o==="2-month"){const _e=new Date,le=Math.floor((_e.getTime()-new Date(_e.getFullYear(),0,0).getTime())/(1e3*60*60*24)),pe=new Date(_e);pe.setMonth(pe.getMonth()-2),pe.setDate(pe.getDate()+le%30);const He=new Date(_e);He.setDate(He.getDate()+le%30),M.append("startDate",pe.toISOString().split("T")[0]),M.append("endDate",He.toISOString().split("T")[0])}const J=await fetch("/api/secondary-sales/preview",{method:"POST",body:M});if(!J.ok){const _e=await J.json();throw new Error(_e.error||"Failed to preview file")}return J.json()},onSuccess:j=>{p(j),t("preview"),g({title:"File parsed successfully",description:`Found ${j.totalItems||0} items`})},onError:j=>{g({title:"Failed to parse file",description:j.message,variant:"destructive"})}}),b=zt({mutationFn:async()=>{if(!u||!r||!a)throw new Error("Missing required data");const j=new FormData;if(j.append("file",u),j.append("platform",r),j.append("businessUnit",a),j.append("periodType",o),o==="date-range")j.append("startDate",c.startDate),j.append("endDate",c.endDate);else if(o==="2-month"){const J=new Date,_e=Math.floor((J.getTime()-new Date(J.getFullYear(),0,0).getTime())/(1e3*60*60*24)),le=new Date(J);le.setMonth(le.getMonth()-2),le.setDate(le.getDate()+_e%30);const pe=new Date(J);pe.setDate(pe.getDate()+_e%30),j.append("startDate",le.toISOString().split("T")[0]),j.append("endDate",pe.toISOString().split("T")[0])}const M=await fetch(`/api/secondary-sales/import/${r}`,{method:"POST",body:j});if(!M.ok){const J=await M.json();throw M.status===409?new Error(`Duplicate File: ${J.message||"This file has already been imported into the database."}`):new Error(J.error||"Failed to import data")}return M.json()},onSuccess:j=>{g({title:"Data imported successfully",description:`Imported ${j.totalItems||0} items for ${v==null?void 0:v.name}`}),t("platform"),s(""),i(""),l(""),d({startDate:"",endDate:""}),f(null),p(null),w.invalidateQueries({queryKey:[`/api/secondary-sales/${r}`]})},onError:j=>{g({title:"Failed to import data",description:j.message,variant:"destructive"})}}),I=async j=>{j&&(f(j),await S.mutateAsync(j))},D=j=>{j.preventDefault(),j.stopPropagation(),j.type==="dragenter"||j.type==="dragover"?m(!0):j.type==="dragleave"&&m(!1)},C=j=>{j.preventDefault(),j.stopPropagation(),m(!1);const M=j.dataTransfer.files;M&&M[0]&&I(M[0])},R=j=>{const M=j.target.files;M&&M[0]&&I(M[0])},k=()=>{switch(e){case"business-unit":t("platform"),s("");break;case"period-type":t("business-unit"),i("");break;case"date-range":t("period-type"),l("");break;case"upload":t(o==="date-range"?"date-range":"period-type");break;case"preview":t("upload"),f(null),p(null);break}},L=()=>{t("platform"),s(""),i(""),l(""),d({startDate:"",endDate:""}),f(null),p(null)};return n.jsx("div",{className:"container mx-auto py-4 sm:py-8 px-4 max-h-screen overflow-y-auto",style:{scrollbarWidth:"thin"},children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Secondary Sales"}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Upload and manage secondary sales data from various platforms"})]}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 flex-wrap overflow-x-auto pb-2",children:[n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="platform"?"text-blue-600":["business-unit","period-type","date-range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="platform"?"bg-blue-100 text-blue-600":["business-unit","period-type","date-range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Platform"})]}),n.jsx(ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="business-unit"?"text-blue-600":["period-type","date-range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="business-unit"?"bg-blue-100 text-blue-600":["period-type","date-range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"2"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Business"})]}),n.jsx(ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="period-type"?"text-blue-600":["date-range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="period-type"?"bg-blue-100 text-blue-600":["date-range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"3"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Period"})]}),n.jsx(ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),o==="date-range"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="date-range"?"text-blue-600":["upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="date-range"?"bg-blue-100 text-blue-600":["upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"4"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Dates"})]}),n.jsx(ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"})]}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="upload"?"text-blue-600":e==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="upload"?"bg-blue-100 text-blue-600":e==="preview"?"bg-green-100 text-green-600":"bg-gray-100"}`,children:o==="date-range"?"5":"4"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Upload"})]}),n.jsx(ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${e==="preview"?"text-blue-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${e==="preview"?"bg-blue-100 text-blue-600":"bg-gray-100"}`,children:o==="date-range"?"6":"5"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:"Preview"})]})]})}),e==="platform"&&n.jsxs(ve,{className:"max-h-[70vh] overflow-y-auto",style:{scrollbarWidth:"thin"},children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Select Platform"}),n.jsx(kt,{children:"Choose the platform for which you want to upload secondary sales data"})]}),n.jsx(be,{children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Pj.map(j=>n.jsx("div",{className:`p-3 sm:p-4 border rounded-lg cursor-pointer transition-all duration-200 hover:bg-gray-50 hover:shadow-md ${r===j.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200"}`,onClick:()=>{s(j.id),t("business-unit")},children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-2 sm:space-y-0 sm:space-x-3 text-center sm:text-left",children:[n.jsx(j.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:j.name}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:j.description})]})]})},j.id))})})]}),e==="business-unit"&&n.jsxs(ve,{className:"max-h-[70vh] overflow-y-auto",style:{scrollbarWidth:"thin"},children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Select Business Unit"}),n.jsxs(kt,{children:["Choose the business unit for ",v==null?void 0:v.name," secondary sales data"]})]}),n.jsxs(be,{children:[n.jsx("div",{className:"grid gap-4",children:T().map(j=>n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:bg-gray-50 ${a===j.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>i(j.id),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ta,{className:"w-8 h-8 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:j.name}),n.jsx("p",{className:"text-sm text-gray-600",children:j.description})]})]})},j.id))}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:k,className:"flex items-center space-x-2",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),a&&n.jsxs(ue,{onClick:()=>t("period-type"),className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Continue"}),n.jsx(ts,{className:"w-4 h-4"})]})]})]})]}),e==="period-type"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Select Period Type"}),n.jsx(kt,{children:"Choose whether you want to upload daily data or data for a specific date range"})]}),n.jsxs(be,{children:[n.jsx("div",{className:"grid gap-4",children:N().map(j=>{const M=j.icon;return n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:bg-gray-50 ${o===j.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>l(j.id),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(M,{className:"w-8 h-8 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:j.name}),n.jsx("p",{className:"text-sm text-gray-600",children:j.description})]})]})},j.id)})}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:k,className:"flex items-center space-x-2",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),o&&n.jsxs(ue,{onClick:()=>{t(o==="daily"||o==="2-month"?"upload":"date-range")},className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Continue"}),n.jsx(ts,{className:"w-4 h-4"})]})]})]})]}),e==="date-range"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Select Date Range"}),n.jsxs(kt,{children:["Choose the start and end dates for your ",v==null?void 0:v.name," data upload"]})]}),n.jsxs(be,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{htmlFor:"start-date",children:"Start Date"}),n.jsx(ke,{id:"start-date",type:"date",value:c.startDate,onChange:j=>d(M=>({...M,startDate:j.target.value})),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(Se,{htmlFor:"end-date",children:"End Date"}),n.jsx(ke,{id:"end-date",type:"date",value:c.endDate,onChange:j=>d(M=>({...M,endDate:j.target.value})),className:"mt-1"})]})]}),c.startDate&&c.endDate&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Selected Range:"})," ",new Date(c.startDate).toLocaleDateString()," to ",new Date(c.endDate).toLocaleDateString()]})}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:k,className:"flex items-center space-x-2",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),c.startDate&&c.endDate&&n.jsxs(ue,{onClick:()=>t("upload"),className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Continue"}),n.jsx(ts,{className:"w-4 h-4"})]})]})]})]}),e==="upload"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsx(Me,{children:"Upload File"}),n.jsxs(kt,{children:["Upload ",v==null?void 0:v.name," secondary sales data for ",_==null?void 0:_.name,o==="daily"&&" (Daily data)",o==="2-month"&&" (2-Month Auto Range)",o==="date-range"&&c.startDate&&c.endDate&&` (${new Date(c.startDate).toLocaleDateString()} to ${new Date(c.endDate).toLocaleDateString()})`]})]}),n.jsxs(be,{children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${y?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:D,onDragLeave:D,onDragOver:D,onDrop:C,children:[n.jsx(cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:"Drop your file here"}),n.jsx("p",{className:"text-gray-600",children:"or click to browse for CSV, Excel, or XML files"})]}),n.jsx(ke,{type:"file",accept:".csv,.xlsx,.xls,.xml",onChange:R,className:"hidden",id:"file-upload"}),n.jsx(Se,{htmlFor:"file-upload",className:"inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700 transition-colors",children:"Browse Files"})]}),n.jsx("div",{className:"mt-6 flex justify-between",children:n.jsxs(ue,{variant:"outline",onClick:k,className:"flex items-center space-x-2",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]})})]})]}),e==="preview"&&h&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(ve,{children:n.jsxs(Oe,{className:"pb-4",children:[n.jsxs(Me,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[n.jsx(on,{className:"w-5 h-5"}),n.jsx("span",{children:"Preview Data"})]}),n.jsxs(kt,{className:"text-sm",children:["Review the parsed data before importing to ",v==null?void 0:v.name," - ",_==null?void 0:_.name]})]})}),n.jsxs(ve,{children:[n.jsx(Oe,{className:"pb-3",children:n.jsx(Me,{className:"text-base sm:text-lg",children:"Summary Statistics"})}),n.jsx(be,{children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:h.totalItems||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Total Items"})]}),h.platform==="amazon"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((ie=h.summary)==null?void 0:ie.totalOrderedUnits)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Ordered Units"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg sm:text-xl font-bold text-purple-600",children:["",((se=(fe=h.summary)==null?void 0:fe.totalOrderedRevenue)==null?void 0:se.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"Ordered Revenue"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-orange-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg sm:text-xl font-bold text-orange-600",children:["",((q=(ce=h.summary)==null?void 0:ce.totalShippedRevenue)==null?void 0:q.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-xs sm:text-sm text-orange-600",children:"Shipped Revenue"})]})]}),["zepto","blinkit","swiggy","jiomartsale","jiomartcancel","bigbasket","flipkart-grocery"].includes(h.platform||"")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((oe=h.summary)==null?void 0:oe.totalRecords)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Total Records"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg sm:text-xl font-bold text-purple-600",children:["",((we=(ee=h.summary)==null?void 0:ee.totalSalesValue)==null?void 0:we.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"Total Sales Value"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-orange-50 rounded-lg",children:[n.jsx("div",{className:"text-lg sm:text-xl font-bold text-orange-600",children:((P=h.summary)==null?void 0:P.uniqueProducts)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-orange-600",children:"Unique Products"})]})]})]})})]}),n.jsxs(ve,{children:[n.jsx(Oe,{className:"pb-3",children:n.jsx(Me,{className:"text-base sm:text-lg",children:"Import Information"})}),n.jsx(be,{children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Business Unit:"}),n.jsx("div",{className:"font-medium text-sm sm:text-base",children:h.businessUnit})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Period Type:"}),n.jsx("div",{className:"font-medium text-sm sm:text-base",children:h.periodType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Period:"}),n.jsx("div",{className:"font-medium text-sm sm:text-base",children:h.periodType==="daily"?new Date(h.reportDate||"").toLocaleDateString():`${new Date(h.periodStart||"").toLocaleDateString()} - ${new Date(h.periodEnd||"").toLocaleDateString()}`})]})]})})]}),n.jsxs(ve,{children:[n.jsxs(Oe,{className:"pb-3",children:[n.jsx(Me,{className:"text-base sm:text-lg",children:"Data Preview"}),n.jsxs(kt,{className:"text-sm",children:["First ",((F=h.items)==null?void 0:F.length)||0," records from your file"]})]}),n.jsxs(be,{className:"p-0",children:[h.items&&Array.isArray(h.items)&&h.items.length>0?n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"max-h-48 sm:max-h-60 overflow-y-auto",style:{scrollbarWidth:"thin"},children:n.jsxs(Hn,{children:[n.jsx(Kn,{className:"sticky top-0 bg-white shadow-sm z-10",children:n.jsxs(Yt,{children:[h.platform==="amazon"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"ASIN"}),n.jsx(X,{className:"min-w-[250px] px-4 py-3 font-semibold",children:"Product Title"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Brand"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Ordered Units"}),n.jsx(X,{className:"text-right min-w-[120px] px-4 py-3 font-semibold",children:"Ordered Revenue"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Shipped Units"}),n.jsx(X,{className:"text-right min-w-[120px] px-4 py-3 font-semibold",children:"Shipped Revenue"})]}),h.platform==="zepto"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"SKU Name"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Category"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"Brand"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"City"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Units Sold"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"GMV"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"ASP"})]}),h.platform==="blinkit"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Item Name"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Category"}),n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Manufacturer"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"City"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Qty Sold"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Total Value"})]}),h.platform==="swiggy"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"Brand"}),n.jsx(X,{className:"min-w-[200px] px-4 py-3 font-semibold",children:"Product Name"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"City"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Area"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Category"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Units"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"GMV"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Base MRP"})]}),h.platform==="jiomartsale"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Shipment Number"}),n.jsx(X,{className:"min-w-[200px] px-4 py-3 font-semibold",children:"Product Title"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"SKU"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Shipment Status"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Qty"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"MRP"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Item Total"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Payment Method"})]}),h.platform==="jiomartcancel"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Shipment Number"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"EAN"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"SKU"}),n.jsx(X,{className:"min-w-[200px] px-4 py-3 font-semibold",children:"Product"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Status"}),n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Reason"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Quantity"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Amount"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Payment Method"})]}),h.platform==="bigbasket"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Brand"}),n.jsx(X,{className:"min-w-[200px] px-4 py-3 font-semibold",children:"SKU Description"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Category"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"City"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"SKU Weight"}),n.jsx(X,{className:"text-right min-w-[80px] px-4 py-3 font-semibold",children:"Quantity"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Total MRP"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Total Sales"})]}),h.platform==="flipkart-grocery"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Tenant ID"}),n.jsx(X,{className:"min-w-[150px] px-4 py-3 font-semibold",children:"Retailer Name"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"FSN"}),n.jsx(X,{className:"min-w-[200px] px-4 py-3 font-semibold",children:"Product Name"}),n.jsx(X,{className:"min-w-[120px] px-4 py-3 font-semibold",children:"Category"}),n.jsx(X,{className:"min-w-[100px] px-4 py-3 font-semibold",children:"Brand"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"MRP"}),n.jsx(X,{className:"text-right min-w-[100px] px-4 py-3 font-semibold",children:"Total Qty"}),n.jsx(X,{className:"text-right min-w-[120px] px-4 py-3 font-semibold",children:"Total Sales Value"})]})]})}),n.jsx(Gn,{children:h.items.map((j,M)=>n.jsxs(Yt,{className:"hover:bg-gray-50 border-b",children:[h.platform==="amazon"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.asin||"N/A",children:j.asin||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[250px]",title:j.product_title||"N/A",children:j.product_title||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.brand||"N/A",children:j.brand||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.ordered_units||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.ordered_revenue||"0").toFixed(2)]}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.shipped_units||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.shipped_revenue||"0").toFixed(2)]})]}),h.platform==="zepto"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.sku_name||"N/A",children:j.sku_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.sku_category||"N/A",children:j.sku_category||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.brand_name||"N/A",children:j.brand_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.city||"N/A",children:j.city||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.sales_qty_units||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.gmv||"0").toFixed(2)]}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",j.sales_qty_units&&parseFloat(j.gmv||"0")&&j.sales_qty_units>0?(parseFloat(j.gmv||"0")/j.sales_qty_units).toFixed(2):parseFloat(j.mrp||"0").toFixed(2)]})]}),h.platform==="blinkit"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.item_name||"N/A",children:j.item_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.category||"N/A",children:j.category||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.manufacturer_name||"N/A",children:j.manufacturer_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.city_name||"N/A",children:j.city_name||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.qty_sold||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.mrp||"0").toFixed(2)]})]}),h.platform==="swiggy"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.brand||"N/A",children:j.brand||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[200px]",title:j.product_name||"N/A",children:j.product_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.city||"N/A",children:j.city||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.area_name||"N/A",children:j.area_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.l1_category||"N/A",children:j.l1_category||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.units_sold||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.gmv||"0").toFixed(2)]}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.base_mrp||"0").toFixed(2)]})]}),h.platform==="jiomartsale"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.shipment_number||"N/A",children:j.shipment_number||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[200px]",title:j.product_title||"N/A",children:j.product_title||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.sku||"N/A",children:j.sku||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.shipment_status||"N/A",children:j.shipment_status||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.qty||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.mrp||"0").toFixed(2)]}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.item_total||"0").toFixed(2)]}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.payment_method_used||"N/A",children:j.payment_method_used||"N/A"})})]}),h.platform==="jiomartcancel"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.shipment_number||"N/A",children:j.shipment_number||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.ean||"N/A",children:j.ean||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.sku||"N/A",children:j.sku||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[200px]",title:j.product||"N/A",children:j.product||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.status||"N/A",children:j.status||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.reason||"N/A",children:j.reason||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.quantity||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.amount||"0").toFixed(2)]}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.payment_method||"N/A",children:j.payment_method||"N/A"})})]}),h.platform==="bigbasket"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.brand_name||"N/A",children:j.brand_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[200px]",title:j.sku_description||"N/A",children:j.sku_description||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.leaf_slug||"N/A",children:j.leaf_slug||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.source_city_name||"N/A",children:j.source_city_name||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.sku_weight||"N/A",children:j.sku_weight||"N/A"})}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.total_quantity||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.total_mrp||"0").toFixed(2)]}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.total_sales||"0").toFixed(2)]})]}),h.platform==="flipkart-grocery"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"font-medium px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.tenantId||"N/A",children:j.tenantId||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[150px]",title:j.retailerName||"N/A",children:j.retailerName||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.fsn||"N/A",children:j.fsn||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[200px]",title:j.productName||"N/A",children:j.productName||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[120px]",title:j.category||"N/A",children:j.category||"N/A"})}),n.jsx(Z,{className:"px-4 py-3",children:n.jsx("div",{className:"truncate max-w-[100px]",title:j.brand||"N/A",children:j.brand||"N/A"})}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.mrp||"0").toFixed(2)]}),n.jsx(Z,{className:"text-right px-4 py-3",children:j.totalSalesQty||0}),n.jsxs(Z,{className:"text-right px-4 py-3",children:["",parseFloat(j.totalSalesValue||"0").toFixed(2)]})]})]},M))})]})})}),n.jsxs("div",{className:"p-3 bg-gray-50 text-center text-sm text-gray-600 border-t",children:["Showing all ",h.items.length," items  Scroll vertically and horizontally to view more"]})]}):n.jsx("div",{className:"mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg text-center",children:n.jsx("p",{className:"text-gray-600",children:"No data available to display"})}),n.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-green-200 mt-4 mb-4 p-4 rounded-lg shadow-lg",children:n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-300 rounded-lg p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Ready to Import Data"}),n.jsxs("p",{className:"text-sm text-gray-700 mb-4 font-medium",children:["Import ",h.totalItems||0," items into ",v==null?void 0:v.name," - ",_==null?void 0:_.name," database"]}),n.jsx(ue,{onClick:()=>b.mutate(),disabled:b.isPending||!((U=h.items)!=null&&U.length),className:"bg-green-600 hover:bg-green-700 text-white font-bold px-10 py-5 text-xl min-w-[250px] shadow-xl border-2 border-green-700",size:"lg",children:b.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"w-7 h-7 mr-3"}),"Import to Database"]})})]})})}),n.jsx("div",{className:"bg-white border-t pt-4 mt-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[n.jsxs(ue,{variant:"outline",onClick:k,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs(ue,{variant:"outline",onClick:L,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[n.jsx(Hm,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Over"})]})]})})]})]})]}),S.isPending&&n.jsx(ve,{className:"mt-4",children:n.jsx(be,{className:"py-8",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Parsing file..."})]})})})]})})}const Oj=[{id:"jiomart",name:"Jio Mart",description:"Upload Jio Mart inventory data",icon:ht},{id:"blinkit",name:"Blinkit",description:"Upload Blinkit inventory data",icon:ht},{id:"amazon",name:"Amazon",description:"Upload Amazon inventory data (XLSX/CSV)",icon:ht},{id:"swiggy",name:"Swiggy",description:"Upload Swiggy inventory data",icon:ht},{id:"flipkart",name:"FlipKart",description:"Upload FlipKart inventory data (CSV)",icon:ht},{id:"zepto",name:"Zepto",description:"Upload Zepto inventory data (CSV)",icon:ht},{id:"bigbasket",name:"BigBasket",description:"Upload BigBasket inventory data (CSV)",icon:ht}],bg=[{id:"jm",name:"Jivo Mart",description:"Jivo Mart products inventory data"},{id:"jw",name:"Jivo Wellness",description:"Jivo Wellness products inventory data"}],Fj=[{id:"daily",name:"Daily Report",description:"Upload daily inventory report",icon:Rr},{id:"range",name:"Date Range Report",description:"Upload inventory report for a specific date range",icon:Rr}];function iie(){var M,J,_e,le,pe,He,Ye,Pt,pt,rr,mt,We,nr,cr,Nr,br,te,he,je,Ke,$e,Ie,Xe,K,de;const[e,t]=x.useState("platform"),[r,s]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState({startDate:"",endDate:""}),[u,f]=x.useState(null),[h,p]=x.useState(null),[y,m]=x.useState(!1),[g,w]=x.useState(""),[v,_]=x.useState(!1),[N,T]=x.useState(0),[S,b]=x.useState(!1),[I,D]=x.useState(!1),{toast:C}=Mr();x.useEffect(()=>{const G=()=>{b(window.innerWidth<768)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const R=async G=>{const Ae=await G.arrayBuffer(),ye=await crypto.subtle.digest("SHA-256",Ae);return Array.from(new Uint8Array(ye)).map(at=>at.toString(16).padStart(2,"0")).join("")},k=Oj.find(G=>G.id===r),L=bg.find(G=>G.id===a),ie=()=>r==="amazon"?bg:bg.filter(G=>G.id==="jm"),fe=zt({mutationFn:async G=>{_(!0),T(10);const Ae=await R(G);w(Ae),T(30);const ye=new FormData;ye.append("file",G),ye.append("platform",r),ye.append("businessUnit",a),ye.append("periodType",o),ye.append("fileHash",Ae),o==="range"&&(ye.append("periodStart",c.startDate),ye.append("periodEnd",c.endDate)),T(60);const gt=await fetch("/api/inventory/preview",{method:"POST",body:ye});if(T(80),!gt.ok){const at=await gt.json(),et=new Error(at.error||"Failed to preview file");throw et.response={status:gt.status,data:at},et}return T(100),gt.json()},onSuccess:G=>{p(G),t("preview"),_(!1),T(0),C({title:"File parsed successfully",description:`Found ${G.totalItems||0} items`,duration:3e3})},onError:G=>{_(!1),T(0),C({title:"Preview Error",description:G.message||"Unable to preview file. Please try again.",variant:"destructive",duration:5e3})}}),se=zt({mutationFn:async()=>{if(!u||!r||!a)throw new Error("Missing required data");_(!0),T(10);const G=new FormData;G.append("file",u),G.append("platform",r),G.append("businessUnit",a),G.append("periodType",o),G.append("fileHash",g),o==="range"&&(G.append("startDate",c.startDate),G.append("endDate",c.endDate)),T(50);const Ae=await fetch("/api/inventory/import",{method:"POST",body:G});if(T(80),!Ae.ok){const ye=await Ae.json(),gt=new Error(ye.error||"Failed to import data");throw gt.response={status:Ae.status,data:ye},gt}return T(100),Ae.json()},onSuccess:G=>{_(!1),T(0),xi.invalidateQueries({queryKey:["/api/inventory"]}),C({title:"Data imported successfully",description:`Imported ${G.importedCount||0} items to ${G.targetTable}`,duration:4e3}),ee()},onError:G=>{var Ae;if(_(!1),T(0),((Ae=G.response)==null?void 0:Ae.status)===409){const ye=G.response.data;C({title:"Already Imported",description:ye.message||"This file has already been successfully imported. The data is already in your database.",variant:"default",duration:6e3})}else C({title:"Import failed",description:G.message,variant:"destructive",duration:5e3})}}),ce=async G=>{f(G),await fe.mutateAsync(G)},q=G=>{var ye;const Ae=(ye=G.target.files)==null?void 0:ye[0];Ae&&ce(Ae)},oe=()=>{switch(e){case"business-unit":t("platform");break;case"period-type":t("business-unit");break;case"range":t("period-type");break;case"upload":t("range");break;case"preview":t("upload"),p(null);break}},ee=()=>{t("platform"),s(""),i(""),l(""),d({startDate:"",endDate:""}),f(null),p(null)},we=G=>{s(G),t("business-unit")},P=G=>{i(G),t("period-type")},F=G=>{l(G),t("range")},U=()=>{(o==="daily"||o==="range"&&c.startDate&&c.endDate)&&t("upload")},j=()=>n.jsxs("div",{className:"p-4 h-full bg-gray-50",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Navigation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Inventory workflow steps"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="platform"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"1"}),n.jsx("span",{className:"font-medium",children:"Platform"}),r&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="business-unit"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"2"}),n.jsx("span",{className:"font-medium",children:"Business Unit"}),a&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="period-type"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"3"}),n.jsx("span",{className:"font-medium",children:"Period Type"}),o&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="range"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"4"}),n.jsx("span",{className:"font-medium",children:"Date Range"}),(o==="daily"||c.startDate&&c.endDate)&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="upload"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"5"}),n.jsx("span",{className:"font-medium",children:"Upload"}),u&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e==="preview"?"bg-blue-100 text-blue-700":"bg-white"}`,children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:"6"}),n.jsx("span",{className:"font-medium",children:"Preview"}),h&&n.jsx(Ks,{className:"w-4 h-4 text-green-500"})]})]}),v&&n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(cs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Uploading..."})]}),n.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})}),n.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[N,"% complete"]})]})]});return n.jsxs("div",{className:"container mx-auto p-4 sm:p-6 max-w-6xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Inventory Management"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Upload and manage inventory data with step-by-step workflow"})]}),S&&n.jsxs(uP,{open:I,onOpenChange:D,children:[n.jsx(fP,{asChild:!0,children:n.jsx(ue,{variant:"outline",size:"icon",className:"lg:hidden",children:n.jsx(Zk,{className:"h-4 w-4"})})}),n.jsxs(z1,{side:"left",className:"w-80",children:[n.jsx(q1,{children:n.jsx(W1,{children:"Inventory Workflow"})}),n.jsx(j,{})]})]})]}),!S&&n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between space-y-2 sm:space-y-0 bg-white p-4 rounded-lg border",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="platform"?"text-blue-600":["business-unit","period-type","range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="platform"?"bg-blue-100 text-blue-600":["business-unit","period-type","range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"1"}),n.jsx("span",{className:"text-sm font-medium",children:"Platform"})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="business-unit"?"text-blue-600":["period-type","range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="business-unit"?"bg-blue-100 text-blue-600":["period-type","range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"2"}),n.jsx("span",{className:"text-sm font-medium",children:"Business Unit"})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="period-type"?"text-blue-600":["range","upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="period-type"?"bg-blue-100 text-blue-600":["range","upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"3"}),n.jsx("span",{className:"text-sm font-medium",children:"Period Type"})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="range"?"text-blue-600":["upload","preview"].includes(e)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="range"?"bg-blue-100 text-blue-600":["upload","preview"].includes(e)?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"4"}),n.jsx("span",{className:"text-sm font-medium",children:"Date Range"})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="upload"?"text-blue-600":e==="preview"?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="upload"?"bg-blue-100 text-blue-600":e==="preview"?"bg-green-100 text-green-600":"bg-gray-100"}`,children:"5"}),n.jsx("span",{className:"text-sm font-medium",children:"Upload"})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:`flex items-center space-x-2 ${e==="preview"?"text-blue-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e==="preview"?"bg-blue-100 text-blue-600":"bg-gray-100"}`,children:"6"}),n.jsx("span",{className:"text-sm font-medium",children:"Preview"})]})})]})}),S&&n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center",children:e==="platform"?"1":e==="business-unit"?"2":e==="period-type"?"3":e==="range"?"4":e==="upload"?"5":"6"}),n.jsx("span",{className:"text-sm font-medium capitalize",children:e.replace("-"," ")})]}),v&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsxs("span",{className:"text-xs text-blue-600",children:[N,"%"]})]})]}),v&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]})}),e==="platform"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(ht,{className:"w-5 h-5"}),n.jsx("span",{children:"Select Platform"})]}),n.jsx(kt,{children:"Choose the platform for inventory data upload"})]}),n.jsx(be,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Oj.map(G=>{const Ae=G.icon;return n.jsx(ve,{className:`cursor-pointer transition-all hover:shadow-md ${r===G.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>we(G.id),children:n.jsx(be,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ae,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:G.name}),n.jsx("p",{className:"text-sm text-gray-600",children:G.description})]})]})})},G.id)})})})]}),e==="business-unit"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(Gm,{className:"w-5 h-5"}),n.jsx("span",{children:"Select Business Unit"})]}),n.jsxs(kt,{children:["Selected Platform: ",k==null?void 0:k.name," - Choose your business unit"]})]}),n.jsxs(be,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ie().map(G=>n.jsx(ve,{className:`cursor-pointer transition-all hover:shadow-md ${a===G.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>P(G.id),children:n.jsx(be,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Gm,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:G.name}),n.jsx("p",{className:"text-sm text-gray-600",children:G.description})]})]})})},G.id))}),n.jsx("div",{className:"mt-4 flex justify-start",children:n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]})})]})]}),e==="period-type"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"w-5 h-5"}),n.jsx("span",{children:"Select Period Type"})]}),n.jsxs(kt,{children:["Selected: ",k==null?void 0:k.name," - ",L==null?void 0:L.name," - Choose reporting period"]})]}),n.jsxs(be,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Fj.map(G=>{const Ae=G.icon;return n.jsx(ve,{className:`cursor-pointer transition-all hover:shadow-md ${o===G.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>F(G.id),children:n.jsx(be,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ae,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:G.name}),n.jsx("p",{className:"text-sm text-gray-600",children:G.description})]})]})})},G.id)})}),n.jsx("div",{className:"mt-4 flex justify-start",children:n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]})})]})]}),e==="range"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"w-5 h-5"}),n.jsx("span",{children:"Set Date Range"})]}),n.jsxs(kt,{children:[k==null?void 0:k.name," - ",L==null?void 0:L.name," - ",(M=Fj.find(G=>G.id===o))==null?void 0:M.name]})]}),n.jsx(be,{children:o==="daily"?n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Daily reports are ready for upload without date specification."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs(ue,{onClick:U,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx("span",{children:"Continue"}),n.jsx(ts,{className:"w-4 h-4"})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Se,{htmlFor:"startDate",children:"Start Date"}),n.jsx(ke,{id:"startDate",type:"date",value:c.startDate,onChange:G=>d(Ae=>({...Ae,startDate:G.target.value}))})]}),n.jsxs("div",{children:[n.jsx(Se,{htmlFor:"endDate",children:"End Date"}),n.jsx(ke,{id:"endDate",type:"date",value:c.endDate,onChange:G=>d(Ae=>({...Ae,endDate:G.target.value}))})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs(ue,{onClick:U,disabled:!c.startDate||!c.endDate,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx("span",{children:"Continue"}),n.jsx(ts,{className:"w-4 h-4"})]})]})]})})]}),e==="upload"&&n.jsxs(ve,{children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"w-5 h-5"}),n.jsx("span",{children:"Upload File"})]}),n.jsxs(kt,{children:["Upload your inventory file for ",k==null?void 0:k.name," - ",L==null?void 0:L.name]})]}),n.jsx(be,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 sm:p-8 text-center transition-colors ${y?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[n.jsx(cs,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-base sm:text-lg font-medium",children:"Choose file to upload"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:r==="amazon"?"CSV and XLSX files supported":"CSV files supported"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:r==="amazon"?".csv,.xlsx":".csv",onChange:q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:fe.isPending}),n.jsx(ue,{disabled:fe.isPending,className:"w-full sm:w-auto px-4 py-2",children:fe.isPending?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Processing..."})]}):"Browse Files"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between",children:[n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs(ue,{variant:"outline",onClick:ee,className:"flex items-center space-x-2 w-full sm:w-auto min-h-[44px]",children:[n.jsx(Hm,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Over"})]})]})]})})]}),e==="preview"&&h&&n.jsxs("div",{className:"flex flex-col min-h-0",children:[n.jsxs(ve,{className:"mb-4",children:[n.jsxs(Oe,{children:[n.jsxs(Me,{className:"flex items-center space-x-2",children:[n.jsx(on,{className:"w-5 h-5"}),n.jsx("span",{children:"Preview Inventory Data"})]}),n.jsxs(kt,{children:["Review the inventory data before importing to ",k==null?void 0:k.name," - ",L==null?void 0:L.name,n.jsx("br",{}),n.jsxs("span",{className:"font-medium text-blue-600",children:["Target Table: INV_",r==="jiomart"?"JioMart":r==="amazon"?"Amazon":"Blinkit","_",a.toUpperCase(),"_",o==="daily"?"Daily":"Range"]})]})]}),n.jsx(be,{children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:h.totalItems||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Total Records"})]}),r==="jiomart"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((J=h.summary)==null?void 0:J.totalSellableInventory)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Sellable Inventory"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:((_e=h.summary)==null?void 0:_e.totalUnsellableInventory)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-red-600",children:"Unsellable Inventory"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:((le=h.summary)==null?void 0:le.totalIntransit)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-yellow-600",children:"In Transit"})]})]}):r==="amazon"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((pe=h.summary)==null?void 0:pe.totalUnitsAvailable)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Total Units Received"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:((He=h.summary)==null?void 0:He.totalInboundQuantity)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Open PO Quantity"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:["",(((Ye=h.summary)==null?void 0:Ye.totalValue)||0).toLocaleString()]}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"Net Received Value"})]})]}):r==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((Pt=h.summary)==null?void 0:Pt.totalWarehouseQty)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Warehouse Qty"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:((pt=h.summary)==null?void 0:pt.totalOpenPoQty)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Open PO Qty"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:["",(((rr=h.summary)==null?void 0:rr.totalPotentialGmvLoss)||0).toLocaleString()]}),n.jsx("div",{className:"text-xs sm:text-sm text-red-600",children:"Potential Loss"})]})]}):r==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((mt=h.summary)==null?void 0:mt.totalLiveOnWebsite)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Live on Website"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:((We=h.summary)==null?void 0:We.totalSales7D)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"7 Days Sales"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:((nr=h.summary)==null?void 0:nr.totalB2bScheduled)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"B2B Scheduled"})]})]}):r==="zepto"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((cr=h.summary)==null?void 0:cr.totalUnits)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Total Units"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:((Nr=h.summary)==null?void 0:Nr.uniqueZeptoCities)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Cities"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:((br=h.summary)==null?void 0:br.uniqueSKUs)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"Unique SKUs"})]})]}):r==="bigbasket"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((te=h.summary)==null?void 0:te.totalSOH)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Stock on Hand"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:["",(((he=h.summary)==null?void 0:he.totalSOHValue)||0).toLocaleString()]}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"SOH Value"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:((je=h.summary)==null?void 0:je.uniqueBrands)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-600",children:"Unique Brands"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:((Ke=h.summary)==null?void 0:Ke.totalStockOnHand)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:"Stock on Hand"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:(($e=h.summary)==null?void 0:$e.totalAvailableQuantity)||0}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-600",children:"Available"})]}),n.jsxs("div",{className:"p-3 sm:p-4 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:(((Ie=h.summary)==null?void 0:Ie.totalDamagedQuantity)||0)+(((Xe=h.summary)==null?void 0:Xe.totalExpiredQuantity)||0)}),n.jsx("div",{className:"text-xs sm:text-sm text-red-600",children:"Damaged + Expired"})]})]})]})})]}),n.jsxs(ve,{className:"mb-4",children:[n.jsxs(Oe,{children:[n.jsx(Me,{className:"text-base sm:text-lg",children:"Inventory Data Preview"}),n.jsxs(kt,{children:["Review all ",((K=h.items)==null?void 0:K.length)||0," inventory records from your uploaded file"]})]}),n.jsx(be,{className:"p-0",children:h.items&&h.items.length>0&&n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsx("div",{className:"max-h-96 sm:max-h-[500px] overflow-auto",children:n.jsxs(Hn,{children:[n.jsx(Kn,{className:"sticky top-0 bg-white z-10 border-b",children:n.jsxs(Yt,{children:[r==="jiomart"&&n.jsx(X,{className:"w-32 border-r",children:"RFC ID"}),n.jsx(X,{className:"w-40 border-r",children:r==="amazon"?"ASIN":r==="swiggy"?"SKU Code":r==="flipkart"?"SKU":r==="zepto"?"SKU Code":"SKU ID"}),n.jsx(X,{className:"min-w-[250px] border-r",children:r==="jiomart"?"Title":r==="amazon"?"Product Title":r==="swiggy"?"SKU Description":r==="flipkart"?"Product Title":r==="zepto"||r==="bigbasket"?"SKU Name":"Product Name"}),n.jsx(X,{className:"w-32 border-r",children:r==="amazon"?"Brand":r==="swiggy"?"Storage Type":r==="flipkart"?"Brand":r==="zepto"||r==="bigbasket"?"City":"Category"}),r==="blinkit"&&n.jsx(X,{className:"w-32 border-r",children:"Brand"}),r==="amazon"&&n.jsx(X,{className:"w-32 border-r",children:"Condition"}),r==="swiggy"&&n.jsx(X,{className:"w-32 border-r",children:"L1 Category"}),r==="swiggy"&&n.jsx(X,{className:"w-32 border-r",children:"L2 Category"}),r==="swiggy"&&n.jsx(X,{className:"w-32 border-r",children:"City"}),r==="swiggy"&&n.jsx(X,{className:"w-32 border-r",children:"Facility"}),r==="flipkart"&&n.jsx(X,{className:"w-32 border-r",children:"Warehouse"}),r==="zepto"&&n.jsx(X,{className:"w-32 border-r",children:"Brand"}),r==="zepto"&&n.jsx(X,{className:"w-32 border-r",children:"Category"}),r==="zepto"&&n.jsx(X,{className:"w-32 border-r",children:"EAN"}),r==="bigbasket"&&n.jsx(X,{className:"w-32 border-r",children:"Brand"}),r==="bigbasket"&&n.jsx(X,{className:"w-32 border-r",children:"Weight"}),r==="bigbasket"&&n.jsx(X,{className:"w-32 border-r",children:"Category"}),n.jsx(X,{className:"w-24 border-r",children:r==="jiomart"?"Status":r==="amazon"?"Units Available":r==="swiggy"?"Days on Hand":r==="flipkart"?"Price":r==="zepto"?"Units":r==="bigbasket"?"Pack Type":"Size"}),r==="jiomart"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"Sellable"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Unsellable"}),n.jsx(X,{className:"text-right w-24 border-r",children:"In Transit"}),n.jsx(X,{className:"text-right w-24",children:"Orders"})]}):r==="amazon"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"Open PO Qty"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Lead Time (days)"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Unsellable Units"}),n.jsx(X,{className:"text-right w-24",children:"Net Received Value"})]}):r==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"Warehouse Qty"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Open PO Qty"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Potential Loss"}),n.jsx(X,{className:"text-right w-24",children:"Business Category"})]}):r==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"Live on Website"}),n.jsx(X,{className:"text-right w-24 border-r",children:"7D Sales"}),n.jsx(X,{className:"text-right w-24 border-r",children:"30D Sales"}),n.jsx(X,{className:"text-right w-24",children:"B2B Scheduled"})]}):r==="zepto"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"MRP ()"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Selling Price"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Pack Size"}),n.jsx(X,{className:"text-right w-24",children:"Report Date"})]}):r==="bigbasket"?n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"SOH"}),n.jsx(X,{className:"text-right w-24 border-r",children:"SOH Value ()"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Mid Category"}),n.jsx(X,{className:"text-right w-24",children:"Leaf Category"})]}):n.jsxs(n.Fragment,{children:[n.jsx(X,{className:"text-right w-24 border-r",children:"Stock"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Available"}),n.jsx(X,{className:"text-right w-24 border-r",children:"Reserved"}),n.jsx(X,{className:"text-right w-24",children:"Damaged"})]})]})}),n.jsx(Gn,{children:h.items.map((G,Ae)=>n.jsxs(Yt,{className:"hover:bg-gray-50",children:[r==="jiomart"&&n.jsx(Z,{className:"font-mono text-xs border-r",children:G.rfc_id}),n.jsx(Z,{className:"font-mono text-xs border-r",children:r==="amazon"?G.asin:r==="swiggy"?G.sku_code:r==="flipkart"?G.sku:r==="zepto"?G.skuCode:r==="bigbasket"?G.sku_id:G.sku_id||G.fnsku}),n.jsx(Z,{className:"border-r",title:r==="jiomart"?G.title:r==="amazon"?G.product_name:r==="swiggy"?G.sku_description:r==="flipkart"?G.title:r==="zepto"?G.skuName:r==="bigbasket"?G.sku_name:G.product_name,children:n.jsx("div",{className:"max-w-[250px] truncate text-sm",children:r==="jiomart"?G.title:r==="amazon"?G.product_name:r==="swiggy"?G.sku_description:r==="flipkart"?G.title:r==="zepto"?G.skuName:r==="bigbasket"?G.sku_name:G.product_name})}),n.jsx(Z,{className:"text-sm border-r",children:r==="amazon"?G.brand:r==="swiggy"?G.storage_type:r==="flipkart"?G.brand:r==="zepto"||r==="bigbasket"?G.city:G.category}),r==="blinkit"&&n.jsx(Z,{className:"text-sm border-r",children:G.brand}),r==="amazon"&&n.jsx(Z,{className:"text-sm border-r",children:G.condition}),r==="swiggy"&&n.jsx(Z,{className:"text-sm border-r",children:G.l1_category}),r==="swiggy"&&n.jsx(Z,{className:"text-sm border-r",children:G.l2_category}),r==="swiggy"&&n.jsx(Z,{className:"text-sm border-r",children:G.city}),r==="swiggy"&&n.jsx(Z,{className:"text-sm border-r",children:G.facility_name}),r==="flipkart"&&n.jsx(Z,{className:"text-sm border-r",children:G.warehouseId}),r==="zepto"&&n.jsx(Z,{className:"text-sm border-r",children:G.brand}),r==="zepto"&&n.jsx(Z,{className:"text-sm border-r",children:G.category}),r==="zepto"&&n.jsx(Z,{className:"text-sm border-r",children:G.ean}),r==="bigbasket"&&n.jsx(Z,{className:"text-sm border-r",children:G.brand_name}),r==="bigbasket"&&n.jsx(Z,{className:"text-sm border-r",children:G.sku_weight}),r==="bigbasket"&&n.jsx(Z,{className:"text-sm border-r",children:G.top_category_name}),n.jsx(Z,{className:"border-r",children:r==="jiomart"?n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${G.product_status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.product_status}):r==="amazon"?n.jsx("span",{className:"text-sm font-mono",children:parseInt(G.units_available||"0").toLocaleString()}):r==="swiggy"?n.jsx("span",{className:"text-sm",children:G.days_on_hand||0}):r==="flipkart"?n.jsxs("span",{className:"text-sm",children:["",parseInt(G.flipkartSellingPrice||"0").toLocaleString()]}):r==="zepto"?n.jsx("span",{className:"text-sm font-mono",children:G.units||0}):r==="bigbasket"?n.jsx("span",{className:"text-sm",children:G.sku_pack_type}):n.jsx("span",{className:"text-sm",children:G.size})}),r==="jiomart"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.total_sellable_inv||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.total_unsellable_inv||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.mtd_fwd_intransit||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm",children:parseInt(G.mtd_order_count||"0").toLocaleString()})]}):r==="amazon"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.inbound_quantity||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseFloat(G.last_updated_at||"0").toFixed(1)}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.unfulfillable_quantity||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm",children:G.total_value?`${parseFloat(G.total_value).toLocaleString()}`:"0"})]}):r==="swiggy"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.warehouse_qty_available||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.open_po_quantity||"0").toLocaleString()}),n.jsxs(Z,{className:"text-right text-sm border-r",children:["",parseFloat(G.potential_gmv_loss||"0").toLocaleString()]}),n.jsx(Z,{className:"text-sm",children:G.business_category})]}):r==="flipkart"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.liveOnWebsite||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.sales7D||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.sales30D||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm",children:parseInt(G.b2bScheduled||"0").toLocaleString()})]}):r==="zepto"?n.jsxs(n.Fragment,{children:[n.jsxs(Z,{className:"text-right text-sm border-r",children:["",parseFloat(G.mrp||"0").toLocaleString()]}),n.jsxs(Z,{className:"text-right text-sm border-r",children:["",parseFloat(G.sellingPrice||"0").toLocaleString()]}),n.jsx(Z,{className:"text-right text-sm border-r",children:G.packSize||"-"}),n.jsx(Z,{className:"text-right text-sm",children:G.reportDate?Ot(new Date(G.reportDate),"MMM dd"):"-"})]}):r==="bigbasket"?n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseFloat(G.soh||"0").toLocaleString()}),n.jsxs(Z,{className:"text-right text-sm border-r",children:["",parseFloat(G.soh_value||"0").toLocaleString()]}),n.jsx(Z,{className:"text-sm border-r",children:G.mid_category_name}),n.jsx(Z,{className:"text-sm",children:G.leaf_category_name})]}):n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.stock_on_hand||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.available_quantity||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm border-r",children:parseInt(G.reserved_quantity||"0").toLocaleString()}),n.jsx(Z,{className:"text-right text-sm",children:parseInt(G.damaged_quantity||"0").toLocaleString()})]})]},Ae))})]})})})})]}),n.jsx(ve,{className:"mt-4",children:n.jsx(be,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[n.jsxs(ue,{variant:"outline",onClick:oe,className:"flex items-center justify-center space-x-2 w-full sm:w-auto min-h-[48px]",size:"lg",children:[n.jsx($t,{className:"w-4 h-4"}),n.jsx("span",{children:"Back"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(ue,{variant:"outline",onClick:ee,className:"flex items-center justify-center space-x-2 w-full sm:w-auto min-h-[48px]",size:"lg",children:[n.jsx(Hm,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Over"})]}),n.jsx(ue,{onClick:()=>se.mutate(),disabled:se.isPending||!((de=h.items)!=null&&de.length),className:"bg-green-600 hover:bg-green-700 text-white flex items-center justify-center space-x-2 px-6 py-3 text-base sm:text-lg font-semibold shadow-lg w-full sm:w-auto min-h-[48px]",size:"lg",children:se.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),n.jsx("span",{children:"Importing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Import to Database"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]})})]})]})})})]})]})}function oie(){const[,e]=Fs(),{toast:t}=Mr(),r=Wr(),[s,a]=x.useState(!1),[i,o]=x.useState({pf_id:"",pf_itemcode:"",pf_itemname:"",sap_id:""}),[l,c]=x.useState({}),{data:d=[]}=Dt({queryKey:["/api/platforms"]}),u=async(m,g,w)=>{if(!(!m||!g&&!w))try{const _=await(await fetch(`/api/pf-items/check-duplicate?pf_id=${m}&pf_itemcode=${encodeURIComponent(g||"")}&pf_itemname=${encodeURIComponent(w||"")}`)).json(),N={};_.codeExists&&g&&(N.pf_itemcode=`Item code '${g}' already exists for this platform`),_.nameExists&&w&&(N.pf_itemname=`Item name '${w}' already exists for this platform`),c(T=>({...T,...N}))}catch(v){console.error("Error checking for duplicates:",v)}},f=zt({mutationFn:async m=>{const g=await fetch("/api/pf-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const w=await g.json();throw new Error(w.message||"Failed to create item")}return g.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/pf-items"]}),r.invalidateQueries({queryKey:["/api/items"]}),t({title:"Success",description:"PF Item created successfully"}),o({pf_id:"",pf_itemcode:"",pf_itemname:"",sap_id:""}),c({})},onError:m=>{console.error("PF Item creation failed:",m);const g=m.message.includes("already exists")||m.message.includes("duplicate");t({title:g?"Duplicate Item":"Error",description:m.message||"Failed to create PF Item",variant:"destructive"})}}),h=()=>{const m={};return i.pf_id.trim()||(m.pf_id="Platform is required"),i.pf_itemcode.trim()||(m.pf_itemcode="PF Item Code is required"),i.pf_itemname.trim()||(m.pf_itemname="PF Item Name is required"),i.sap_id.trim()||(m.sap_id="SAP Item Code is required"),c(m),Object.keys(m).length===0},p=async m=>{if(m.preventDefault(),s||f.isPending){console.log(" Form submission already in progress, ignoring duplicate submission");return}if(!h()){t({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}a(!0);try{console.log(" Submitting PF Item creation:",i),await f.mutateAsync(i)}finally{a(!1)}},y=m=>g=>{const w=g.target.value;if(o(v=>({...v,[m]:w})),l[m]&&c(v=>({...v,[m]:void 0})),i.pf_id&&(m==="pf_itemcode"||m==="pf_itemname")){const v=setTimeout(()=>{const _=m==="pf_itemcode"?{...i,pf_itemcode:w}:{...i,pf_itemname:w};_.pf_id&&(_.pf_itemcode||_.pf_itemname)&&u(_.pf_id,_.pf_itemcode,_.pf_itemname)},800);return()=>clearTimeout(v)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[n.jsx("header",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 shadow-lg border-b border-blue-100 dark:border-gray-700 px-6 py-6",children:n.jsx("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(ue,{variant:"outline",onClick:()=>e("/inventory"),className:"hover:bg-blue-50",children:[n.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to Inventory"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"PF Item Creation"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Create a new platform item"})]})]})})}),n.jsx("main",{className:"max-w-4xl mx-auto p-6",children:n.jsxs(ve,{className:"shadow-xl border-0",children:[n.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-b",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(Me,{className:"text-2xl",children:"New PF Item"}),n.jsx(kt,{children:"Fill in the details to create a new platform item"})]})]})}),n.jsx(be,{className:"p-8",children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Se,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Platform ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ur,{value:i.pf_id,onValueChange:m=>{o(g=>({...g,pf_id:m})),l.pf_id&&c(g=>({...g,pf_id:void 0})),m&&(i.pf_itemcode||i.pf_itemname)&&setTimeout(()=>{u(m,i.pf_itemcode,i.pf_itemname)},100)},disabled:s||f.isPending,children:[n.jsx(Or,{className:`h-12 ${l.pf_id?"border-red-500":""}`,children:n.jsx(Vr,{placeholder:"Select Platform"})}),n.jsx(Fr,{children:d.map(m=>n.jsx(ft,{value:m.id.toString(),children:m.pf_name},m.id))})]}),l.pf_id&&n.jsx("p",{className:"text-sm text-red-500",children:l.pf_id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Se,{htmlFor:"pf_itemcode",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["PF Item Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ke,{id:"pf_itemcode",type:"text",placeholder:"Enter PF Item Code",value:i.pf_itemcode,onChange:y("pf_itemcode"),className:`h-12 ${l.pf_itemcode?"border-red-500":""}`,disabled:s||f.isPending}),l.pf_itemcode&&n.jsx("p",{className:"text-sm text-red-500",children:l.pf_itemcode})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Se,{htmlFor:"pf_itemname",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["PF Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ke,{id:"pf_itemname",type:"text",placeholder:"Enter PF Item Name",value:i.pf_itemname,onChange:y("pf_itemname"),className:`h-12 ${l.pf_itemname?"border-red-500":""}`,disabled:s||f.isPending}),l.pf_itemname&&n.jsx("p",{className:"text-sm text-red-500",children:l.pf_itemname})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Se,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["SAP Item Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ZF,{value:i.sap_id,onChange:(m,g)=>{o(w=>({...w,sap_id:m})),l.sap_id&&c(w=>({...w,sap_id:void 0}))},placeholder:"Search and select SAP item code...",className:`h-12 ${l.sap_id?"border-red-500":""}`}),l.sap_id&&n.jsx("p",{className:"text-sm text-red-500",children:l.sap_id})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[n.jsx(ue,{type:"button",variant:"outline",onClick:()=>e("/inventory"),disabled:s||f.isPending,children:"Cancel"}),n.jsx(ue,{type:"submit",disabled:s||f.isPending,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s||f.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-white mr-2"}),"Creating Item..."]}):n.jsxs(n.Fragment,{children:[n.jsx($f,{className:"h-4 w-4 mr-2"}),"Create Item"]})})]})]})})]})})]})}function lie(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(ve,{className:"w-full max-w-md mx-4",children:n.jsxs(be,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Qr,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function cie(){return n.jsxs(E8,{children:[n.jsx(Jo,{path:"/auth",component:BH}),n.jsx(ar,{path:"/",component:()=>n.jsx(ur,{children:n.jsx(qH,{})})}),n.jsx(ar,{path:"/profile",component:()=>n.jsx(zH,{})}),n.jsx(ar,{path:"/platform-po",component:()=>n.jsx(ur,{children:n.jsx(Kre,{})})}),n.jsx(ar,{path:"/po-details/:id",component:()=>n.jsx(ur,{children:n.jsx(Xre,{})})}),n.jsx(ar,{path:"/po-edit/:id",component:()=>n.jsx(ur,{children:n.jsx(Zre,{})})}),n.jsx(ar,{path:"/flipkart-grocery-upload",component:()=>n.jsx(ur,{children:n.jsx(tne,{})})}),n.jsx(ar,{path:"/flipkart-grocery-pos",component:()=>n.jsx(ur,{children:n.jsx(rne,{})})}),n.jsx(ar,{path:"/flipkart-grocery-po/:id/edit",component:()=>n.jsx(ur,{children:n.jsx(Kne,{})})}),n.jsx(ar,{path:"/flipkart-grocery-po/:id",component:()=>n.jsx(ur,{children:n.jsx(nne,{})})}),n.jsx(ar,{path:"/zepto-upload",component:()=>n.jsx(ur,{children:n.jsx(Gne,{})})}),n.jsx(ar,{path:"/zepto-pos",component:()=>n.jsx(ur,{children:n.jsx(Qne,{})})}),n.jsx(ar,{path:"/zepto-pos/:id",component:()=>n.jsx(ur,{children:n.jsx(Yne,{})})}),n.jsx(ar,{path:"/zepto-pos/edit/:id",component:()=>n.jsx(ur,{children:n.jsx(Jo,{path:"/zepto-pos/edit/:id",children:e=>n.jsx(Zne,{poId:e.id})})})}),n.jsx(Jo,{path:"/city-mall-upload",children:()=>(window.location.href="/unified-po-upload",null)}),n.jsx(ar,{path:"/city-mall-pos",component:()=>n.jsx(ur,{children:n.jsx(Jne,{})})}),n.jsx(ar,{path:"/city-mall-pos/:id",component:()=>n.jsx(ur,{children:n.jsx(ese,{})})}),n.jsx(ar,{path:"/blinkit-upload",component:()=>n.jsx(ur,{children:n.jsx(tse,{})})}),n.jsx(ar,{path:"/blinkit-pos",component:()=>n.jsx(ur,{children:n.jsx(rse,{})})}),n.jsx(ar,{path:"/swiggy-upload",component:()=>n.jsx(ur,{children:n.jsx(nse,{})})}),n.jsx(ar,{path:"/unified-po-upload",component:()=>n.jsx(ur,{children:n.jsx(sse,{})})}),n.jsx(ar,{path:"/sap-sync",component:()=>n.jsx(ur,{children:n.jsx(ase,{})})}),n.jsx(ar,{path:"/distributor-po",component:()=>n.jsx(ur,{children:n.jsx(sie,{})})}),n.jsx(ar,{path:"/secondary-sales",component:()=>n.jsx(ur,{children:n.jsx(aie,{})})}),n.jsx(ar,{path:"/inventory",component:()=>n.jsx(ur,{children:n.jsx(iie,{})})}),n.jsx(ar,{path:"/pf-item-creation",component:()=>n.jsx(ur,{children:n.jsx(oie,{})})}),n.jsx(ar,{path:"/sql-query",component:()=>n.jsx(ur,{children:n.jsx(yse,{})})}),n.jsx(Jo,{component:lie})]})}const Ij="/Jivo-Ecom_App";function die(){return console.log(" App component mounting..."),console.log(" Environment:","production"),console.log(" Base path:",Ij),console.log(" Is production:",!0),n.jsx(jD,{children:n.jsx(H8,{client:xi,children:n.jsx(CU,{children:n.jsx(mz,{children:n.jsx(EU,{children:n.jsxs(rk,{base:Ij,children:[n.jsx(e9,{}),n.jsx(cie,{})]})})})})})})}console.log(" Starting React application...");console.log(" Environment:","production");console.log(" Base URL:","/Jivo-Ecom_App/");const u5=document.getElementById("root");if(!u5)throw console.error(" Root element not found!"),new Error("Root element with id 'root' not found in DOM");console.log(" Root element found, creating React root...");const uie=W4(u5);console.log(" React root created, rendering App...");uie.render(n.jsx(die,{}));console.log(" App rendered successfully!");
